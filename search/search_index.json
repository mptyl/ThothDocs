{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benvenuti in ThothAI","text":"<p>ThothAI \u00e8 un'applicazione che permette, utilizzando l'AI, di produrre lo statement SQL in grado di estrarre le informazioni richieste da un database relazionale. Le applicazioni di questo tipo sono denominate <code>Text-to-SQL</code>.</p> <p> Figura 1 \u2014 Home di ThothAI. Elementi principali:</p> <ul> <li>barra laterale con:<ul> <li>selettore del Workspace;</li> <li>tasto 'Reset';</li> <li>toggle: \"Show SQL\", \"Explain SQL\", \"Belt and Suspenders\", \"Treat void result as error\";</li> </ul> </li> <li>collegamenti a:<ul> <li>\"Settings\";</li> <li>\"About\";</li> <li>\"Documentation\";</li> <li>\"Admin\";</li> <li>\"Home\";</li> </ul> </li> <li>area centrale con il benvenuto e le feature card;</li> <li>campo di input in basso per porre le domande (prompt principale).</li> </ul> <p>Per un tour dell'interfaccia, vedere la Guida al Frontend.</p> <p>Dal punto di vista tecnico e fuunzionale, ThothAI \u00e8 una libera rielaborazione di spunti, suggerimenti e codice pubblicati in papers scientifici o su GitHub da parte di ricercatori di tutto il mondo.  In particolare il processo seguito da ThothAI si basa principalmente sul framework CHESS, a cui va il mio speciale ringraziamento per la disponibilit\u00e0 a pubblicare prompts e codice a cui ThothAI ha attinto a mani basse. </p> <pre><code>@article{talaei2024chess,\n  title={CHESS: Contextual Harnessing for Efficient SQL Synthesis},\n  author={Talaei, Shayan and Pourreza, Mohammadreza and Chang, Yu-Chen and Mirhoseini, Azalia and Saberi, Amin},\n  journal={arXiv preprint arXiv:2405.16755},\n  year={2024}\n}\n</code></pre> <p>ThothAI \u00e8 rilasciato con licenza Apache 2.0</p>"},{"location":"#caratteristiche-di-thothai","title":"Caratteristiche di ThothAI","text":"<p>Ci\u00f2 che caratterizza ThothAI \u00e8:</p> <ul> <li>un'architettura multiagente e RAG, con un database vettoriale utilizzato per la conservazione dei metadati necessari per la trasformazione della richiesta in SQL;</li> <li>la disponibilit\u00e0 di una interfaccia utente (<code>ThothUI</code>) che \u00e8 allo stesso tempo adattabile e molto semplice da usare;</li> <li> <p>la possibilit\u00e0 di indicare, tra i parametri di configurazione:</p> <ol> <li>gli utenti abilitati all'uso dell'applicazione e le loro autorizzazioni;</li> <li>i database da interrogare e le collections del database vettoriale associate per la gestione RAG;</li> <li>i modelli LLM da utilizzare nei vari Agenti a cui sono affidati i compiti necessari per generare un SQL a partire da un testo in linguaggio naturale;</li> </ol> </li> <li> <p>l'utilizzo di un'applicazione specifica di backend per la gestione:</p> <ol> <li>dei parametri di configurazione;</li> <li>dei metadati del database da interrogare (tables, columns, relationships);</li> <li>delle descrizioni di tabelle e colonne, che, se non disponibili, possono essere generate tramite AI;</li> <li>del preprocessing del database da esaminare per creare hash e vettori che facilitino il processo di generazione del SQL;</li> <li>di evidenze che possano chiarire termini complessi o suggerire interpretazioni non intuitive e, soprattutto, non facilmente ricavabili dai nomi dei campi e dalle descrizioni di campi e tabelle;</li> <li>di cosiddetti golden SQLs, cio\u00e8 SQL che si sono sperimentati come adatti a rispondere alle domande associate. I Golden SQL memorizzati fanno da guida e da esempio per le richieste che verranno effettuate;</li> </ol> </li> <li> <p>l'utilizzo di un database vettoriale per la conservazione delle evidenze e dei golden SQLs, che pu\u00f2 essere alimentato direttamente dagli utenti autorizzati;</p> </li> <li>l'ampio uso di LLM, anche di piccola o media dimensione, per effettuare le varie fasi del workflow di generazione del SQL che devono essere effettuate.  ThothAI permette di definire su database gli attributi degli LLM da utilizzare, rendendo semplice l'adeguamento dell'applicazione ai futuri sviluppi del mondo dell'AI, che vede ormai l'annuncio quasi settimanale di nuovi modelli;</li> <li>la possibilit\u00e0 di adattare il processo di generazione alla complessit\u00e0 e alla dimensione del proprio schema di database. In ThothAI, infatti, la generazione dello SQL avviene prima di tutto con un gruppo di LLM definiti Basic, cio\u00e8 semplici, veloci ed economici. Qualora questi non dovessero essere in grado di generare uno SQL considerato abbastanza valido dagli Agenti valutatori finali, il processo scala su LLM di tipo Advanced ed infine di tipo Expert, che possono essere basati sui modelli \"reasoning\" pi\u00f9 potenti sul mercato. Quali modelli utilizzare come Basic, Advanced ed Expert \u00e8 una scelta lasciata ai responsabili della configurazione di ThothAI, che si baseranno su considerazioni di trade-off tra efficacia e costo.</li> </ul>"},{"location":"#1-come-utilizzare-thothai","title":"1 - Come utilizzare ThothAI","text":"<ol> <li>Seguire le istruzioni di installazione.</li> <li>Prendere confidenza con l'applicazione utilizzando il Quick Start</li> <li>Leggere la pagina dello User Manual dedicata a una panoramica sul processo di setup</li> <li>Configurare l'applicazione definendo prima di tutto i propri gruppi e i propri utenti</li> <li>Modificare, se necessario, la lista dei modelli di AI (LLM) da utilizzare nell'esecuzione del processo</li> <li>Adeguare, se necessario, gli Agent configurandoli come descritto in questa pagina</li> <li>Impostare il database vettoriale destinato a contenere i metadati del database relazionale da interrogare</li> <li>Impostare i parametri per la configurazione del database da interrogare e completarne la descrizione di dettaglio con tables, columns, relationships, commenti e scope</li> <li>Impostare un Setting specifico per l'attivit\u00e0 che si vuole condurre nel caso quello di Default non dovesse essere adeguato</li> <li>Impostare il Workspace per connettere un insieme di utenti, un database da interrogare, un insieme di Agent da utilizzare e un Setting </li> <li>Eseguire le attivit\u00e0 di Preprocessing del database </li> <li>Andare sul frontend all'indirizzo http://localhost:3040 e operare come indicato nelle seguenti brevi istruzioni</li> </ol> <p>Il backend, oltre a configurare i Model e gli Agent, permette di: - leggere, dal database che sar\u00e0 oggetto di interrogazione in linguaggio naturale, tutti gli elementi che ne costituiscono lo schema (tables, columns, PK, FK) al fine di avere una \"fotografia\" in ThothAI su cui lavorare - generare i commenti per colonne e tabelle del database avvalendosi dell'AI al fine di arricchire lo schema che verr\u00e0 sottoposto all'Agente incaricato di generare lo SQL - generare lo scope del Database, che servir\u00e0 al frontend per capire se la domanda \u00e8 pertinente o meno al database su cui si sta lavorando - generare definizioni di FK qualora queste non siano presenti sul database, ma siano derivabili dal naming utilizzato - generare una documentazione del database, comprensiva di uno schema ERD - generare un report riguardante i campi che, per nome e descrizione, contengono probabilmente dati \"sensibili\" ai fini del GDPR</p>"},{"location":"#2-i-log-delle-attivita-svolte","title":"2 - I log delle attivit\u00e0 svolte","text":"<p>Esaminare quanto indicato nella pagina dedicata al Log Management</p>"},{"location":"#3-la-roadmap","title":"3 - La Roadmap","text":"<p>La Roadmap di sviluppo di ThothAI \u00e8 qui descritta</p>"},{"location":"#4-riferimenti-a-prodotti-e-papers","title":"4 - Riferimenti a prodotti e papers","text":"<p>La pagina sui Riferimenti raccoglie  i prodotti, gli studi e i papers che hanno ispirato ThothAI</p>"},{"location":"#5-il-reference-manual","title":"5 - Il Reference Manual","text":"<p>Approfondimenti tecnici sono disponibili nel Reference Manual</p>"},{"location":"#6-cose-il-text-to-sql","title":"6 - Cos'\u00e8 il Text-to-SQL","text":"<p>Per approfondimento sulle tecniche raccolte sotto il nome <code>Text-to-SQL</code> leggere questa pagina</p>"},{"location":"references/","title":"References","text":""},{"location":"text-to-SQL/","title":"Text-to-SQL","text":""},{"location":"text-to-SQL/#1-cose-il-text-to-sql","title":"1 - Cos'e il Text-to-SQL","text":"<p>Il text-to-SQL e una tecnologia che permette di convertire automaticamente domande o richieste espresse in linguaggio naturale in query SQL strutturate. Questa tecnologia rappresenta un ponte tra l'utente finale e i database, eliminando la necessit\u00e0 di conoscere la sintassi SQL per interrogare i dati. Per approfondimenti sulle potenzialit\u00e0 e i limiti del text-to-SQL, vedere la pagina specifica</p>"},{"location":"text-to-SQL/#11-caratteristiche-fondamentali","title":"1.1 -  Caratteristiche fondamentali:","text":"<ol> <li>Comprensione del linguaggio naturale: L'applicazione deve essere in grado di interpretare domande formulate nella lingua utilizzata dall'utente e comprenderne l'intento</li> <li>Mappatura semantica: Deve collegare i concetti espressi nel linguaggio naturale agli elementi del database (tabelle, colonne, relazioni)</li> <li>Generazione di SQL valido: Deve produrre query SQL sintatticamente corrette e semanticamente appropriate</li> <li>Gestione del contesto: Deve comprendere il dominio specifico e la struttura del database per fornire risultati accurati</li> </ol>"},{"location":"text-to-SQL/#12-vantaggi-principali","title":"1.2 -  Vantaggi principali:","text":"<ul> <li>Permette a utenti non tecnici di interrogare database complessi anche quando non si hanno a disposizione strumenti di Business Intelligence predisposti allo scopo</li> <li>Riduce il tempo necessario per formulare query complesse</li> <li>Minimizza gli errori di sintassi SQL</li> <li>Rende l'analisi dei dati accessibile a un pubblico piu ampio</li> </ul>"},{"location":"text-to-SQL/#2-le-principali-difficolta-del-text-to-sql","title":"2 - Le principali difficolt\u00e0 del Text-to-SQL","text":"<p>Sebbene il <code>Text-to-SQL</code> sia una tecnologia promettente, per ottenere risultati soddisfacenti \u00e8 necessario superare diverse difficolt\u00e0.</p>"},{"location":"text-to-SQL/#21-problemi-di-contesto-e-documentazione-dello-schema","title":"2.1 Problemi di contesto e documentazione dello schema","text":"<p>Documentazione insufficiente dello schema: </p> <ul> <li>Nomi dei campi poco descrittivi: Spesso i database utilizzano abbreviazioni, codici o convenzioni di naming che non sono immediatamente comprensibili (es. \"cd_cli\" invece di \"codice_cliente\")</li> <li>Lingua non inglese: Molti database sono progettati con nomi di tabelle e campi in lingue diverse dall'inglese, creando difficolt\u00e0 per i modelli AI addestrati principalmente su testi inglesi</li> <li>Mancanza di commenti: Assenza di documentazione tecnica che spieghi il significato e l'uso dei vari campi</li> <li>Terminologia specifica del dominio: Presenza di \"jargon\" aziendale o settoriale che richiede conoscenze specifiche del contesto di business</li> <li>Relazioni implicite: Mancanza di Foreign Keys esplicitamente definite, rendendo difficile comprendere le relazioni tra le tabelle</li> </ul>"},{"location":"text-to-SQL/#21-limitazioni-nella-comprensione-dei-dati","title":"2.1 -  Limitazioni nella comprensione dei dati","text":"<p>Mancanza di informazioni sui valori:</p> <ul> <li>Assenza di esempi dei valori contenuti nei campi, che potrebbero aiutare a comprendere meglio il significato e l'uso delle colonne</li> <li>Difficolt\u00e0 nel comprendere i domini di valori possibili e le loro relazioni semantiche</li> </ul>"},{"location":"text-to-SQL/#22-problemi-di-scalabilita","title":"2.2 -  Problemi di scalabilit\u00e0","text":"<p>Dimensioni dello schema:</p> <ul> <li>Database con molte tabelle e colonne possono \"confondere\" i modelli AI pi\u00f9 piccoli</li> <li>Difficolt\u00e0 nel mantenere il contesto quando lo schema \u00e8 molto ampio</li> <li>Necessit\u00e0 di strategie di selezione intelligente delle tabelle rilevanti per una specifica query</li> </ul>"},{"location":"text-to-SQL/#23-sfide-tecniche-nella-mappatura-semantica","title":"2.3 - Sfide tecniche nella mappatura semantica","text":"<p>Ambiguit\u00e0 linguistica:</p> <ul> <li>Una stessa richiesta in linguaggio naturale pu\u00f2 essere interpretata in modi diversi</li> <li>Difficolt\u00e0 nel disambiguare termini che potrebbero riferirsi a pi\u00f9 entit\u00e0 del database</li> </ul> <p>Complessit\u00e0 delle query:</p> <ul> <li>Necessit\u00e0 di tradurre richieste complesse che coinvolgono aggregazioni, join multipli, subquery</li> <li>Gestione di logiche condizionali articolate espresse in linguaggio naturale</li> </ul>"},{"location":"text-to-SQL/#24-gestione-del-dominio-specifico","title":"2.4 -  Gestione del dominio specifico","text":"<p>Conoscenza del business:</p> <ul> <li>Ogni settore ha le sue specificit\u00e0 e convenzioni che devono essere comprese dal sistema</li> <li>Necessit\u00e0 di adattare l'interpretazione al contesto aziendale specifico</li> </ul> <p>Evoluzione del sistema:</p> <ul> <li>I database cambiano nel tempo, richiedendo aggiornamenti continui della mappatura semantica</li> <li>Necessit\u00e0 di mantenere coerenza tra le interpretazioni nel tempo</li> <li>,,,,,</li> </ul>"},{"location":"1-docker_install/1.1-sources_cloning/","title":"Installazione di ThothAI - attivit\u00e0 preliminari","text":"<p>ThothAI deve essere deployato come container Docker, per garantire isolamento e gestibilit\u00e0 nell'ambiente di produzione. Gli unici prerequisiti sono la disponibilit\u00e0 di <code>Python 3.13</code> o superiore e la disponibilit\u00e0 di Docker e del client <code>docker-compose</code>.</p> <p>Installazione di Python e di Docket</p> <p>Le procedure di installazione di Python sono al di fuori dell'ambito di questo documento. Andare sul sito di Python per acquisire le informazioni necessarie a installare o aggiornare Python, se non \u00e8 gi\u00e0 stato fatto.</p> <p>Allo stesso modo, l'installazione di Docker e del client <code>docker-compose</code> sono al di fuori dell'ambito di questo documento. Andare sul sito di Docker per acquisire le informazioni necessarie a installare Docker, se non gi\u00e0 disponibile.</p>"},{"location":"1-docker_install/1.1-sources_cloning/#1-attivita-preliminare-clonazione-del-repository","title":"1 - Attivit\u00e0 preliminare - clonazione del repository","text":"<p>L'attivit\u00e0 di installazione richiede prima di tutto l'acquisizione dei sorgenti del progetto.  ThothAI \u00e8 composto da un singolo repository che contiene sia il backend che il frontend.</p> <p>Da linea di comando posizionarsi dove si preferisce e clonare il repository:</p> <pre><code>git clone https://github.com/mptyl/Thoth.git ThothAI\ncd ThothAI\n</code></pre> <p>Dopo la clonazione, la struttura del progetto sar\u00e0 simile a questa:</p> <pre><code>ThothAI/\n\u251c\u2500\u2500 backend/                # Applicazione Django (backend)\n\u251c\u2500\u2500 frontend/               # Applicazione Next.js (frontend)\n\u251c\u2500\u2500 docker/                 # File di configurazione Docker\n\u251c\u2500\u2500 scripts/                # Script di installazione e configurazione\n\u251c\u2500\u2500 config.yml              # Template di configurazione\n\u251c\u2500\u2500 .env.local.template     # Template delle variabili d'ambiente\n\u2514\u2500\u2500 ...\n</code></pre>"},{"location":"1-docker_install/1.1-sources_cloning/#2-attivita-preliminare-configurazione-di-base","title":"2 - Attivit\u00e0 preliminare - configurazione di base","text":""},{"location":"1-docker_install/1.1-sources_cloning/#preparazione-configurazione","title":"2.1 - Preparazione del file di configurazione","text":"<p>Il primo passo obbligatorio per l'installazione di ThothAI \u00e8 creare il file di configurazione personale partendo dal template fornito:</p> <pre><code>cp config.yml config.yml.local\n</code></pre> <p>Il file <code>config.yml.local</code> contiene tutte le impostazioni necessarie per il funzionamento di ThothAI. Dovrete configurare:</p> <ul> <li>Provider AI: Attivare almeno un provider LLM, scegliendone uno o pi\u00f9 tra OpenAI, Anthropic, Gemini, Mistral, DeepSeek, OpenRouter, Ollama e LMStudio. Si consiglia di configurare come minimo OpenRouter per poter utilizzare il workspace di default che \u00e8 impostato per utilizzare modelli forniti da OpenRouter. In alternativa si possonono scegliete i provider diretti (OpenAI, Anthropic, ecc), ma, se si vuole usare il workspace demo, devono essere configurati i Model e gli Agent che uttilizzano i provider configurati;</li> <li>Servizio di embedding: Configurare il servizio per l'embedding utilizzato da Qdrant e dalla gestione LSH. Scegliere tra l'embedding fornito da OpenAI, Mistral, o Cohere;</li> <li>Modello base di backend: Scegliere il modello base per le attivit\u00e0 gestite dal backend, come  la generazione delle descrizioni di tabelle e colonne, la documentazione del database, la creazione dello schema ERD, ecc. Indicare il provider ed il modello;</li> <li>Database utilizzati: Indicare i database che si intende utilizzare. E' possibile gestire database di tipo SQLite, MariaDB, MySql, PostgreSQL, Informix e SQL Server;</li> <li>Credenziali admin: Impostare username/password per l'accesso amministrativo dell'utente admin, creato di default quando viene eseguito il comando <code>docker-compose up -d</code>;</li> <li>Credenziali demo: Impostare username/password per l'accesso dell'utente demo utilizzabile immediatamente per provare il software senza dover configurare nulla;</li> <li>Monitoraggio: Configurare <code>Logfire</code> per il monitoraggio dell'applicazione (vedi monitoring, indicando se si intende utilizzare il servizio di monitoraggio tramite <code>Logfire</code> e, in quel caso, il token di accesso;</li> <li>Porte dei servizi: Configurare le porte per i vari componenti - se quelle di default sono in conflitto con servizi gi\u00e0 in attivit\u00e0 sulle stesse porte;</li> <li>Docker Configuration: Configurare le opzioni di Docker - se si intende utilizzare un network Docker personalizzato, specificare il nome del network;</li> <li>Runtime: Configurare le opzioni di runtime come le modalit\u00e0 di lavoro di Django (debug o no) e i livelli di log distinti tra frontend e backend.</li> </ul> <p>Provider LLM consigliato per iniziare</p> <p>Per una rapida prova di ThothAI, si consiglia di utilizzare OpenRouter che fornisce accesso a centinaia di modelli LLM con una singola API key e include anche modelli gratuiti. L'installazione Docker di ThothAI prevede lla creazione di un ambiente demo gi\u00e0 preconfigurato per utilizzare OpenRouter come provider e california_schools come database su cui esercitarsi.</p>"},{"location":"1-docker_install/1.1-sources_cloning/#211-parametri-correnti-dal-file-configyml","title":"2.1.1 - Parametri correnti dal file <code>config.yml</code>","text":"<p>Di seguito i parametri attualmente impostati nel file di configurazione principale <code>config.yml</code> alla radice del progetto (<code>ThothAI/config.yml</code>). Usateli come riferimento durante la preparazione di <code>config.yml.local</code>.</p> <pre><code>version: \"1.0\"\n\nai_providers:\n  openai:\n    enabled: false\n    api_key: \"\"\n  anthropic:\n    enabled: false\n    api_key: \"\"\n  gemini:\n    enabled: false\n    api_key: \"\"\n  mistral:\n    enabled: false\n    api_key: \"\"\n  deepseek:\n    enabled: false\n    api_key: \"\"\n    api_base: \"https://api.deepseek.com/v1\"\n  openrouter:\n    enabled: true\n    api_key: \"\"\n    api_base: \"https://openrouter.ai/api/v1\"\n  ollama:\n    enabled: false\n    api_base: \"http://127.0.0.1:11434\"\n  lm_studio:\n    enabled: false\n    api_base: \"http://localhost:1234\"\n  groq:\n    enabled: false\n    api_key: \"\"\n\nembedding:\n  provider: \"openai\"\n  api_key: \"\"\n  model: \"text-embedding-3-small\"\n\nbackend_ai_model:\n  ai_provider: \"openrouter\"\n  ai_model: \"google/gemini-2.5-flash\"\n\ndatabases:\n  sqlite: true\n  postgresql: true\n  mysql: false\n  mariadb: true\n  sqlserver: true\n\nadmin:\n  email: \"\"\n  username: \"admin\"\n  password: \"admin123\"\n\ndemo:\n  email: \"\"\n  username: \"demo\"\n  password: \"demo1234\"\n\nmonitoring:\n  enabled: true\n  logfire_token: \"\"\n\nports:\n  frontend: 3040\n  backend: 8000\n  sql_generator: 8020\n  nginx: 8040\n  qdrant: 6333\n\ndocker:\n  network_name: \"thoth-network\"\n  compose_file: \"docker-compose.yml\"\n  build_cache: true\n\nruntime:\n  debug: false\n  backend_log_level: \"WARNING\"\n  frontend_log_level: \"WARNING\"\n\nrelevance_guard:\n  strict_min_score: 0.75\n  weak_min_score: 0.45\n  drop_below: 0.30\n  w_bm25: 0.60\n  w_struct: 0.40\n  use_rrf: false\n  strict_fails_required: 2\n</code></pre> <p>Nota: i campi <code>api_key</code> sono volutamente vuoti nel file di esempio. Inserite le vostre chiavi dove appropriato oppure utilizzate il file <code>.env.local</code> in modalit\u00e0 sviluppo locale.</p>"},{"location":"1-docker_install/1.1-sources_cloning/#3-attivita-preliminare-acquisizione-delle-api-keys","title":"3 - Attivit\u00e0 preliminare - acquisizione delle API Keys","text":"<p>Prima di procedere con l'installazione vera e propria, \u00e8 necessario dotarsi delle API Keys per:</p>"},{"location":"1-docker_install/1.1-sources_cloning/#31-i-servizi-di-generazione-tramite-llm","title":"3.1 - I servizi di generazione tramite LLM","text":"<p>ThothAI \u00e8 predisposto per potersi collegare ai seguenti fornitori di API LLM:</p> <ul> <li>OpenAI </li> <li>Gemini (di Google)</li> <li>Anthropic </li> <li>Mistral</li> <li>DeepSeek</li> <li>OpenRouter (che fa da proxy a centinaia di provider)</li> <li>LMStudio (se non in locale)</li> <li>Ollama (se non in locale)</li> </ul> <p>Ogni fornitore di API, a sua volta, permette di usare diversi modelli, che andranno specificati nel setup dell'applicazione.</p> <p>In fase di configurazione occorre stabilire quali provider si desidera utilizzare. Per ognuno di essi \u00e8 necessario procurarsi una API Key. Se si utilizza Ollama o LMStudio in locale, ovviamente, non \u00e8 necessaria alcuna API Key, ma solo indicare l'IP del server utilizzato se diverso da quello standard. </p> <p>Per procurarsi l'API Key occorre seguire le procedure previste dal provider.</p> <p>Assegnazione di una API Key</p> <p>Le procedure di assegnazione di una API Key sono pi\u00f9 o meno le stesse per ogni fornitore.  Creare delle API Key con il nome che preferite, come ad esempio \"ThothKey\" o simile, per ogni fornitore che si desidera utilizzare. IQueste chiavi devono essere indicate nel file di configurazione <code>config.yml</code> se si vuole utilizzare Docker, altrimenti nel file di configurazione .env.local</p> <p>Se si usa OpenRouter, con una sola API Key si potr\u00e0 accedere a una lunga lista di LLM, aventi dimensioni e costi molto variabili (alcuni modelli sono resi disponibili addirittura gratuitamente). Andare sul sito di OpenRouter per ulteriori dettagli. </p> <p>Tramite <code>OpenRouter</code> si possono utilizzare modelli di provider non previsti dalla lista precedente, in quanto OpenRouter provvede a esporre sempre la stessa interfaccia, compatibile con l'interfaccia di OpenAI, utilizzabile per tutti i modelli che supporta.  </p> <p>I valori di default impostati in ThothAI prevedono che tutti gli Agent che svolgono le varie fasi del processo usino un modello fornito da OpenRouter. </p> <p>L'utente pu\u00f2 ovviamente cambiare questo setup (si vedr\u00e0 pi\u00f9 avanti come), ma, se si vuole provare rapidamente ThothAI, l'ideale \u00e8 iniziare con l'acquisto di 5 o 10 dollari di servizi OpenRouter e lasciare le impostazioni di default che vengono definite in fase di installazione. </p> <p>Dai nostri test, utilizzando la configurazione di default che prevede un largo uso di modelli economici nelle fasi meno critiche del processo, ogni esecuzione ha un costo variabile tra 2 e 5 centesimi di dollaro. Per cui, con una decina di dollari, si possono fare da 200 a 500 esecuzioni di generazione di un SQL a partire da una domanda in linguaggio naturale.</p> <p>Costi di generazione di un SQL</p> <p>Ovviamente i costi di generazione di un SQL sono in funzione del numero di agenti che si vuole attivare in parallelo per la generazione degli SQL e dei Test di verifica. Pi\u00f9 agenti, pi\u00f9 probabilit\u00e0 di avere un buon SQL, pi\u00f9 costo. Allo stesso modo pi\u00f9 grandi e potenti sono i modelli utilizzati, pi\u00f9 qualit\u00e0 e velocit\u00e0 nella generazione, pi\u00f9 costo.</p>"},{"location":"1-docker_install/1.1-sources_cloning/#32-il-servizio-logfire","title":"3.2 - Il servizio Logfire","text":"<p>Logfire \u00e8 un servizio messo a disposizione da Pydantic per tracciare l'attivit\u00e0 di applicazioni Python. Fino a 10 milioni di messaggi al mese \u00e8 un servizio gratuito.</p> <p>ThothAI produce un log delle sue attivit\u00e0 contemporaneamente su file, su console e su Logfire. Il log su Logfire persiste per circa 30 giorni e fornisce un elevato livello di dettaglio sulle operazioni registrate.</p> <p>Su Logfire non vengono mai inviati dati sul contenuto dei database interrogati, ma, se non si vuole utilizzare il servizio, basta lasciare vuota la chiave e Logfire non verr\u00e0 utilizzato. In questo caso rimarranno solo i file di log salvati in locale (vedi logs). Non si avr\u00e0 per\u00f2 lo stesso livello di granularit\u00e0 e di insight fornita da Logfire.</p> <p>Se si vuole usare Logfire \u00e8 necessario quindi andare su Logfire e crearsi una API Key. Scegliere un server europeo se si sta operando da un paese europeo per avere migliori performance. Salvare l'URL del server per le future consultazioni. </p> <p>Il logging di un LLM</p> <p>Loggare le attivit\u00e0 effettuate da un LLM \u00e8 un'attivit\u00e0 piuttosto complessa. Con Logfire si pu\u00f2 facilmente verificare il testo del prompt ricevuto dal LLM, l'eventuale attivazione di tool da parte dell'Agent in esecuzione e l'output generato, con abbondanza di dettagli.</p> <p>Se si vuole controllare al meglio l'azione di ThothAI \u00e8 opportuno attivare Logfire. Il servizio \u00e8 attivabile anche in locale, fatte le opportune attivit\u00e0 di setup, per cui eventuali problematiche sulla privacy possono essere comunque superate. Per dettagli consultare la documentazione di Logfire. </p>"},{"location":"1-docker_install/1.1-sources_cloning/#4-prossimi-passi","title":"4 - Prossimi passi","text":"<p>Una volta completate queste attivit\u00e0 preliminari, si pu\u00f2 procedere con:</p> <ul> <li>Installazione assistita su Docker</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/","title":"Installazione su Docker con install.sh","text":"<p>ThothAI fornisce uno script di installazione unificato <code>install.sh</code> (<code>install.ps1</code> su Windows usando PowwerShell) che semplifica notevolmente il processo di installazione e configurazione del sistema completo.</p> <p>Installazione Automatizzata</p> <p>Lo script <code>install.sh</code> (o <code>install.ps1</code>) rappresenta il metodo pi\u00f9 semplice e veloce per installare ThothAI, gestendo automaticamente la configurazione, la generazione dei file di ambiente e l'avvio dei servizi Docker.</p> <p>Anche se \u00e8 possibile eseguire i comandi di installazione manualmente, lo script <code>install.sh</code> \u00e8 la soluzione pi\u00f9 rapida e affidabile per installare ThothAI.</p>"},{"location":"1-docker_install/1.2-docker_assisted/#prerequisiti","title":"Prerequisiti","text":"<p>Prima di utilizzare lo script di installazione, assicurarsi di avere:</p> <ul> <li>Python 3.13++ installato nel sistema</li> <li>Docker e Docker Compose installati e funzionanti</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#1-prima-installazione","title":"1. Prima Installazione","text":""},{"location":"1-docker_install/1.2-docker_assisted/#11-preparazione-della-configurazione","title":"1.1 Preparazione della Configurazione","text":"<p>Attivit\u00e0 obbligatoria: Creare e compilare il file <code>config.yml.local</code> prima di eseguire <code>install.sh</code>:</p> <p>Vedere i dettagli in questa pagina del capitolo di preparazione all'installazione <pre><code>cp config.yml config.yml.local\n</code></pre></p> <p>Conseguenze della mancata configurazione:</p> <ul> <li>Lo script termina immediatamente con errore</li> <li>Richiede configurazione di API keys per i servizi AI</li> <li>Richiede configurazione del provider di embedding</li> <li>Richiede impostazione preferenze database e porte dei servizi</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#12-esecuzione-base","title":"1.2 Esecuzione Base","text":"<pre><code>./install.sh\n</code></pre> <p>Cosa fa automaticamente:</p> <ul> <li>Verifica tutti i prerequisiti di sistema</li> <li>Installa pacchetti Python necessari (pyyaml, requests, toml, ecc.)</li> <li>Valida la configurazione fornita</li> <li>Configura le dipendenze per il servizio di embedding</li> <li>Avvia l'installer interattivo per la selezione dei database</li> <li>Esegue il deploy automatico dei container Docker</li> </ul> <p>La prima installazione richieder\u00e0 diversi minuti in quanto si dovranno costruire 5 containers per i vari servizi. Le successive manutenzioni saranno pi\u00f9 veloci. Al termine dell'installazione comparir\u00e0 il seguente messaggio:</p> <p></p> <p>Esaminando il contenuto di Docker, si vedranno attivi i seguenti container:</p> <p> I container sono:</p> <ul> <li><code>thoth-backend</code>: il container del backend di ThothAI, un'applicazione Django che gestisce la configurazione dell'applicazione e fornisce alcune funzionalit\u00e0 di insight dei database collegati a ThothAI</li> <li><code>thoth-frontend</code>: il container del frontend di ThothAI, realizzato in NextJs, che gestisce l'interfaccia utente del frontend</li> <li><code>thoth-sql-generator</code>: l'applicazione Python che fornisce le funzionalit\u00e0 di generazione di query SQL</li> <li><code>thoth-proxy</code>: il container Nginx che fa da proxy al backend Django</li> <li><code>thoth-mermaid-service</code>: il container che fornisce le funzionalit\u00e0 di conversione degli schemi ERD da notazione <code>mermaid</code> a SVG per una visualizzazione grafica degli stessi</li> </ul> <p>Una volta completata l'installazione, si pu\u00f2 passare ad utilizzare ThothAI. </p>"},{"location":"1-docker_install/1.2-docker_assisted/#2-opzioni-di-configurazione-avanzate","title":"2. Opzioni di Configurazione Avanzate","text":""},{"location":"1-docker_install/1.2-docker_assisted/#21-opzione-di-pulizia-cache-build-clean-cache","title":"2.1 Opzione di Pulizia Cache Build (<code>--clean-cache</code>)","text":"<pre><code>./install.sh --clean-cache\n</code></pre> <p>In Windows (PowerShell) <pre><code>.\\install.ps1 -CleanCache\n</code></pre></p> <p>Quando usare:</p> <ul> <li>Nel caso siano state apportate modifiche al Dockerfile</li> <li>Quando si verificano errori di build inconsistenti</li> <li>Per liberare spazio disco dalla cache Docker</li> </ul> <p>Conseguenze:</p> <ul> <li>Aumenta il tempo di build alla successiva esecuzione</li> <li>Risolve problemi di cache corrotta</li> <li>Non influisce sui dati dell'applicazione</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#22-opzione-di-pulizia-completa-risorse-pruneall","title":"2.2 Opzione di Pulizia Completa Risorse (<code>-PruneAll</code>)","text":"<pre><code>./install.sh --prune-all\n</code></pre> <p>In Windows (PowerShell) <pre><code>.\\install.ps1 -PruneAll\n</code></pre></p> <p>Quando usare:</p> <ul> <li>Per fare un reset completo dell'ambiente Docker</li> <li>Prima di una reinstallazione da zero in cui si vuole essere sicuri di non avere residui di versioni precedenti</li> <li>Per liberare spazio disco significativo</li> <li>Quando si verificano conflitti tra versioni</li> </ul> <p>Conseguenze:</p> <ul> <li>DISTRUGGE TUTTI I DATI nei volumi Docker</li> <li>Rimuove tutti i container, immagini, volumi e reti ThothAI</li> <li>Effettua una riconfigurazione completa</li> <li>\u00c8 necessaria conferma esplicita (salvo che venga lanciata con <code>--force</code>, in Windows <code>-Force</code>)</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#opzioni-di-sicurezza-per-pruneall","title":"Opzioni di sicurezza per <code>-PruneAll</code>:","text":"<p>Modalit\u00e0 preview (<code>-DryRun</code>): <pre><code>./install.sh --prune-all --dry-run\n</code></pre></p> <p>In Windows (PowerShell)</p> <pre><code>.\\install.ps1 -PruneAll -DryRun\n</code></pre> <ul> <li>Mostra cosa verrebbe eliminato senza rimuoverlo</li> <li>Utile per verificare l'impatto prima dell'operazione</li> </ul> <p>Esecuzione forzata (<code>-Force</code>): <pre><code>./install.sh --prune-all --force\n</code></pre></p> <p>In Windows <pre><code>.install.ps1 -PruneAll -Force\n</code></pre></p> <ul> <li>Salta la richiesta di conferma</li> <li>Utile per script automatizzati</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#3-manutenzione-e-aggiornamenti","title":"3. Manutenzione e Aggiornamenti","text":""},{"location":"1-docker_install/1.2-docker_assisted/#31-aggiornamenti-di-release","title":"3.1 Aggiornamenti di Release","text":"<p>Quando si aggiorna ThothAI a una nuova versione:</p> <pre><code>git pull origin main\n\n# Opzione 1: Aggiornamento standard (raccomandato)\n./install.sh\n\n# Opzione 2: Aggiornamento con pulizia cache (per evitare potenziali problemi di build)\n./install.sh --clean-cache\n</code></pre> <p>Processo automatico:</p> <ul> <li>Rileva modifiche alla configurazione</li> <li>Rigenera file di ambiente se necessario</li> <li>Ricostruisce container con nuove versioni</li> <li>Preserva dati esistenti nei volumi</li> </ul>"},{"location":"1-docker_install/1.2-docker_assisted/#4-sistema-di-configurazione","title":"4. Sistema di Configurazione","text":""},{"location":"1-docker_install/1.2-docker_assisted/#41-file-di-configurazione-richiesti","title":"4.1 File di Configurazione Richiesti","text":"<p>config.yml.local (obbligatorio):</p> <ul> <li>API keys per almeno un provider AI (OpenAI, Anthropic, OpenRouter, etc.)</li> <li>Configurazione provider di embedding</li> <li>Preferenze database SQL</li> <li>Porte dei servizi (se diverse dai default)</li> <li>Credenziali amministratore</li> </ul> <p>Conseguenze scelte database: - PostgreSQL, MySQL, MariaDB, Informix, SQL Server: Massima compatibilit\u00e0, prestazioni ottimali - SQLite: Semplice, adatto a piccoli deployment (sempre incluso)</p>"},{"location":"1-docker_install/1.2-docker_assisted/#5-flusso-operativo-completo","title":"5. Flusso Operativo Completo","text":""},{"location":"1-docker_install/1.2-docker_assisted/#prima-installazione","title":"Prima Installazione:","text":"<p>Linux/macOS:</p> <ol> <li>Creare <code>config.yml.local</code> con API keys</li> <li>Eseguire <code>./install.sh</code></li> <li>Attendere completamento deploy</li> <li>Autenticarsi come demo o come admin per accedere a una delle interfacce web</li> <li>Selezionare un workspace (demo per utilizzare il database di esempio)</li> <li>Verificare esecuzione delle funzionalit\u00e0</li> </ol> <p>Windows (PowerShell):</p> <ol> <li>Creare <code>config.yml.local</code> con API keys</li> <li>Eseguire <code>.\\install.ps1</code></li> <li>Attendere completamento deploy</li> <li>Autenticarsi come demo o come admin per accedere a una delle interfacce web</li> <li>Selezionare un workspace (demo per utilizzare il database di esempio)</li> <li>Verificare esecuzione delle funzionalit\u00e0</li> </ol>"},{"location":"1-docker_install/1.2-docker_assisted/#aggiornamenti-successivi","title":"Aggiornamenti Successivi:","text":"<ol> <li>Aggiornare codice sorgente tramite git pull</li> <li>Modificare <code>config.yml.local</code> se necessario</li> <li>Eseguire script appropriato per il sistema:</li> <li>Linux/macOS: <code>./install.sh</code> (o con <code>--clean-cache</code>)</li> <li>Windows PowerShell: <code>.\\install.ps1</code> (o con <code>-CleanCache</code>)</li> <li>Sistema rileva automaticamente le modifiche</li> </ol>"},{"location":"1-docker_install/1.2-docker_assisted/#reset-completo","title":"Reset Completo:","text":"<ol> <li>Backup dati importanti (se necessario)</li> <li>Verificare impatto:</li> <li>Linux/macOS: <code>./install.sh --prune-all --dry-run</code></li> <li>Windows PowerShell: <code>.\\install.ps1 -PruneAll -DryRun</code></li> <li>Eseguire pulizia:</li> <li>Linux/macOS: <code>./install.sh --prune-all</code> (con conferma)</li> <li>Windows PowerShell: <code>.\\install.ps1 -PruneAll</code> (con conferma)</li> <li>Ricominciare da prima installazione</li> </ol>"},{"location":"1-docker_install/1.2-docker_assisted/#6-gestione-errori-e-troubleshooting","title":"6. Gestione Errori e Troubleshooting","text":"<p>Configurazione mancante:</p> <ul> <li>Errore immediato con istruzioni per creare <code>config.yml.local</code></li> </ul> <p>Prerequisiti mancanti:</p> <ul> <li>Verifica automatica di Python 3.13+, Docker, Docker Compose</li> <li>Messaggi chiari con link per installazione</li> </ul> <p>Errori di validazione:</p> <ul> <li>Analisi automatica della configurazione</li> <li>Messaggi specifici sugli errori da correggere</li> </ul> <p>Problemi di embedding:</p> <ul> <li>Configurazione critica per il funzionamento</li> <li>Errore bloccante se non configurato correttamente</li> </ul> <p>Raccomandazioni</p> <ul> <li>Prima installazione: Seguire il flusso standard senza opzioni aggiuntive</li> <li>Aggiornamenti: Usare <code>./install.sh</code> semplice per preservare configurazione</li> <li>Problemi: Provare prima <code>--clean-cache</code>, <code>-prune-all</code> solo se indispensabile</li> <li>Produzione: Usare sempre <code>--dry_run</code> prima di operazioni distruttive</li> </ul> <p>Attenzione alle operazioni distruttive</p> <p>L'opzione <code>--prune-all</code> (<code>-PruneAll</code> in Windows) distrugge irreversibilmente tutti i dati. Utilizzare solo quando necessario e sempre con backup preventivo.</p>"},{"location":"2-local_install/2.1-sources_cloning/","title":"Installazione di ThothAI - attivit\u00e0 preliminari","text":"<p>ThothAI pu\u00f2 essere installato sia come container <code>Docker</code>, per poter lavorare in un ambiente di produzione isolato e facilmente gestibile, sia in locale, per operare in un contesto di <code>'development'</code> che permetta agevolmente di realizzare e testare eventuali personalizzazioni.</p> <p>Prerequisiti per lo sviluppo locale:</p> <ul> <li><code>Python 3.13</code> o superiore</li> <li><code>uv</code>, gestore di dipendenze per Python (installazione)</li> <li><code>Node.js v20+</code> / <code>npm</code> per frontend e servizi Node</li> <li><code>Docker</code> per il servizio Qdrant (vector DB) anche quando ThothAI \u00e8 avviato in locale</li> </ul> <p>Installazione dei prerequisiti</p> <p>Le procedure di installazione di Python, uv, Node.js e Docker sono al di fuori dell'ambito di questo documento. Seguire i link sottostanti per accedere alle procedure di installazione:</p> <ul> <li>Python</li> <li>uv</li> <li>Node.js</li> <li>Docker</li> </ul>"},{"location":"2-local_install/2.1-sources_cloning/#1-attivita-preliminare-clonazione-del-repository","title":"1 - Attivit\u00e0 preliminare - clonazione del repository","text":"<p>L'attivit\u00e0 di installazione richiede prima di tutto l'acquisizione dei sorgenti del progetto.  ThothAI \u00e8 composto da un singolo repository che contiene sia il backend che il frontend.</p> <p>Da linea di comando posizionarsi dove si preferisce e clonare il repository:</p> <pre><code>git clone https://github.com/mptyl/Thoth.git ThothAI\ncd ThothAI\n</code></pre> <p>Dopo la clonazione, la struttura del progetto sar\u00e0 simile a questa:</p> <pre><code>ThothAI/\n\u251c\u2500\u2500 backend/                # Applicazione Django (backend)\n\u251c\u2500\u2500 frontend/               # Applicazione Next.js (frontend)\n\u251c\u2500\u2500 docker/                 # File di configurazione Docker\n\u251c\u2500\u2500 scripts/                # Script di installazione e configurazione\n\u251c\u2500\u2500 config.yml              # Template di configurazione\n\u251c\u2500\u2500 .env.local.template     # Template delle variabili d'ambiente\n\u2514\u2500\u2500 ...\n</code></pre>"},{"location":"2-local_install/2.1-sources_cloning/#2-attivita-preliminare-configurazione-di-base","title":"2 - Attivit\u00e0 preliminare - configurazione di base","text":""},{"location":"2-local_install/2.1-sources_cloning/#preparazione-configurazione","title":"2.1 - Preparazione del file di configurazione","text":"<p>Per l'avvio in locale, il file di configurazione principale \u00e8 <code>config.yml.local</code>, identico nella struttura a quello utilizzato per l'installazione Docker. Lo script <code>start-all.sh</code> legge questo file e genera automaticamente il file <code>.env.local</code> necessario per l'esecuzione.</p> <p>Primo passo obbligatorio: creare il file di configurazione personale partendo dal template fornito:</p> <pre><code>cp config.yml config.yml.local\n</code></pre> <p>Il file <code>config.yml.local</code> contiene tutte le impostazioni necessarie per il funzionamento di ThothAI. Dovrete configurare:</p> <ul> <li>Provider AI: Attivare almeno un provider LLM, scegliendone uno o pi\u00f9 tra OpenAI, Anthropic, Gemini, Mistral, DeepSeek, OpenRouter, Ollama e LMStudio</li> <li>Servizio di embedding: Configurare il servizio per l'embedding utilizzato da Qdrant e dalla gestione LSH (OpenAI, Mistral o Cohere)</li> <li>Modello base di backend: Scegliere il modello base per le attivit\u00e0 gestite dal backend (descrizioni, documentazione, ERD, ecc.)</li> <li>Database utilizzati: Indicare i database che si intende utilizzare (SQLite, MariaDB, MySQL, PostgreSQL, Informix, SQL Server). Si possono utilizzare contemporaneamente pi\u00f9 database.</li> <li>Porte dei servizi: Configurare le porte per i vari componenti se quelle di default sono in conflitto con altri servizi</li> <li>Monitoraggio: Opzionalmente configurare Logfire per il monitoraggio avanzato</li> </ul> <p>Provider LLM consigliato per iniziare</p> <p>Per una rapida prova di ThothAI, si consiglia di utilizzare OpenRouter che fornisce accesso a centinaia di modelli LLM con una singola API key e include anche modelli gratuiti. La configurazione di default \u00e8 gi\u00e0 impostata per utilizzare OpenRouter. </p>"},{"location":"2-local_install/2.1-sources_cloning/#211-struttura-del-file-configymllocal","title":"2.1.1 - Struttura del file <code>config.yml.local</code>","text":"<p>Di seguito i parametri attualmente presenti nel file di configurazione <code>config.yml</code> alla radice del progetto. Usateli come riferimento durante la preparazione di <code>config.yml.local</code>:</p> <pre><code>version: \"1.0\"\n\nai_providers:\n  openai:\n    enabled: false\n    api_key: \"\"\n  anthropic:\n    enabled: false\n    api_key: \"\"\n  gemini:\n    enabled: false\n    api_key: \"\"\n  mistral:\n    enabled: false\n    api_key: \"\"\n  deepseek:\n    enabled: false\n    api_key: \"\"\n    api_base: \"https://api.deepseek.com/v1\"\n  openrouter:\n    enabled: true\n    api_key: \"\"\n    api_base: \"https://openrouter.ai/api/v1\"\n  ollama:\n    enabled: false\n    api_base: \"http://127.0.0.1:11434\"\n  lm_studio:\n    enabled: false\n    api_base: \"http://localhost:1234\"\n  groq:\n    enabled: false\n    api_key: \"\"\n\nembedding:\n  provider: \"openai\"\n  api_key: \"\"\n  model: \"text-embedding-3-small\"\n\nbackend_ai_model:\n  ai_provider: \"openrouter\"\n  ai_model: \"google/gemini-2.5-flash\"\n\ndatabases:\n  sqlite: true\n  postgresql: true\n  mysql: false\n  mariadb: true\n  sqlserver: true\n\nports:\n  frontend: 3200\n  backend: 8200\n  sql_generator: 8180\n  mermaid_service: 8003\n  qdrant: 6334\n\nmonitoring:\n  enabled: false\n  logfire_token: \"\"\n\nruntime:\n  debug: true\n  backend_log_level: \"INFO\"\n  frontend_log_level: \"INFO\"\n\nrelevance_guard:\n  strict_min_score: 0.75\n  weak_min_score: 0.45\n  drop_below: 0.30\n  w_bm25: 0.60\n  w_struct: 0.40\n  use_rrf: false\n  strict_fails_required: 2\n</code></pre>"},{"location":"2-local_install/2.1-sources_cloning/#212-configurazione-pratica-di-configymllocal","title":"2.1.2 - Configurazione pratica di config.yml.local","text":"<p>Dopo aver copiato <code>config.yml</code> in <code>config.yml.local</code>, editare il file per inserire le proprie API keys e configurazioni.</p> <p>Configurazione minima per iniziare (esempio con OpenRouter):</p> <pre><code>ai_providers:\n  openrouter:\n    enabled: true\n    api_key: \"sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"  # Inserire la propria API key\n    api_base: \"https://openrouter.ai/api/v1\"\n\nembedding:\n  provider: \"openai\"\n  api_key: \"sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"  # Inserire la propria API key OpenAI\n  model: \"text-embedding-3-small\"\n\nbackend_ai_model:\n  ai_provider: \"openrouter\"\n  ai_model: \"google/gemini-2.5-flash\"\n</code></pre> <p>Le altre sezioni (<code>databases</code>, <code>ports</code>, <code>monitoring</code>, <code>runtime</code>, <code>relevance_guard</code>) possono essere lasciate con i valori di default per iniziare.</p> <p>Configurazione step-by-step</p> <ol> <li>Abilitare almeno un provider LLM: Impostare <code>enabled: true</code> e inserire la propria <code>api_key</code></li> <li>Configurare l'embedding: Inserire la chiave API del provider scelto (OpenAI, Cohere, o Mistral)</li> <li>Verificare il backend AI model: Assicurarsi che <code>ai_provider</code> e <code>ai_model</code> corrispondano a un provider abilitato</li> <li>Opzionale: Modificare le porte se quelle di default sono gi\u00e0 in uso sul proprio sistema</li> <li>Opzionale: Configurare Logfire per il monitoraggio avanzato impostando <code>monitoring.enabled: true</code> e fornendo il token</li> </ol> <p>Generazione automatica di .env.local</p> <p>Non \u00e8 necessario creare manualmente il file <code>.env.local</code>. Lo script <code>start-all.sh</code> legge automaticamente <code>config.yml.local</code> e genera (o aggiorna) il file <code>.env.local</code> necessario per l'esecuzione locale. Se <code>config.yml.local</code> viene modificato, <code>.env.local</code> verr\u00e0 rigenerato automaticamente al prossimo avvio quando si usa il comando <code>start_all.sh</code>.</p> <p>Il file <code>.env.local</code> generato contiene tutte le variabili d'ambiente necessarie per i servizi (chiavi API, porte, percorsi, ecc.) ed \u00e8 automaticamente escluso dal version control tramite <code>.gitignore</code>.</p>"},{"location":"2-local_install/2.1-sources_cloning/#3-attivita-preliminare-acquisizione-delle-api-keys","title":"3 - Attivit\u00e0 preliminare - acquisizione delle API Keys","text":"<p>Prima di procedere con l'installazione vera e propria, \u00e8 necessario dotarsi delle API Keys per:</p>"},{"location":"2-local_install/2.1-sources_cloning/#31-i-servizi-di-generazione-tramite-llm","title":"3.1 - I servizi di generazione tramite LLM","text":"<p>ThothAI \u00e8 predisposto per potersi collegare ai seguenti fornitori di API LLM:</p> <ul> <li>OpenAI </li> <li>Gemini (di Google)</li> <li>Anthropic </li> <li>Mistral</li> <li>DeepSeek</li> <li>LMStudio</li> <li>Ollama</li> <li>OpenRouter (che fa da proxy a centinaia di provider)</li> </ul> <p>Ogni fornitore di API, a sua volta, permette di usare diversi modelli, che andranno specificati nel setup dell'applicazione.</p> <p>In fase di configurazione occorre stabilire quali provider si desidera utilizzare. Per ognuno di essi \u00e8 necessario procurarsi una API Key. Se si utilizza Ollama o LMStudio in locale, ovviamente, non \u00e8 necessaria alcuna API Key, ma solo indicare l'IP del server utilizzato se diverso da quello standard. </p> <p>Per procurarsi l'API Key occorre seguire le procedure previste dal provider.</p> <p>Assegnazione di una API Key</p> <p>Le procedure di assegnazione di una API Key sono pi\u00f9 o meno le stesse per ogni fornitore.  Creare delle API Key con il nome che preferite, come ad esempio \"ThothKey\" o simile, per ogni fornitore che si desidera utilizzare. IQueste chiavi devono essere indicate nel file di configurazione <code>config.yml</code> se si vuole utilizzare Docker, altrimenti nel file di configurazione .env.local</p> <p>Se si usa OpenRouter, con una sola API Key si potr\u00e0 accedere a una lunga lista di LLM, aventi dimensioni e costi molto variabili (alcuni modelli sono resi disponibili addirittura gratuitamente). Andare sul sito di OpenRouter per ulteriori dettagli. </p> <p>Tramite <code>OpenRouter</code> si possono utilizzare modelli di provider non previsti dalla lista precedente, in quanto OpenRouter provvede a esporre sempre la stessa interfaccia, compatibile con l'interfaccia di OpenAI, utilizzabile per tutti i modelli che supporta.  </p> <p>I valori di default impostati in ThothAI prevedono che tutti gli Agent che svolgono le varie fasi del processo usino un modello fornito da OpenRouter. </p> <p>L'utente pu\u00f2 ovviamente cambiare questo setup (si vedr\u00e0 pi\u00f9 avanti come), ma, se si vuole provare rapidamente ThothAI, l'ideale \u00e8 iniziare con l'acquisto di 5 o 10 dollari di servizi OpenRouter e lasciare le impostazioni di default che vengono impostate in fase di installazione. </p> <p>Dai nostri test, utilizzando la configurazione di default che prevede un largo uso di modelli economici nelle fasi meno critiche del processo, ogni esecuzione ha un costo variabile tra 2 e 5 centesimi di dollaro, in funzione del numero di agenti che si vuole attivare in parallelo (pi\u00f9 agenti, pi\u00f9 probabilit\u00e0 di avere un buon SQL, pi\u00f9 costo). Per cui, con una decina di dollari, si possono fare da 200 a 500 esecuzioni.</p>"},{"location":"2-local_install/2.1-sources_cloning/#32-il-servizio-logfire","title":"3.2 - Il servizio Logfire","text":"<p>Logfire \u00e8 un servizio messo a disposizione da Pydantic per tracciare l'attivit\u00e0 di applicazioni Python. Fino a 10 milioni di messaggi al mese \u00e8 un servizio gratuito.  </p> <p>ThothAI produce un log delle sue attivit\u00e0 contemporaneamente su file, su console e su Logfire. Il log su Logfire persiste per circa 30 giorni e fornisce un elevato livello di dettaglio sulle operazioni registrate.</p> <p>Su Logfire non vengono mai inviati dati sul contenuto dei database interrogati, ma, se non si vuole utilizzare il servizio, basta lasciare vuota la chiave e Logfire non verr\u00e0 utilizzato. In questo caso rimarranno solo i file di log salvati in locale (vedi logs). Non si avr\u00e0 per\u00f2 lo stesso livello di granularit\u00e0 e di insight fornita da Logfire.</p> <p>Se si vuole usare Logfire \u00e8 necessario quindi andare su Logfire e crearsi una API Key. Scegliere un server europeo se si sta operando da un paese europeo per avere migliori performance. Salvare l'URL del server per le future consultazioni. </p> <p>Il logging di un LLM</p> <p>Loggare le attivit\u00e0 effettuate da un LLM \u00e8 un'attivit\u00e0 piuttosto complessa. Con Logfire si pu\u00f2 facilmente verificare il testo del prompt ricevuto dal LLM, l'eventuale attivazione di tool da parte dell'Agent in esecuzione e l'output generato, con abbondanza di dettagli.</p> <p>Se si vuole controllare al meglio l'azione di ThothAI \u00e8 opportuno attivare Logfire. Il servizio \u00e8 attivabile anche in locale, fatte le opportune attivit\u00e0 di setup, per cui eventuali problematiche sulla privacy possono essere comunque superate. Per dettagli consultare la documentazione di Logfire. </p>"},{"location":"2-local_install/2.1-sources_cloning/#4-attivita-preliminare-verifica-dei-prerequisiti-software","title":"4 - Attivit\u00e0 preliminare - verifica dei prerequisiti software","text":"<p>Prima di procedere con l'avvio dei servizi tramite <code>start-all.sh</code>, verificare che tutti i prerequisiti software siano correttamente installati:</p>"},{"location":"2-local_install/2.1-sources_cloning/#41-verifica-python-e-uv","title":"4.1 - Verifica Python e uv","text":"<pre><code># Verifica versione Python (deve essere 3.13+)\npython3 --version\n\n# Verifica installazione uv\nuv --version\n</code></pre> <p>Se <code>uv</code> non \u00e8 installato, seguire le istruzioni su https://docs.astral.sh/uv/getting-started/</p>"},{"location":"2-local_install/2.1-sources_cloning/#42-verifica-nodejs-e-npm","title":"4.2 - Verifica Node.js e npm","text":"<pre><code># Verifica versione Node.js (deve essere v20+)\nnode --version\n\n# Verifica npm\nnpm --version\n</code></pre>"},{"location":"2-local_install/2.1-sources_cloning/#43-verifica-docker","title":"4.3 - Verifica Docker","text":"<pre><code># Verifica Docker (necessario per Qdrant)\ndocker --version\n\n# Verifica che Docker sia in esecuzione\ndocker ps\n</code></pre> <p>Docker \u00e8 obbligatorio</p> <p>Anche per l'installazione locale, Docker \u00e8 necessario per eseguire il servizio Qdrant (vector database). Assicurarsi che Docker sia installato e in esecuzione prima di procedere con il lancio di <code>start-all.sh</code>.</p>"},{"location":"2-local_install/2.1-sources_cloning/#5-prossimi-passi","title":"5 - Prossimi passi","text":"<p>Una volta completate queste attivit\u00e0 preliminari, si pu\u00f2 procedere con:</p> <ul> <li>Installazione in locale</li> <li>Quickstart</li> </ul>"},{"location":"2-local_install/2.2-local/","title":"Installazione di ThothAI in locale","text":"<p>L'installazione in locale comprende l'installazione del backend Django, del SQL Generator (FastAPI) e del frontend Next.js.</p> <p>Sviluppo Locale</p> <p>L'esecuzione locale utilizza <code>config.yml.local</code> come configurazione primaria, che viene automaticamente convertito in <code>.env.local</code> dallo script <code>start-all.sh</code> all'avvio dei servizi</p> <p>Il setup Django</p> <p>Come si imposta un'applicazione Django \u00e8 al di fuori dello scope di questa documentazione Andare alla pagina ufficiale di Django su questo argomento per ulteriori dettagli. In questo progetto si assume che un utente interessato a gestire il backend in modalit\u00e0 Developer conosca Django abbastanza da esssere in grado di modificare Thoth senza difficolt\u00e0</p>"},{"location":"2-local_install/2.2-local/#1-sistema-di-configurazione-per-sviluppo-locale","title":"1 - Sistema di Configurazione per Sviluppo Locale","text":""},{"location":"2-local_install/2.2-local/#11-file-di-configurazione","title":"1.1 - File di Configurazione","text":""},{"location":"2-local_install/2.2-local/#configymllocal-file-principale","title":"config.yml.local (File Principale)","text":"<ul> <li>Ruolo: Configurazione unificata YAML per tutti i servizi (Docker e locale)</li> <li>Creazione: Copiare da <code>config.yml</code> e personalizzare</li> <li>Contenuto: API keys, porte locali, URL servizi, credenziali, database flags</li> <li>Utilizzo: Fonte primaria da cui viene auto-generato <code>.env.local</code></li> </ul>"},{"location":"2-local_install/2.2-local/#envlocal-generato-automaticamente","title":".env.local (Generato Automaticamente)","text":"<ul> <li>Ruolo: File env generato da <code>start-all.sh</code> per i servizi locali</li> <li>Generazione: Automatica tramite <code>scripts/generate_env_local.py</code></li> <li>Contenuto: Variabili d'ambiente estratte da <code>config.yml.local</code></li> <li>Note: Non modificare manualmente - editare <code>config.yml.local</code> invece</li> </ul>"},{"location":"2-local_install/2.2-local/#12-flusso-di-configurazione-locale","title":"1.2 - Flusso di Configurazione Locale","text":"<pre><code>config.yml.local \u2192 start-all.sh \u2192 generate_env_local.py \u2192 .env.local\n                        \u2193                                      \u2193\n               validate_backend_ai.py                 export variabili\n                        \u2193                                      \u2193\n            update_local_db_dependencies.py          Servizi ereditano\n                        \u2193\n                  uv sync (auto)\n</code></pre> <p>Processo:</p> <ol> <li><code>start-all.sh</code> verifica/genera <code>.env.local</code> da <code>config.yml.local</code></li> <li>Forza <code>DEBUG=TRUE</code> per lo sviluppo locale</li> <li>Risolve dipendenze database e sincronizza automaticamente con <code>uv</code> se necessario</li> <li>Valida provider AI e modello</li> <li>Esporta variabili nell'ambiente shell (escluso PORT generico)</li> <li>Avvia i servizi (vedi 3.3 per elenco e URL)</li> </ol>"},{"location":"2-local_install/2.2-local/#2-preparazione-ambiente","title":"2 - Preparazione Ambiente","text":""},{"location":"2-local_install/2.2-local/#21-impostazione-del-file-configymllocal","title":"2.1 - Impostazione del file config.yml.local","text":"<ol> <li> <p>Copiare il template: <pre><code>cp config.yml config.yml.local\n</code></pre></p> </li> <li> <p>Modificare <code>config.yml.local</code> con le proprie configurazioni:</p> </li> <li>API keys degli LLM (almeno uno richiesto: OpenAI, Gemini, o Anthropic)</li> <li>Embedding service configuration</li> <li>Porte locali (se quelle di default sono occupate)</li> <li>Database flags (quali database abilitare: sqlite, postgresql, mysql, informix)</li> <li>Credenziali admin (per il superuser Django)</li> <li>Opzionale: MERMAID_SERVICE_URL (default: <code>http://localhost:8003</code>)</li> </ol> <p>Non modificare .env.local direttamente</p> <p>Il file <code>.env.local</code> viene auto-generato da <code>start-all.sh</code>. Tutte le modifiche devono essere fatte in <code>config.yml.local</code>.</p>"},{"location":"2-local_install/2.2-local/#22-installazione-uv-richiesto","title":"2.2 - Installazione uv (Richiesto)","text":"<p>Il progetto usa <code>uv</code> per gestire Python e le dipendenze:</p> <pre><code># Installare uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Installare Python 3.13.5 (opzionale, uv lo far\u00e0 automaticamente)\nuv python install 3.13.5\n</code></pre> <p>Dipendenze Auto-Gestite</p> <p><code>start-all.sh</code> sincronizza automaticamente tutte le dipendenze Python e Node.js quando necessario:</p> <ul> <li>Backend Django: <code>uv lock --refresh &amp;&amp; uv sync</code> (se cambiano i database abilitati)</li> <li>SQL Generator: <code>uv sync --frozen</code></li> <li>Frontend: <code>npm install</code> (se manca node_modules)</li> <li>Mermaid Service: <code>npm install</code> (se manca node_modules)</li> </ul>"},{"location":"2-local_install/2.2-local/#23-installazione-manuale-dipendenze-opzionale","title":"2.3 - Installazione Manuale Dipendenze (Opzionale)","text":"<p>Se si preferisce installare manualmente prima di avviare <code>start-all.sh</code>:</p>"},{"location":"2-local_install/2.2-local/#backend-django","title":"Backend Django","text":"<pre><code>cd backend\nuv sync\ncd ..\n</code></pre>"},{"location":"2-local_install/2.2-local/#sql-generator","title":"SQL Generator","text":"<pre><code>cd frontend/sql_generator\nuv sync\ncd ../..\n</code></pre>"},{"location":"2-local_install/2.2-local/#frontend-nextjs","title":"Frontend Next.js","text":"<pre><code>cd frontend\nnpm install\ncd ..\n</code></pre>"},{"location":"2-local_install/2.2-local/#mermaid-service","title":"Mermaid Service","text":"<pre><code>cd docker/mermaid-service\nnpm install\ncd ../..\n</code></pre> <p>Non Necessario</p> <p>Questi passaggi sono opzionali - <code>start-all.sh</code> li esegue automaticamente se necessario.</p>"},{"location":"2-local_install/2.2-local/#3-avvio-servizi-con-start-allsh","title":"3 - Avvio Servizi con start-all.sh","text":""},{"location":"2-local_install/2.2-local/#31-cosa-fa-start-allsh","title":"3.1 - Cosa fa start-all.sh","text":"<p>Lo script esegue automaticamente tutti i passaggi necessari:</p> <ol> <li>\u2705 Verifica esistenza di <code>config.yml.local</code></li> <li>\u2705 Genera/aggiorna <code>.env.local</code> da <code>config.yml.local</code> (vedi 1.1)</li> <li>\u2705 Forza <code>DEBUG=TRUE</code> per sviluppo locale</li> <li>\u2705 Risolve dipendenze database e sincronizza con <code>uv</code> (vedi 2.3)</li> <li>\u2705 Valida provider AI e modello (vedi 5.3)</li> <li>\u2705 Carica variabili d'ambiente</li> <li>\u2705 Avvia tutti i servizi (vedi 3.3 per elenco)</li> <li>\u2705 Verifica che ogni servizio sia avviato correttamente</li> </ol>"},{"location":"2-local_install/2.2-local/#32-utilizzo-base","title":"3.2 - Utilizzo Base","text":"<pre><code># Dare permessi di esecuzione (solo prima volta)\nchmod +x start-all.sh\n\n# Avviare tutti i servizi\n./start-all.sh\n</code></pre> <p>Prima Esecuzione</p> <p>Alla prima esecuzione lo script esegue l'auto-sync delle dipendenze (vedi 2.3) e crea/avvia il container Qdrant. Questo pu\u00f2 richiedere alcuni minuti.</p>"},{"location":"2-local_install/2.2-local/#33-servizi-avviati","title":"3.3 - Servizi Avviati","text":"<p>Lo script avvia automaticamente:</p> <ul> <li>Django Backend: http://localhost:8200</li> <li>SQL Generator: http://localhost:8180</li> <li>Frontend: http://localhost:3200</li> <li>Mermaid Service: http://localhost:8003</li> <li>Qdrant (Docker): http://localhost:6334 (volume <code>qdrant_storage/</code> nella root del progetto)</li> </ul>"},{"location":"2-local_install/2.2-local/#34-gestione-servizi","title":"3.4 - Gestione Servizi","text":"<p>Per arresto e cleanup, vedi sezione 8 - Arresto dei servizi.</p>"},{"location":"2-local_install/2.2-local/#4-configurazione-database-e-migrazioni","title":"4 - Configurazione Database e Migrazioni","text":"<p>Migrazioni Non Automatiche</p> <p><code>start-all.sh</code> non esegue automaticamente le migrazioni Django. Devono essere eseguite manualmente.</p>"},{"location":"2-local_install/2.2-local/#41-migrazioni-django","title":"4.1 - Migrazioni Django","text":"<p>Eseguire le migrazioni la prima volta o dopo modifiche al modello:</p> <pre><code>cd backend\nexport $(grep -v '^#' ../.env.local | grep -v '^PORT=' | xargs)\nuv run python manage.py migrate\n</code></pre>"},{"location":"2-local_install/2.2-local/#42-creazione-superuser","title":"4.2 - Creazione Superuser","text":"<p>Per accedere al pannello di amministrazione Django:</p> <pre><code>cd backend\nexport $(grep -v '^#' ../.env.local | grep -v '^PORT=' | xargs)\nuv run python manage.py createsuperuser\n</code></pre> <p>Credenziali Admin da config.yml.local</p> <p>Le credenziali admin possono essere pre-configurate in <code>config.yml.local</code> (sezione <code>admin</code>).</p>"},{"location":"2-local_install/2.2-local/#5-risoluzione-problemi","title":"5 - Risoluzione Problemi","text":""},{"location":"2-local_install/2.2-local/#51-conflitti-di-porta","title":"5.1 - Conflitti di Porta","text":"<p>Se le porte di default sono occupate, modificare in <code>config.yml.local</code>: <pre><code>local:\n  ports:\n    backend: 8200\n    sql_generator: 8180\n    frontend: 3200\n    mermaid_service: 8003\n</code></pre></p> <p>Poi riavviare <code>start-all.sh</code> che rigenerer\u00e0 <code>.env.local</code> automaticamente.</p>"},{"location":"2-local_install/2.2-local/#52-python-version","title":"5.2 - Python Version","text":"<p>Se <code>uv</code> usa il Python di sistema invece di quello gestito: 1. Verificare <code>.python-version</code> files nelle directory (backend e frontend/sql_generator) 2. Installare esplicitamente: <code>uv python install 3.13.5</code> 3. Ricreare venv: <code>rm -rf .venv &amp;&amp; uv sync</code></p>"},{"location":"2-local_install/2.2-local/#53-variabili-ambiente","title":"5.3 - Variabili Ambiente","text":"<ul> <li>Configurazione primaria: Tutte le variabili devono essere configurate in <code>config.yml.local</code></li> <li>PORT generico: Filtrato da <code>start-all.sh</code> per evitare conflitti</li> <li>API Keys: Configurate in <code>config.yml.local</code> (sezione <code>llm</code>)</li> <li>Database: Abilitare/disabilitare in <code>config.yml.local</code> (sezione <code>databases</code>)</li> <li>BACKEND AI: <code>start-all.sh</code> valida automaticamente provider/modello via <code>scripts/validate_backend_ai.py</code></li> <li>Rigenerazione automatica: Se <code>config.yml.local</code> \u00e8 pi\u00f9 recente di <code>.env.local</code>, viene rigenerato</li> </ul>"},{"location":"2-local_install/2.2-local/#54-requisiti-strumenti","title":"5.4 - Requisiti strumenti","text":"<ul> <li>SQL Generator: richiede <code>uv</code> installato</li> <li>Mermaid Service: richiede Node.js v18+</li> <li>Frontend: richiede Node.js v20+</li> <li>Qdrant: richiede Docker attivo; espone <code>localhost:6334</code></li> </ul>"},{"location":"2-local_install/2.2-local/#6-differenze-docker-vs-locale","title":"6 - Differenze Docker vs Locale","text":"Aspetto Docker Locale Config File <code>config.yml.local</code> \u2192 <code>.env.docker</code> (auto) <code>config.yml.local</code> \u2192 <code>.env.local</code> (auto) Script Avvio <code>install.sh</code> <code>start-all.sh</code> Porte Backend 8040 8200 Porte SQL Gen 8020 8180 Porte Frontend 3040 3200 Mermaid Service container dedicato processo Node.js (porta 8003) Qdrant container su rete Docker container esposto su localhost:6334 Python Container isolato uv-managed 3.13.5 (.venv locale) Database Volume Docker File locale (sqlite) o connessioni native Dipendenze Build-time nel container Auto-sync da start-all.sh DEBUG Configurabile Sempre TRUE (forzato)"},{"location":"2-local_install/2.2-local/#7-workflow-completo-di-setup","title":"7 - Workflow Completo di Setup","text":""},{"location":"2-local_install/2.2-local/#71-prima-installazione","title":"7.1 - Prima Installazione","text":"<pre><code># 1. Clonare il repository\ngit clone https://github.com/mptyl/ThothAI.git\ncd ThothAI\n\n# 2. Installare uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# 3. Configurare\ncp config.yml config.yml.local\n# Editare config.yml.local con le proprie API keys e configurazioni\n\n# 4. Avviare tutto (auto-install dipendenze)\nchmod +x start-all.sh\n./start-all.sh\n\n# 5. Poi esegui migrazioni e crea il superuser come descritto in 4.1 e 4.2\n</code></pre>"},{"location":"2-local_install/2.2-local/#72-sviluppo-quotidiano","title":"7.2 - Sviluppo Quotidiano","text":"<p>Per avviare i servizi in sviluppo, vedi 3.2 - Utilizzo Base.</p>"},{"location":"2-local_install/2.2-local/#73-aggiornamento-configurazione","title":"7.3 - Aggiornamento Configurazione","text":"<pre><code># 1. Modificare config.yml.local\nvim config.yml.local  # o altro editor\n\n# 2. Riavviare start-all.sh\n# Lo script rileva il cambiamento e rigenera .env.local automaticamente\n./start-all.sh\n</code></pre>"},{"location":"2-local_install/2.2-local/#8-arresto-dei-servizi","title":"8 - Arresto dei servizi","text":"<ul> <li>Premere <code>Ctrl+C</code> nella shell di <code>start-all.sh</code></li> <li>Alla richiesta, scegliere se fermare anche il container <code>qdrant-thoth</code></li> <li>Lo script arresta ordinatamente tutti i servizi avviati</li> </ul>"},{"location":"3-quickstart/3.1-quick_setup/","title":"Quick Setup","text":"<p>Il Quick Setup serve a permettere all'utente di completare l'installazione in pochi minuti in modo da poter fare pratica con ThothAI prima di procedere a un setup completo, con utenti e database reali.</p> <p>L'idea su cui si basa il Quick Start \u00e8 di utilizzare l'utente <code>marco</code> per esercitarsi sul database <code>california_schools</code>, un database <code>Sqlite</code> che contiene dati aggregati sulle scuole della California, che \u00e8 stato preconfigurato nel setup di default. </p> <p>Il database <code>california_school.sqlite</code> si pu\u00f2 trovare nella directory <code>data/dev_databases/california_schools/</code> del backend (Thoth) e pu\u00f2 essere facilmente esaminato tramite un tool come DBeaver o equivalente. Inoltre il file <code>dev.json</code>, disponibile nella stessa directory, contiene in formato json  una serie di Question, di Hints e di SQL propri di quel database che sono utilizzati per il setup in fase di preprocessing.</p> <p>Ovviamente \u00e8 necessario, come prerequisito per poter lavorare col setup standard, aver acquistato, anche per soli 5/10 Dollari, una API Key di OpenRouter, sufficienti per centinaia di interrogazioni. </p> <p>Al posto di OpenRouter si possono utilizzare modelli in locale, ad esempio tramite Ollama, o provider diretti come OpenAI, Mistral o Anthropic.</p> <p>In questo caso \u00e8 necessario modificare il setup degli Agents per utilizzare AiModel diversi da quelli impostati come default, che sono tutti collegati a OpenRouter.</p> <p>Le tre attivit\u00e0 da fare per completare il setup, prima di poter procedere a provare l'applicazione ThothAI, sono le seguenti:</p>"},{"location":"3-quickstart/3.1-quick_setup/#1-assegnazione-password-allutente-marco","title":"1 - Assegnazione password all'utente <code>marco</code>","text":"<p>Gli utenti per il quick setup sono stati creati, ma non hanno password, per cui non ci si pu\u00f2 autenticare con la loro identit\u00e0. </p> <p>Per prima cosa, quindi, dalla homepage del backend Thoth, andare nell'area amministrativa, selezionando <code>l'icona impostazioni</code> rappresentato dall'ingranaggio in alto a destra.</p> <p></p> <p>Ci si ritrova nel contesto <code>admin</code></p> <p></p> <p>Selezionando il link Users si accede alla lista degli user:</p> <p></p> <p>Selezionando lo user <code>marco</code> si accede alla form in cui si pu\u00f2 fare il reset della password. Impostate la password che volete. Nel proseguo di questo testo si ipotizza che abbiate assegnata la password  <code>thoth_pwd</code></p> <p>. </p> <p>Nel caso non fosse gi\u00e0 inizializzato, selezionare il checkbok <code>Superuser status</code> per assegnare all'utente <code>marco</code> i poteri necessari per gestire il backend di ThotAI.</p> <p>Una volta assegnata la password si pu\u00f2 fare logout e rientrare con l'utente marco. L'utente superuser precedentemente  generato deve essere mantenuto nel database per avere una backdoor di accesso all'area amministrativa sempre disponibile.</p>"},{"location":"3-quickstart/3.1-quick_setup/#2-preprocessing","title":"2 - Preprocessing","text":"<p>Andare su http://localhost:8040 (porta 8000 se l'installazione \u00e8 stata fatta in locale)</p> <p></p> <p>Selezionare la pagina del Preprocessing</p> <p></p> <p>Eseguire in successione <code>Load Hints</code>, <code>Load Questions</code> e <code>Run Preprocessing</code>. Non \u00e8 necessario eseguire l'<code>Update Columns Descriptions</code> perch\u00e9 il comando <code>python manage.py load_defaults</code>, eseguito in fase di setup, ha gi\u00e0 caricato le descrizioni delle Columns  del database <code>California Schools</code>. </p> <p>Si vedr\u00e0 in seguito se e come queste tre funzioni debbano essere utilizzata per database collegati successivamente al setup iniziale.</p> <p>\u00c8 possibile verificare l'effetto di queste funzioni esaminando il contenuto del database vettoriale tramite le specifiche gestioni.</p>"},{"location":"3-quickstart/3.1-quick_setup/#21-la-gestione-degli-hints","title":"2.1 - La gestione degli Hints","text":"<p>Gli Hints sono suggerimenti, o \"evidence\", che chiariscono come interpretare determinati termini e come determinare l'informazione richiesta partendo dal database. Gli Hints vengono inseriti nei prompt di generazione e controllo del SQL per aiutare i modelli a comprendere la domanda e a mapparla rispetto allo schema. Il setup di default legge gli Hints relativi al database <code>california_schools</code> dal file <code>dev.json</code> e li salva nel database vettoriale durante il preprocessing. Per ulteriori dettagli vedere la specifica pagina del Reference Manual</p> <p></p>"},{"location":"3-quickstart/3.1-quick_setup/#22-la-gestione-delle-questions","title":"2.2 - La gestione delle Questions","text":"<p>Le Questions sono l'associazione tra una domanda, un Hint e un 'Gold' SQL, cio\u00e8 un SQL sicuramente in grado di rispondere alla domanda dato l'Hint. Una preselezione di Questions, scelte da ThothAI per similarit\u00e0 rispetto alla domanda posta, vengono inserite nei prompt di generazione e controllo del SQL come \"few shots\". Il setup di default legge le Questions relative al database <code>california_schools</code> dal file <code>dev.json</code> e le salva nel database vettoriale durante il preprocessing. Per ulteriori dettagli vedere la specifica pagina del Reference Manual</p> <p></p>"},{"location":"3-quickstart/3.1-quick_setup/#23-la-gestione-delle-columns","title":"2.3 - La gestione delle Columns","text":"<p>Le Columns sono le descrizioni delle Columns presenti nel database. Sono raccolte nel database vettoriale perch\u00e9, nella fase  di generazione dello \"schema link', ThothAI usa la ricerca per similarit\u00e0 per pre-selezionare le Columns sulla base della  loro probabilit\u00e0 di essere parte del SQL generato. Il setup di default legge le Columns relative al database <code>california_schools</code> dal database stesso e le salva nel database vettoriale durante il preprocessing. Per ulteriori dettagli vedere la specifica pagina del Reference Manual</p> <p></p>"},{"location":"3-quickstart/3.1-quick_setup/#3-generazione-tramite-ai-dello-scope-del-database-california-schools","title":"3 - Generazione tramite AI dello scope del database California Schools","text":"<p>Lo <code>scope</code> del database \u00e8 una descrizione dei contenuti del database che permette a ThothAI, tramite l'uso dell'AI', di capire se la domanda posta \u00e8 pertinente rispetto al DB interrogato. In ThothAI \u00e8 disponibile una funzione che permette di usare l'AI per determinare lo `scope di un database.</p> <p>Passare alla sezione Admin premendo <code>l'icona impostazioni</code> rappresentato dall'ingranaggio in alto a destra.</p> <p></p> <p>Ci si trova su questa form </p> <p></p> <p>Aprire la lista degli <code>Sql dbs</code>, selezionare il db <code>cs_sqlite</code>, dalle action selezionare <code>Generate scope (AI assisted)</code> e premere su <code>Go</code></p> <p></p> <p>Viene eseguita una richiesta al modello impostato come <code>Comment model</code> nel setting <code>Default</code> associato al workspace <code>California Schools</code>, quello su cui si sta operando.</p> <p>Terminata l'operazione (il tempo dipende dalla complessit\u00e0 del database e dal LLM utilizzato), si pu\u00f2 visualizzare il testo che descrive lo scope del database nella scheda del database.  Questa informazione verr\u00e0 utilizzata dal workflow di generazione del SQL per valutare se la domanda fatta \u00e8 pertinente o completamente fuori contesto. </p> <p></p> <p>La fase di setup necessaria per un rapido utilizzo dell'applicazione \u00e8 terminata. A questo punto \u00e8 possibile iniziare a utilizzare il frontend per eseguire le. interrogazioni Per vedere come utilizzare ThothAI con la configurazione di default leggere l'apposita sezione di questa documentazione.</p> <pre><code>docker ps\n</code></pre> <p>Deve comparire una lista come la seguente:</p> <p></p> <p>A questo punto si pu\u00f2 procedere alla fase successiva</p> <p>La prima colonna a sinistra mostra gli ID dei container presenti. Individuare l'ID di <code>thoth-be</code> e copiarlo in memoria.</p> <p>Accedere al container eseguendo il comando <pre><code>docker exec -it thoth-be-id-just-copied /bin/bash\n</code></pre></p> <p>Ora si pu\u00f2 procedere a eseguire i comandi necessari per la configurazione minima di default.</p>"},{"location":"3-quickstart/3.1-quick_setup/#14-creazione-di-un-superuser","title":"1.4 - Creazione di un superuser","text":"<p>Il primo comando crea un utente superuser da utilizzare per accedere al backend. <pre><code>uv run python manage.py createsuperuser\n</code></pre></p> <p>Rispondere alle domande poste da Thoth (in quanto applicazione Django) e creare un utente superuser, utilizzando uno username diverso da quello che avranno gli utenti reali.</p>"},{"location":"3-quickstart/3.1-quick_setup/#15-setup-iniziale","title":"1.5 - Setup iniziale","text":"<p>Procedere quindi a caricare un setup base completo e consistente da usare come setup minimo iniziale. <pre><code>uv run python manage.py load_defaults --source=docker\n</code></pre></p> <p>Attenzione al parametro --source!</p> <p>\u00c8 importante indicare <code>--source=docker</code>, in quanto alcuni parametri per il deploy sotto Docker sono diversi rispetto a quelli usati per il deploy in locale.</p> <p>Nel caso abbiate sbagliato, tenete conto che la procedura di <code>load_defaults</code> pu\u00f2 essere ripetuta, e che il parametro fondamentale da verificare \u00e8 il VectorDb <code>cs_sqlite</code>, che deve avere come <code>host=thoth-qdrant</code> e non <code>localhost</code>.</p> <p>Con il comando <code>load_defaults</code> si creano cinque gruppi (Admin, Editor, BasicUser, TechUser e DebugUser) e due utenti (marco e maria). Inoltre, si crea un setup completo per modelli AI, agenti, database e workspace con delle configurazioni base funzionanti, associate agli utenti marco e maria, che possono essere usate come template per i futuri utenti reali.</p>"},{"location":"3-quickstart/3.1-quick_setup/#opzioni-di-pulizia-selettiva-per-risolvere-conflitti","title":"Opzioni di pulizia selettiva per risolvere conflitti","text":"<p>Se durante l'esecuzione di <code>load_defaults</code> si ricevono errori di tipo \"UNIQUE constraint failed\", \u00e8 possibile utilizzare le opzioni di pulizia selettiva per rimuovere i dati esistenti prima del caricamento:</p> <pre><code># Pulisce solo la struttura del database e i workspace (risolve la maggior parte dei conflitti)\nuv run python manage.py load_defaults --source=docker --clean-db-structure --clean-workspaces\n\n# Pulisce tutto tranne utenti e gruppi\nuv run python manage.py load_defaults --source=docker --clean-db-structure --clean-workspaces --clean-ai-config --clean-vector-dbs\n\n# Pulisce TUTTO (attenzione: cancella anche gli utenti superuser!)\nuv run python manage.py load_defaults --source=docker --clean-all\n</code></pre> <p>Opzioni disponibili: - <code>--clean-db-structure</code>: Rimuove SqlDb, SqlTable, SqlColumn e Relationship - <code>--clean-workspaces</code>: Rimuove i Workspace esistenti - <code>--clean-ai-config</code>: Rimuove AiModel, BasicAiModel, Agent e Setting - <code>--clean-vector-dbs</code>: Rimuove le configurazioni VectorDb - <code>--clean-users</code>: Rimuove User e Group (\u26a0\ufe0f ATTENZIONE: cancella TUTTI gli utenti inclusi i superuser!) - <code>--clean-all</code>: Rimuove tutti i dati sopra elencati</p> <p>Queste opzioni sono particolarmente utili quando si clona il progetto su un nuovo sistema e si vuole garantire che non ci siano conflitti con ID preesistenti.</p>"},{"location":"3-quickstart/3.1-quick_setup/#2-installazione-dellapplicazione-di-frontend-thothui","title":"2 - Installazione dell'applicazione di frontend, ThothUI","text":"<p>Una volta installato il backend, si pu\u00f2 installare il frontend, dal nome ThothUI. Entrare quindi nel progetto ThothUI e procedere come segue:</p>"},{"location":"3-quickstart/3.1-quick_setup/#21-impostazione-del-file-_env","title":"2.1 - Impostazione del file _env","text":"<p>Se \u00e8 stato eseguita la install.sh (install.bat) il file _env.templaate \u00e8 stato gi\u00e0 copiato in _env.  Altrimenti bisogna copiare <code>_env.template</code> in <code>_env</code> e compilare i placeholder necessari.  Devono essere necessariamente inserite le key di Django <code>DJANGO_API_KEY</code> e di almeno un provider LLM. La key di Logfire \u00e8 fortemente consigliata, ma non obbligatoria.</p>"},{"location":"3-quickstart/3.1-quick_setup/#22-esecuzione-del-docker-compose-up","title":"2.2 - Esecuzione del docker-compose up","text":"<pre><code>docker-compose up --build -d\n</code></pre>"},{"location":"3-quickstart/3.1-quick_setup/#3-verifica-del-funzionamento-dellapplicazione-sotto-docker","title":"3 - Verifica del funzionamento dell'applicazione sotto Docker","text":""},{"location":"3-quickstart/3.1-quick_setup/#31-verifica-del-backend","title":"3.1 - Verifica del backend","text":"<p>Per verificare il backend \u00e8 possibile aprire http://localhost:8040 e fare login con l'utente superuser appena creato.</p> <p>Ci si ritrover\u00e0 di fronte a questa form:</p> <p></p> <p>Cliccando sull'icona in alto a destra, evidenziata col contorno in rosso, \u00e8 possibile accedere all'area amministrativa:</p> <p></p> <p>Cliccando sul link \"view site\" si torna alla Home Page del backend.</p>"},{"location":"3-quickstart/3.1-quick_setup/#32-verifica-del-frontend","title":"3.2 - Verifica del frontend","text":"<p>Per verificare il frontend \u00e8 possibile andare su http://localhost:8501 e fare login sempre con credenziali <code>marco/thoth_pwd</code>. </p> <p>Ci si trova di fronte a questa form:</p> <p></p>"},{"location":"3-quickstart/3.1-quick_setup/#4-conclusione","title":"4 - Conclusione","text":"<p>Le due componenti di ThothAI, denominate Thoth e ThothUI, sono ora \"up and running\" su Docker e si pu\u00f2 passare al completamento della loro configurazione. Per un setup rapido, che fa uso dei default e dura pochi minuti, andare alla pagina dove viene descritto il Quick Setup.</p> <p>In seguito si potr\u00e0 realizzare un setup completo, con nuovi utenti, nuovi gruppi, nuovi database, ecc.  Per farlo, partire dalla pagina di setup dello User Manual.</p>"},{"location":"3-quickstart/3.2-quickstart_frontend/","title":"Quick Start Frontend","text":"<p>Il Quick Setup permette all'utente <code>marco</code> di operare sul database <code>california_schools</code>  esprimendo domande, in Inglese, simili a quello che si possono trovare nel file <code>dev.json</code> disponibile nella directory <code>data/dev_databases/california_schools</code> del backend <code>Thoth</code>.</p> <p>Il frontend, se si sta operando sotto Docker, \u00e8 disponibile all'indirizzo http://localhost:8501,  mentre se si sta operando in locale \u00e8 disponibile all'indirizzo http://localhost:8503</p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#1-form-iniziale","title":"1 - Form iniziale","text":"<p>Una volta fatto il login, con le credenziali marco/thoth_pwd, si accede a questa form:</p> <p></p> <p>La form \u00e8 divisa in una sidebar, a sinistra, e in una form che occupa tutto il resto dello schermo disponibile. </p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#2-sidebar","title":"2 - Sidebar","text":"<p>In alto a sinistra del sidebar c'\u00e8 il selettore del workspace su cui si vuole lavorare.</p> <p></p> <p>Il setup di default prevede l'attivazione del solo workspace California Schools, per cui il workspace,  fino a quando non si aggiungono nuovi workspace, non permette altre scelte. </p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#3-parametri-di-visualizzazione","title":"3 - Parametri di visualizzazione","text":"<p>Al centro del sidebar ci sono i parametri che guidano le informazioni che l'utente riceve durante l'esecuzione delle interrogazioni. </p> <p></p> <p>Il valore del sidebar sono quelli assegnati al gruppo User a cui l'utente <code>marco</code>appartiene. \u00c8 possibile modificare il default in ogni momento. Lasciando i valori di default, a ogni interrogazione l'utente <code>marco</code> vedr\u00e0:</p> <ul> <li>quali sono le keyword estratte dalla domanda, sulla base delle quali sono state selezionate le tabelle e i campi </li> <li>quali sono gli hints estratti, e passati ai modelli LLM, per aiutarli a comprendere la richiesta</li> <li>la tabella dei dati risultato dell'esecuzione del SQL generato</li> <li>una descrizione testuale, sotto forma di punti elenco, del SQL generato che chiarisca i .................</li> </ul> <p>Utenti pi\u00f9 \"tecnici\" possono vedere l'SQL generato, e altri, ancora pi\u00f9 tecnici, o semplicementi pi\u00f9 curiosi,  possono seguire passo a passo l'esecuzione del processo. Andare alla pagina dei Group Profiles per una visione pi\u00f9 approfondita delle conseguenze di queste impostazioni.</p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#4-treat-empty-result-as-error","title":"4 - Treat Empty Result as Error","text":"<p>Un flag particolare \u00e8 quello denominato \"Treat Empty Result as Error\"</p> <p></p> <p>Una richiesta pu\u00f2 condurre alla generazione di un SQL che, una volta eseguito, risulta formalmente corretto, ma produce come risultato una lista vuota. Talvolta ci\u00f2 significa che l'SQL generato \u00e8 sbagliato, talvolta, invece, la domanda pu\u00f2 aver fatto generare filtri troppo selettivi. Ad esempio:</p> <ul> <li>se chiedo \"dimmi i clienti che hanno sede in Nord Italia\" mi aspetto di trovarne qualcuno;</li> <li>se chiedo \"dimmi i clienti che hanno sede nel comune di Gorgonzola, in via Padana 112\" pu\u00f2 essere che non ve ne sia nemmeno uno.</li> </ul> <p>Il flag \"Treat Empty Result as Error\" serve apposta a comunicare a ThothAI se considerare un sintomo di errore (SQL formulato male)  una eventuale lista vuota in risposta, oppure se accettarla come possibile esito della ricerca.</p> <p>Il valore default per questo flag \u00e8 False, cio\u00e8 si accettano liste vuote in risposta. L'utente pu\u00f2 decidere di volta in volta, valutando quanto selettiva  \u00e8 la richiesta che sta per fare, come impostare questo parametro.</p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#5-reset","title":"5 - Reset","text":"<p>Sopra i flag che indirizzano i messaggi ricevuti dal backend, c'\u00e8 il tasto Reset.</p> <p></p> <p>La pressione del tasto Reset permette di interrompere l'attivit\u00e0 in ogni momento, anche durante l'esecuzione del  workflow. L'effetto della sua pressione, oltre all'interruzione del workflow, \u00e8 l'azzeramento di tutte le cache e il reset di tutte le variabili di lavoro.  Infine, premendo il Reset, la form di gestione viene ripulita di tutti i messaggi e riproposta, vuota, per una nuova question.</p> <p>Info</p> <p>E' una buona pratica, sia pure non strettamente necessaria, premere il tasto di Reset al termine di ogni interrogazione. In questo modo la form viene ripulita da tutti i messaggi della precedente interrogazione, evitando problemi di comprensione dei messaggi ricevuti. </p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#6-first-sql-generator","title":"6 - First SQL Generator","text":"<p>Nella sidebar appare anche un selettore del <code>First SQL Generator</code></p> <p></p> <p>Il workflow base della generazione del SQL, in grado di rispondere alla domanda posta dall'utente, prevede una escalation di modelli sempre pi\u00f9 complessi, e inevitabilmente pi\u00f9 cari, da coinvolgere nel processo.</p> <p>In configurazione standard, ThotAI parte da un modello Basic per poi, dopo tre tentativi falliti, passare al modello Advanced e infine Expert. Ovviamente, perch\u00e9 avvenga una vera escalation, \u00e8 opportuno che i tre Agent citati utilizzino modelli a complessit\u00e0 crescente. Ad esempio, rimanendo all'interno dell'offerta Anthropic a met\u00e0  2025, il Basic potrebbe essere Sonnet 3.7, l'Advanced potrebbe essere Sonnet 4.0 e l'Expert potrebbe essere Opus 4.0.</p> <p>Il selettore <code>First SQL Generator</code> permette di stabilire con quale Generator si vuole iniziare l'escalation. In base alla complessit\u00e0 del database, ad esempio, pu\u00f2 essere opportuno saltare i generatori Basic e partire subito con un Advanced.</p> <p>Il default di questo parametro \u00e8 impostato a livello di workflow, in quanto ogni database pu\u00f2 essere gestito con uno starter point diverso. L'utente pu\u00f2 sempre modificare il valore di default e decidere di partire da un Advanced o, addirittura, da un Expert saltando i livelli precedenti.</p> <p>In caso di fallimento anche dell'agente Expert, ThothAI \u00e8 configurato per provare a usare la soluzione Titanic. Andare  nell'apposita pagina del Reference Manual per vedere in dettaglio di cosa si tratta.</p> <p>Per una visione generale del Workflow implementato da ThothAI andare alla specifica pagina del Reference Manual</p>"},{"location":"3-quickstart/3.2-quickstart_frontend/#7-esecuzione-della-richiesta","title":"7 - Esecuzione della richiesta","text":"<p>Per fare una domanda e ricevere, come risposta, una tabella contenente la risposta, basta comportarsi come si fa davanti a una normale form di colloqui con un GPT.</p> <p></p> <p>\u00c8 sufficiente inserire la domanda nell'apposito spazio e premere Invio. ThothAI provveder\u00e0 ad eseguire il workflow partendo dal SQL Generator indicato  ed evidenziando, nello spazio delle risposte, i messaggi richiesti.</p> <p>L'output che viene sempre esposto \u00e8 la tabella risultato dell'interrogazione, che pu\u00f2 anche essere composta da un unico record. Tutte le. altre informazioni sono evidenziate solo se esplicitamente richieste. Ricordo che si pu\u00f2 scegliere di voler vedere: - le Keywords estratte dalla domanda, utilizzate per le ricerche di similarit\u00e0 - gli Hints estratti dal database vettoriale tramite ricerca di similarit\u00e0 con la domanda e con le keywords estratte; - gli steps eseguiti, con evidenziazione dell'Agent incaricato; - l'SQL generato;  - Le specifiche richieste di generazione del SQL, tramite cui si pu\u00f2 osservare l'escalation effettuata sui vari Agent; - Una spiegazione \"non tecnica\" del SQL generato, che pu\u00f2 accompagnare la presentazione del risultato della richiesta quando l'utente non ha le competenze per valutare l'SQL.</p> <p>Un esempio di come pu\u00f2 apparire la form alla fine dell'interrogazione \u00e8 evidenziato di seguito.</p> <p></p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/","title":"Setup di ThothAI - Attivit\u00e0 da Eseguire","text":"<p>Dopo aver completato l'installazione di base di ThothAI, \u00e8 necessario eseguire alcune attivit\u00e0 di configurazione  per personalizzare il sistema secondo le proprie esigenze. Di seguito sono elencate le attivit\u00e0 principali da completare:</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#1-completamento-del-setup-dei-gruppi","title":"1. Completamento del Setup dei Gruppi","text":"<p>I Gruppi aggregano diversi Users rispetto a tre funzionalit\u00e0:</p> <ul> <li>la possibilit\u00e0 di accedere all'area amministrativa, riservata ai membri del gruppo Admin</li> <li>la possibilit\u00e0 di creare, modificare e cancellare hli Hints, le Questions e le Columns all'interno del database vettoriale. Questa funzionalit\u00e0 \u00e8 riservata agli Editor</li> <li>la possibilit\u00e0 di vedere o meno i messaggi di log del comportamento interno del frontent (ThothSL). Utenti poco tecnici, interessati solo al risultato della loro interrogazione possono infatti essere infastiditi da un eccesso di informazione, mentre utenti pi\u00f9 tecnici potrebbero voler seguire in dettaglio lo svolgersi delle attivit\u00e0 di generazione del SQL, dalla identificazione delle parole chiave fino alla creazione del SQL e alla sua esecuzione.</li> </ul> <p>Per dettagli sulla gestione dei Gruppi consultare le pagine:</p> <ul> <li> Gruppi</li> <li> Profili Gruppo</li> </ul> <p>La configurazione dei <code>Gruppi</code> \u00e8 il primo passo, ed \u00e8 essenziale per il corretto funzionamento del sistema perch\u00e9 sta alla base delle funzionalit\u00e0 di autorizzazione e, in parte, di gestione del workflow di esecuzione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#verifiche-necessarie","title":"Verifiche necessarie:","text":"<ol> <li>Verificare l'esistenza dei Gruppi pi\u00f9 importanti</li> </ol> <p>Verifica dei Gruppi</p> <p>Assicurarsi che esistano i gruppi <code>Admin</code>, <code>Editor</code> e almeno un gruppo <code>User</code>.</p> <p>Gruppi predefiniti</p> <p>Per impostazione predefinita, il comando <code>python manage.py import_groups</code>, da eseguire al momento dell'installazion, crea i gruppi:</p> <ul> <li>Admin</li> <li>Editor</li> <li>User_Basic</li> <li>User</li> <li>User_Tech</li> </ul> <ol> <li>Verificare i permessi del gruppo Admin</li> </ol> <p>Controllare che al gruppo <code>Admin</code> siano associati tutti i poteri di amministrazione previsti dal sistema.</p> <ol> <li>Configurare i log delle azioni</li> </ol> <p>Verificare che la visibilit\u00e0 delle azioni svolte da ThothSL associate ai Gruppi tramite <code>GroupProfile</code> siano quelli desiderati. In caso contrario, procedere con le modifiche necessarie.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#2-creazione-degli-utenti-reali","title":"2. Creazione degli Utenti Reali","text":"<p>Utilizzo degli esempi</p> <p>Il comando <code>python manage.py import_users</code> eseguito durante l'installazione ha creato gli utenti di esempio <code>Marco</code> (User) e <code>Maria</code> (TechUser). Utilizzare questi come riferimento per la creazione degli utenti reali.</p> <ol> <li>Analizzare la configurazione degli utenti di esempio</li> <li>Creare gli utenti reali seguendo lo stesso schema</li> <li>Associare ogni utente al gruppo di appartenenza appropriato</li> </ol>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti","title":"Approfondimenti","text":"<p> Gestione Utenti</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#3-verifica-degli-ai-models","title":"3. Verifica degli AI Models","text":"<p>Controllo modelli AI</p> <p>\u00c8 fondamentale verificare che tutti i modelli necessari siano disponibili prima di procedere con la configurazione degli agenti.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#attivita-da-svolgere","title":"Attivit\u00e0 da svolgere:","text":"<ul> <li>Verificare che gli <code>AiModel</code> caricati siano tutti quelli necessari per le proprie esigenze</li> <li>Il comando <code>import-all_csvs</code> ha creato un'ampia serie di configurazioni predefinite</li> <li>Aggiungere eventuali provider non previsti nel setup di default che si desidera utilizzare</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_1","title":"Approfondimenti","text":"<p> AI Models</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#4-verifica-degli-agenti","title":"4. Verifica degli Agenti","text":"<p>Configurazione agenti AI</p> <p>Gli agenti sono componenti fondamentali che utilizzano i modelli AI per eseguire specifiche operazioni.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#controlli-necessari","title":"Controlli necessari:","text":"<ul> <li>Verificare che siano presenti tutti gli <code>Agent</code> necessari per le proprie operazioni</li> <li>Il comando <code>import-all_csvs</code> ha creato un'ampia serie di agenti predefiniti</li> <li>Aggiungere eventuali agenti personalizzati che utilizzino <code>AiModels</code> non previsti nella configurazione di default</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_2","title":"Approfondimenti","text":"<p> Agenti</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#5-setup-dei-database-vettoriali","title":"5. Setup dei Database Vettoriali","text":"<p>Rapporto 1:1</p> <p>Il rapporto tra database vettoriale e database relazionale \u00e8 di 1:1. \u00c8 necessario definire un database vettoriale dedicato per ogni database relazionale che si vuole utilizzare.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#configurazione-richiesta","title":"Configurazione richiesta:","text":"<ul> <li>Configurare i database vettoriali per contenere i metadati dei database relazionali</li> <li>Ogni database relazionale deve avere il proprio database vettoriale dedicato</li> <li>Verificare la corretta associazione tra database vettoriali e relazionali</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_3","title":"Approfondimenti","text":"<p> Database Vettoriali</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#6-setup-del-database-relazionale","title":"6. Setup del Database Relazionale","text":"<p>Database di destinazione</p> <p>Il database relazionale \u00e8 il database che contiene i dati effettivi su cui si vuole eseguire l'interrogazione. Pu\u00f2 essere configurato localmente, su Docker o su server esterni.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#configurazione-necessaria","title":"Configurazione necessaria:","text":"<ul> <li>Definire la connessione al database relazionale di destinazione</li> <li>Configurare i parametri di accesso (host, porta, credenziali)</li> <li>Verificare la connettivit\u00e0 e i permessi di accesso</li> <li>Testare le query di base per assicurarsi del corretto funzionamento</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_4","title":"Approfondimenti","text":"<p> Database SQL</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#7-setup-dei-settings","title":"7. Setup dei Settings","text":"<p>Parametri di sistema</p> <p>I Settings raccolgono alcuni parametri fondamentali utilizzati nei processi di preprocessing, backend e frontend del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#parametri-da-configurare","title":"Parametri da configurare:","text":"<ul> <li>Impostazioni per i processi di preprocessing dei dati</li> <li>Configurazioni per il backend del sistema</li> <li>Parametri per l'interfaccia frontend</li> <li>Ottimizzazioni specifiche per l'ambiente di deployment</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_5","title":"Approfondimenti","text":"<p> Impostazioni</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#8-setup-del-workspace","title":"8. Setup del Workspace","text":"<p>Ambiente di lavoro</p> <p>Il Workspace \u00e8 dove avviene l'associazione tra il database da interrogare, gli Agent utilizzati dal processo di generazione del SQL e gli utenti abilitati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#configurazioni-richieste","title":"Configurazioni richieste:","text":"<ul> <li>Associare il database relazionale al workspace</li> <li>Definire gli agenti AI da utilizzare per la generazione delle query SQL</li> <li>Configurare gli utenti autorizzati ad accedere al workspace</li> <li>Impostare i permessi specifici per ogni utente o gruppo</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#approfondimenti_6","title":"Approfondimenti","text":"<p> Workspace</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#riepilogo","title":"Riepilogo","text":"<p>Completamento setup</p> <p>Completando queste otto attivit\u00e0, il sistema ThothAI sar\u00e0 configurato e pronto per l'utilizzo secondo le specifiche esigenze dell'organizzazione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.1-setup_process/4.1.1.1-setup_process/#checklist-finale","title":"Checklist finale:","text":"<ul> <li>[ ] Gruppi configurati correttamente</li> <li>[ ] Utenti reali creati e associati ai gruppi</li> <li>[ ] AI Models verificati e completati</li> <li>[ ] Agenti configurati per le esigenze specifiche</li> <li>[ ] Database vettoriali configurati per ogni database relazionale</li> <li>[ ] Database relazionali configurati e testati</li> <li>[ ] Settings del sistema impostati correttamente</li> <li>[ ] Workspace configurati con le associazioni appropriate</li> </ul> <p>Ordine di esecuzione</p> <p>Si consiglia di seguire l'ordine delle attivit\u00e0 come presentato, in quanto alcune configurazioni dipendono dalle precedenti.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/","title":"Gestione Admin in ThothAI","text":"<p>L'interfaccia di amministrazione di Django, utilizzata da Thoth, fornisce un sistema completo e intuitivo per la gestione dei dati attraverso un'interfaccia web.  Ecco come funziona:</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#1-navigazione-tramite-menu-laterale","title":"1. Navigazione tramite Menu Laterale","text":"<p>Ogni elemento configurato per l'amministrazione (User, Group, AiModel, Agent, ecc.) \u00e8 automaticamente accessibile attraverso il menu di navigazione  posizionato nella parte sinistra dell'interfaccia admin. </p> <p>Questo menu organizza i modelli per applicazione, creando una struttura gerarchica che facilita la navigazione tra le diverse entit\u00e0 del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#2-vista-lista-dei-record","title":"2. Vista Lista dei Record","text":"<p>Cliccando su un link del menu laterale, si accede alla vista lista che presenta tutti i record esistenti per quel particolare modello.  Questa vista offre una panoramica tabellare dei dati, mostrando le colonne pi\u00f9 rilevanti configurate dall'amministratore del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#3-sistema-di-filtri","title":"3. Sistema di Filtri","text":"<p>Nella parte destra della vista lista sono disponibili diversi filtri che permettono di raffinare la visualizzazione dei dati. Questi filtri possono essere basati su:</p> <ul> <li>Campi data (con filtri per anno, mese, giorno)</li> <li>Campi booleani (S\u00ec/No)</li> <li>Chiavi esterne (relazioni con altri modelli)</li> <li>Campi di scelta predefiniti</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#4-accesso-alla-form-di-dettaglio","title":"4. Accesso alla Form di Dettaglio","text":"<p>\u00c8 possibile accedere alla form di dettaglio in due modi:</p> <ul> <li>Selezionando un record esistente dalla lista per modificarlo</li> <li>Cliccando sul pulsante \"Aggiungi\" per creare un nuovo elemento</li> </ul> <p>Entrambe le azioni conducono alla stessa interfaccia di editing, adattata rispettivamente per la modifica o la creazione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#5-organizzazione-in-sezioni","title":"5. Organizzazione in Sezioni","text":"<p>La form di dettaglio pu\u00f2 essere organizzata in sezioni logiche (fieldsets) che raggruppano campi correlati. Questa strutturazione migliora l'usabilit\u00e0 permettendo di:</p> <ul> <li>Raggruppare informazioni correlate</li> <li>Creare sezioni collassabili per campi opzionali</li> <li>Organizzare visivamente form complessi con molti campi</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#6-selettore-delle-azioni","title":"6. Selettore delle Azioni","text":"<p>Nella vista lista \u00e8 presente un selettore di azioni (action selector) che permette di eseguire operazioni su pi\u00f9 record contemporaneamente.  Questo strumento si trova tipicamente nella parte superiore della lista e consente di applicare azioni bulk sui record selezionati tramite checkbox.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#7-import-ed-export-csv-in-thoth","title":"7. Import ed Export CSV in Thoth","text":"<p>Nel sistema Thoth, tra le azioni disponibili sono sempre presenti:</p> <ul> <li>Import CSV: permette di importare dati da file CSV</li> <li>Export CSV: consente di esportare i dati selezionati in formato CSV</li> </ul> <p>I file di import ed export sono conservati nella directory <code>export</code> situata alla radice del progetto. Questa directory ha un \"bind\" con l'equivalente container Docker,  permettendo agli utenti di:</p> <ul> <li>Visualizzare i file CSV esportati direttamente dal filesystem</li> <li>Creare e posizionare file CSV da importare nella stessa directory</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#8-cancellazione-di-record","title":"8. Cancellazione di Record","text":"<p>Oltre alle funzioni di import/export, \u00e8 normalmente disponibile l'azione di cancellazione che permette di eliminare i record selezionati.  Questa operazione richiede solitamente una conferma per prevenire cancellazioni accidentali.</p>"},{"location":"4-user_manual/4.1-setup/4.1.2-common_setup/4.1.2.1-common_setup/#9-action-specifiche","title":"9. Action Specifiche","text":"<p>Il sistema include anche comandi specifici personalizzati per particolari esigenze del progetto.  Questi comandi, denominati <code>actions</code>, sono documentati in dettaglio nello specifico capitolo della documentazione, dove vengono descritte le  funzionalit\u00e0 avanzate e le operazioni specializzate disponibili per ciascun modello.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/","title":"Modelli AI di Base","text":"<p>I Modelli AI di Base (Basic AI Models) rappresentano le categorie generiche dei modelli di linguaggio (LLM) supportati da Thoth, raggruppati per fornitore. Ogni record definisce un provider di base, come OpenAI, Anthropic (Claude), Mistral, ecc.</p> <p>Questa astrazione permette di organizzare e gestire centralmente i diversi tipi di LLM disponibili nel sistema, fungendo da base per la configurazione di modelli pi\u00f9 specifici.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#1-struttura-del-modello","title":"1 - Struttura del Modello","text":"<p>La tabella <code>BasicAiModel</code> contiene le informazioni fondamentali per identificare e descrivere una famiglia di modelli AI.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#11-campi-del-modello","title":"1.1 - Campi del Modello","text":"<p>Di seguito sono elencati i campi che definiscono un Modello AI di Base:</p> <ul> <li>Name: Un nome univoco che identifica la famiglia di modelli (es. \"OpenAI\", \"Anthropic\"). Questo campo \u00e8 obbligatorio e deve essere unico.</li> <li>Description: Un campo di testo opzionale per fornire una descrizione dettagliata della famiglia di modelli o del provider.</li> <li>Provider: Specifica il fornitore del modello di linguaggio. Il valore viene selezionato da un elenco predefinito di scelte, che include opzioni come:<ul> <li><code>OPENAI</code></li> <li><code>ANTHROPIC</code> (Claude)</li> <li><code>CODESTRAL</code></li> <li><code>DEEPSEEK</code></li> <li><code>META</code> (LLama)</li> <li><code>MISTRAL</code></li> <li><code>OLLAMA</code></li> <li><code>OPENROUTER</code></li> <li><code>GEMINI</code></li> </ul> </li> <li>Created At: La data e l'ora in cui il record \u00e8 stato creato.</li> <li>Updated At: La data e l'ora dell'ultima modifica del record.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#2-relazioni-con-altri-modelli","title":"2 - Relazioni con Altri Modelli","text":"<p>Il <code>BasicAiModel</code> ha una relazione diretta e fondamentale con il modello <code>AiModel</code>.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#21-relazione-con-aimodel","title":"2.1 - Relazione con AiModel","text":"<p>La relazione tra <code>BasicAiModel</code> e <code>AiModel</code> \u00e8 di tipo uno-a-molti. Questo significa che:</p> <ul> <li>Ogni <code>BasicAiModel</code> pu\u00f2 essere associato a uno o pi\u00f9 <code>AiModel</code>.</li> <li>Ogni <code>AiModel</code> deve essere collegato a un solo <code>BasicAiModel</code>.</li> </ul> <p>Ad esempio, un <code>BasicAiModel</code> con <code>name</code> \"OpenAI\" pu\u00f2 avere pi\u00f9 <code>AiModel</code> associati, come \"gpt-4\", \"gpt-3.5-turbo\", ecc. Questa struttura permette di raggruppare tutte le varianti di un provider sotto un'unica categoria, semplificando la gestione e la selezione dei modelli all'interno dei Workspace.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#3-gestione-dallinterfaccia-di-amministrazione","title":"3 - Gestione dall'Interfaccia di Amministrazione","text":"<p>La gestione dei Modelli AI di Base avviene tramite il pannello di amministrazione di Django, che offre un'interfaccia intuitiva per eseguire tutte le operazioni necessarie.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#31-visualizzazione-e-ricerca","title":"3.1 - Visualizzazione e Ricerca","text":"<p>Nella sezione di amministrazione, la lista dei <code>BasicAiModel</code> mostra le seguenti colonne:</p> <ul> <li>Name: Il nome univoco del modello base.</li> <li>Description: La descrizione fornita.</li> <li>Provider: Il fornitore del modello.</li> </ul> <p>\u00c8 possibile utilizzare la barra di ricerca per trovare un modello specifico cercando per <code>name</code> o <code>provider</code>. Inoltre, sono disponibili filtri per restringere la visualizzazione in base al nome, alla descrizione o al provider.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#32-creazione-e-modifica","title":"3.2 - Creazione e Modifica","text":"<p>Per creare un nuovo <code>BasicAiModel</code>, \u00e8 sufficiente fare clic sul pulsante \"Add Basic AI Model\" e compilare i campi del form. Durante la modifica, tutti i campi possono essere aggiornati secondo necessit\u00e0.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.1-basic_ai_models/#33-azioni-disponibili","title":"3.3 - Azioni Disponibili","text":"<p>Dalla lista dei <code>BasicAiModel</code>, \u00e8 possibile eseguire le seguenti azioni di gruppo su uno o pi\u00f9 record selezionati:</p> <ul> <li>Export selected items to CSV: Esporta i modelli base selezionati in un file CSV.</li> <li>Import from CSV: Importa nuovi modelli base o aggiorna quelli esistenti partendo da un file CSV. Questa funzionalit\u00e0 \u00e8 utile per la configurazione massiva del sistema.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/","title":"AI Models","text":"<p>In Thoth, la configurazione dei modelli di intelligenza artificiale (LLM) \u00e8 un passaggio cruciale che determina le capacit\u00e0 del sistema di comprendere le richieste in linguaggio naturale e generare query SQL. La gestione dei modelli \u00e8 suddivisa in due entit\u00e0 principali: Basic AI Models e AI Models. Questa struttura offre flessibilit\u00e0 e organizzazione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#1-basic-ai-models","title":"1 - Basic AI Models","text":"<p>Un Basic AI Model rappresenta una famiglia o un fornitore di modelli LLM. Ad esempio, \"Claude 3\" o \"GPT-4\" possono essere configurati come modelli di base. Questa entit\u00e0 raggruppa le configurazioni specifiche sotto un unico ombrello.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#11-campi-del-modello","title":"1.1 - Campi del Modello","text":"<p>Il form di amministrazione per i Basic AI Models contiene i seguenti campi:</p> <ul> <li>Name: Un nome univoco che identifica la famiglia di modelli (es. <code>Claude 3</code>).</li> <li>Description: Un campo di testo per una descrizione dettagliata del modello o del fornitore.</li> <li>Provider: Il fornitore del servizio LLM, selezionabile da una lista predefinita che include opzioni come <code>OpenAI</code>, <code>Anthropic</code>, <code>Mistral</code>, <code>Ollama</code>, ecc.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#12-gestione-nelladmin","title":"1.2 - Gestione nell'Admin","text":"<p>Dall'interfaccia di amministrazione di Django, \u00e8 possibile:</p> <ul> <li>Visualizzare la lista dei modelli di base con i loro nomi, descrizioni e provider.</li> <li>Filtrare e cercare i modelli per nome o provider.</li> <li>Esportare e importare la lista dei modelli in formato CSV.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#2-ai-models","title":"2 - AI Models","text":"<p>Un AI Model \u00e8 una configurazione specifica di un <code>BasicAiModel</code>. Permette di definire i parametri esatti per l'utilizzo di una particolare versione di un modello (es. \"Claude 3 Haiku\") e di associare le credenziali di accesso (API key).</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#21-relazione-con-basic-ai-model","title":"2.1 - Relazione con Basic AI Model","text":"<p>Esiste una relazione uno-a-molti tra <code>BasicAiModel</code> e <code>AiModel</code>. Un singolo <code>BasicAiModel</code> (es. \"Claude 3\") pu\u00f2 avere pi\u00f9 <code>AiModel</code> associati, ciascuno con una configurazione differente (es. \"Claude 3 Haiku\", \"Claude 3 Sonnet\", \"Claude 3 Opus\").</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#22-campi-del-modello","title":"2.2 - Campi del Modello","text":"<p>Il form di amministrazione per gli AI Models \u00e8 suddiviso in due sezioni per una maggiore chiarezza.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#221-sezione-principale","title":"2.2.1 - Sezione Principale","text":"<p>Questa sezione contiene le informazioni identificative e di accesso del modello:</p> <ul> <li>Basic model: Un menu a discesa per selezionare il <code>BasicAiModel</code> a cui questa configurazione appartiene.</li> <li>Specific model: Il nome tecnico o l'identificatore specifico del modello fornito dal provider (es. <code>claude-3-haiku-20240307</code>).</li> <li>Name: Un nome descrittivo e amichevole per questa configurazione (es. <code>Claude 3 Haiku</code>).</li> <li>API Key: La chiave API per l'autenticazione con il servizio LLM. Per motivi di sicurezza, la chiave viene mascherata e mostra solo gli ultimi quattro caratteri. Per aggiornarla, \u00e8 sufficiente inserire un nuovo valore; per cancellarla, lasciare il campo vuoto.</li> <li>Url: Un campo opzionale per specificare un URL di endpoint, utile per modelli self-hosted o servizi che non utilizzano l'endpoint standard del provider.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#222-sezione-advanced","title":"2.2.2 - Sezione \"Advanced\"","text":"<p>Questa sezione, collassabile di default, contiene i parametri tecnici che influenzano il comportamento del modello:</p> <ul> <li>Temperature allowed: Un selettore booleano che abilita o disabilita la possibilit\u00e0 di sovrascrivere la temperatura a livello di agente.</li> <li>Temperature: Un valore numerico (da 0.0 a 2.0) che controlla la \"creativit\u00e0\" del modello. Valori pi\u00f9 bassi (es. 0.2) producono risposte pi\u00f9 deterministiche, mentre valori pi\u00f9 alti (es. 0.8) generano output pi\u00f9 vari e creativi.</li> <li>Top P: Un valore numerico (da 0.0 a 1.0) che rappresenta un metodo alternativo alla temperatura per controllare la casualit\u00e0. Il modello seleziona i token la cui somma di probabilit\u00e0 cumulativa \u00e8 inferiore o uguale a questo valore.</li> <li>Max Tokens: Il numero massimo di token (unit\u00e0 di testo) che il modello pu\u00f2 generare in una singola risposta.</li> <li>Timeout: Il tempo massimo, in secondi, che il sistema attender\u00e0 per ricevere una risposta dal modello prima di interrompere la richiesta.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.2-ai_models/#23-gestione-nelladmin","title":"2.3 - Gestione nell'Admin","text":"<p>L'interfaccia di amministrazione per gli AI Models offre le seguenti funzionalit\u00e0:</p> <ul> <li>Visualizzazione in Lista: La lista mostra il nome specifico, il modello base associato e il nome descrittivo, facilitando l'identificazione delle configurazioni.</li> <li>Filtri e Ricerca: \u00c8 possibile cercare i modelli per nome (base, specifico o descrittivo) e filtrare per modello base.</li> <li>Azioni: Come per i modelli di base, \u00e8 possibile esportare e importare le configurazioni in formato CSV.</li> </ul> <p>Questa struttura a due livelli consente una gestione ordinata e scalabile dei modelli di intelligenza artificiale, separando la definizione generale del fornitore dalla configurazione specifica di ogni singolo modello utilizzato all'interno di Thoth.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/","title":"Agents","text":"<p>Gli agenti in Thoth sono entit\u00e0 specializzate che utilizzano i modelli di intelligenza artificiale (AI Models) per eseguire compiti specifici all'interno del flusso di lavoro di generazione SQL. Ogni agente \u00e8 configurato per svolgere un ruolo preciso, come l'estrazione di parole chiave, la selezione di colonne o la generazione di codice SQL.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#1-tipi-di-agenti","title":"1. - Tipi di Agenti","text":"<p>Thoth prevede diversi tipi di agenti, ognuno progettato per una fase specifica del processo. I tipi di agenti disponibili sono definiti nel sistema e possono essere selezionati durante la creazione o la modifica di un agente.</p> <p>I tipi di agenti sono:</p> <ul> <li>Generate SQL Basic: Un agente di base per la generazione di query SQL.</li> <li>Default: Un tipo di agente generico.</li> <li>Extract Keywords: Estrae le parole chiave rilevanti dalla domanda dell'utente.</li> <li>Select Columns: Seleziona le colonne del database pi\u00f9 pertinenti per la domanda.</li> <li>Sql - Basic: Genera query SQL di base.</li> <li>Sql - Advanced: Genera query SQL pi\u00f9 complesse.</li> <li>Sql - Expert: Genera query SQL a livello di esperto.</li> <li>Sql - Titan: Genera le query SQL pi\u00f9 complesse, utilizzate nei workflow pi\u00f9 avanzati.</li> <li>Test Generator: Genera test per verificare la correttezza delle query SQL.</li> <li>Test Executor: Esegue i test generati.</li> <li>Ask For Human Help: Gestisce i casi in cui \u00e8 necessario l'intervento umano.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#2-gestione-degli-agenti","title":"2. - Gestione degli Agenti","text":"<p>La gestione degli agenti avviene tramite l'interfaccia di amministrazione di Django. Da qui \u00e8 possibile creare, modificare ed eliminare gli agenti.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#21-creazione-e-modifica-di-un-agente","title":"2.1 - Creazione e Modifica di un Agente","text":"<p>Per creare un nuovo agente o modificarne uno esistente, \u00e8 necessario compilare i seguenti campi:</p> <ul> <li>Name: Un nome univoco per identificare l'agente.</li> <li>Agent Type: Il tipo di agente, selezionato da un elenco a discesa (vedi sezione 1).</li> <li>AI Model: Il modello di intelligenza artificiale che l'agente utilizzer\u00e0 per eseguire i suoi compiti. Questo \u00e8 un collegamento a un'istanza di <code>AiModel</code> preconfigurata.</li> <li>Temperature: Un valore decimale che controlla la casualit\u00e0 dell'output del modello AI. Valori pi\u00f9 alti rendono l'output pi\u00f9 vario, mentre valori pi\u00f9 bassi lo rendono pi\u00f9 deterministico.</li> <li>Top_p: Un parametro alternativo alla temperatura per controllare la casualit\u00e0.</li> <li>Max Tokens: Il numero massimo di token (parole o pezzi di parole) che il modello AI pu\u00f2 generare in una singola risposta.</li> <li>Timeout: Il tempo massimo, in secondi, che l'agente attender\u00e0 per una risposta dal modello AI.</li> <li>System Prompt: Un'istruzione o un contesto fornito al modello AI per guidare il suo comportamento. Questo prompt viene utilizzato per definire il ruolo e gli obiettivi dell'agente.</li> <li>User Prompt: Il prompt che simula l'input dell'utente, utilizzato in combinazione con il System Prompt.</li> <li>Retries: Il numero di tentativi che l'agente effettuer\u00e0 in caso di fallimento.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#22-visualizzazione-degli-agenti","title":"2.2 - Visualizzazione degli Agenti","text":"<p>La pagina di elenco degli agenti nell'interfaccia di amministrazione mostra una panoramica di tutti gli agenti configurati, con colonne per:</p> <ul> <li>Name: Il nome dell'agente.</li> <li>Agent Type: Il tipo di agente.</li> <li>AI Model: Il nome del modello AI associato.</li> <li>Temperature: La temperatura configurata.</li> <li>Top_p: Il valore di top_p configurato.</li> <li>Max Tokens: Il numero massimo di token.</li> <li>Timeout: Il timeout configurato.</li> </ul> <p>\u00c8 possibile filtrare gli agenti per tipo e per modello AI di base, e cercarli per nome.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#3-relazioni-con-altri-modelli","title":"3. - Relazioni con altri Modelli","text":""},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#31-relazione-con-aimodel","title":"3.1 - Relazione con AiModel","text":"<p>Ogni agente deve essere associato a un <code>AiModel</code>. Questa relazione \u00e8 fondamentale, poich\u00e9 l'agente delega al modello AI l'esecuzione dei compiti di elaborazione del linguaggio naturale. La configurazione dell'agente (come <code>temperature</code> e <code>max_tokens</code>) pu\u00f2 sovrascrivere le impostazioni predefinite del modello AI associato, consentendo una personalizzazione fine per ogni specifico compito.</p>"},{"location":"4-user_manual/4.1-setup/4.1.3-AI_models_and_agents/4.1.3.3-agents/#32-relazione-con-workspace","title":"3.2 - Relazione con Workspace","text":"<p>Gli agenti sono utilizzati all'interno dei <code>Workspace</code>. Un workspace definisce un ambiente di lavoro completo, che include un database SQL e una serie di agenti configurati per interagire con esso.</p> <p>Nel modello <code>Workspace</code>, ci sono pi\u00f9 campi che collegano a diversi agenti, ognuno con un ruolo specifico nel flusso di lavoro. Ad esempio, un workspace ha campi come:</p> <ul> <li><code>kw_sel_agent_1</code> e <code>kw_sel_agent_2</code> per l'estrazione di parole chiave.</li> <li><code>sel_columns_agent_1</code> e <code>sel_columns_agent_2</code> per la selezione delle colonne.</li> <li><code>sql_basic_agent</code>, <code>sql_advanced_agent</code>, <code>sql_expert_agent</code>, e <code>sql_titan_agent_1</code> / <code>sql_titan_agent_2</code> per i diversi livelli di generazione SQL.</li> <li><code>test_gen_agent_1</code> e <code>test_gen_agent_2</code> per la generazione di test.</li> <li><code>test_exec_agent</code> per l'esecuzione dei test.</li> <li><code>ask_human_help_agent</code> per richiedere assistenza.</li> </ul> <p>Questa struttura permette di creare flussi di lavoro complessi e personalizzati, in cui diversi agenti collaborano per trasformare una domanda in linguaggio naturale in una query SQL valida e ottimizzata.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.1-groups/","title":"Gestione dei Gruppi","text":"<p>Il backend di Thoth si basa su <code>Django</code>, un framework molto noto in ambito Python, che include un proprio sistema di autenticazione.</p> <p>Nell'autenticazione di Django` un gruppo \u00e8 un modo  per categorizzare gli utenti e assegnare loro permessi e attributi in modo collettivo. </p> <p>In Thoth, il concetto di gruppo \u00e8 stato esteso per offrire un controllo pi\u00f9 granulare sull'esperienza utente nell'esecuzione delle interrogazioni, attraverso un Profilo di Gruppo che \u00e8 associato a ogni gruppo standard di Django.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.1-groups/#1-accesso-ai-gruppi","title":"1 - Accesso ai gruppi","text":"<p>Alla gestione dei gruppi si accede tramite il menu presente nella sidebar delle pagine di amministrazione del backend.</p> <p></p> <p>Cliccando su Groups appare la lista dei gruppi disponibili.</p> <p></p> <p>Selezionando un gruppo, ad esempio il gruppo User, appare la seguente form:</p> <p></p> <p>Il setup di un gruppo prevede che, oltre al nome, vengano definiti - i permessi attribuiti ai membri del gruppo - il profilo del gruppo</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.1-groups/#2-i-permessi-attribuiti-ai-membri-del-gruppo","title":"2 - I permessi attribuiti ai membri del gruppo","text":"<p>I permessi attribuibili a un gruppo possono essere di due tipi:</p> <ol> <li>permessi standard di Django, che sono descritti qui</li> <li>permessi specifici di Thoth, che sono quelli il cui nome inizia con <code>Thoth_Core</code>.</li> </ol> <p>La soluzione pi\u00f9 rapida \u00e8 quella di attribuire al gruppo Admin tutti i permessi previsti nella form di gestione, e lasciare senza alcun permesso tutti gli altri gruppi.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.1-groups/#21-a-cosa-servono-i-gruppi-in-thoth","title":"2.1 - A cosa servono i Gruppi in Thoth","text":"<ol> <li>gli Admin, che possono gestire il setup del backend in termini di database, modelli, agenti e workspaces</li> <li>gli Editor, che non possono agire sul backend, ma possono gestire il contenuto del database vettoriale per operare su Hints, Column Descriptions e Questions e per eseguire il preprocessing </li> <li>Gli User (possono esserci tanti gruppi di tipo User) che possono solo agire sul frontend senza poter contribuire al database vettoriale e tanto meno alla configurazione generale. Si tratta quindi di utilizzatori finali</li> </ol> <p>Un utente quindi pu\u00f2 essere, ad esempio:</p> <ul> <li>un semplice User, con un profilo che, durante la gestione del workflow, gli permette di vedere alcuni dei i messaggi che informano sull'avanzamento del processo</li> <li>uno User_Basic, che pu\u00f2 vedere solo la tabella risultante dalla query e la spiegazione di come ci si \u00e8 arrivati, </li> <li>uno User_Tech , normalmente un utente con conoscenze di database, che vede tutti i dettagli del workflow e l'istruzione SQL generata</li> </ul> <p>Oltre che appartenere a un gruppo User, un utente pu\u00f2 appartenere anche a:</p> <ul> <li>un gruppo Editor, acquisendo cos\u00ec l'autorizzazione ad aggiungere informazioni sul database vettoriale</li> <li>un gruppo Admin, acquisendo cos\u00ec l'autorizzazione ad amministrare i parametri generali dell'applicazione. {{ ... }}</li> <li>Show SQL generation: Se attivato, l'utente potr\u00e0 vedere quale Agente viene usato per la  generazione della query SQL, inclusi i passaggi intermedi e le decisioni prese dall'AI.</li> <li>Explain generated query: Se attivato, l'AI fornir\u00e0 una spiegazione, in linguaggio naturale, della query SQL generata. Questo \u00e8 particolarmente utile a utenti non tecnici per comprendere come l'interrogazione \u00e8 stata gestita senza bisogno di conoscere l'SQL.</li> </ul> <p>Ulteriori dettagli possono essere </p> <p>Le opzioni gestite dal Profilo di Gruppo controllano quali informazioni vengono mostrate agli utenti appartenenti al gruppo durante l'esecuzione del workflow di generazione del SQL.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/","title":"Gestione Utenti","text":"<p>La gestione degli utenti in Thoth si basa sul sistema di autenticazione standard di Django, che fornisce un framework solido per la gestione di utenti, gruppi e permessi. Questa sezione descrive come vengono gestiti gli utenti all'interno di Thoth e quali informazioni sono associate a ciascun utente.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#1-il-concetto-di-utente","title":"1 - Il Concetto di Utente","text":"<p>Nel sistema di autenticazione di Django, un \"Utente\" rappresenta un individuo che pu\u00f2 accedere e interagire con l'applicazione. Ogni utente ha le proprie credenziali (nome utente e password) e un insieme di permessi che definiscono quali azioni pu\u00f2 eseguire all'interno del sistema.</p> <p>Thoth utilizza il modello <code>User</code> standard di Django senza estensioni dirette. Questo significa che le informazioni di base gestite per ogni utente sono l'insieme predefinito da Django.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#2-informazioni-gestite-nel-form-utente","title":"2 - Informazioni Gestite nel Form Utente","text":"<p>Quando si crea o si modifica un utente dall'interfaccia di amministrazione di Thoth, vengono gestite le seguenti sezioni di informazioni:</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#21-dati-personali","title":"2.1 - Dati Personali","text":"<ul> <li>Nome utente: Il nome univoco utilizzato per il login.</li> <li>Password: La password di autenticazione. Per motivi di sicurezza, la password non viene mai mostrata in chiaro.</li> <li>Nome: Il nome dell'utente.</li> <li>Cognome: Il cognome dell'utente.</li> <li>Indirizzo email: L'indirizzo email dell'utente.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#22-stato-e-permessi","title":"2.2 - Stato e Permessi","text":"<ul> <li>Attivo: Un flag che indica se l'utente \u00e8 attivo. Se disattivato, l'utente non pu\u00f2 effettuare il login.</li> <li>Stato staff: Un flag che indica se l'utente pu\u00f2 accedere all'interfaccia di amministrazione.</li> <li>Stato superuser: Un flag che, quando attivo, concede all'utente tutti i permessi del sistema, bypassando qualsiasi controllo specifico.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#23-gruppi-e-permessi-individuali","title":"2.3 - Gruppi e Permessi Individuali","text":"<ul> <li>Gruppi: In questa sezione, \u00e8 possibile assegnare l'utente a uno o pi\u00f9 gruppi. I permessi in Thoth sono gestiti principalmente a livello di gruppo.</li> <li>Permessi utente: Permessi specifici possono essere assegnati direttamente a un utente, anche se la pratica raccomandata \u00e8 gestire i permessi attraverso i gruppi.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#3-il-ruolo-dei-gruppi-e-dei-profili-gruppo","title":"3 - Il Ruolo dei Gruppi e dei Profili Gruppo","text":"<p>La vera personalizzazione della gestione utenti in Thoth avviene a livello di Gruppo. Mentre il modello <code>User</code> \u00e8 standard, ogni <code>Group</code> in Thoth \u00e8 associato a un Profilo Gruppo (<code>GroupProfile</code>) che definisce in dettaglio le funzionalit\u00e0 e le viste a cui gli utenti di quel gruppo avranno accesso.</p> <p>Quando un utente viene assegnato a un gruppo, eredita tutte le impostazioni definite nel profilo di quel gruppo. Questo consente una configurazione centralizzata e coerente dell'esperienza utente per intere categorie di utenti.</p> <p>Per dettagli su come configurare i gruppi e i loro profili, fare riferimento alla documentazione specifica: - Gestione Gruppi - Profili Gruppo</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#4-ruoli-e-tipologie-di-utente","title":"4 - Ruoli e Tipologie di Utente","text":"<p>Thoth implementa un sistema di ruoli flessibile che permette di definire con precisione le capacit\u00e0 e i permessi di ogni utente all'interno del sistema. Il sistema prevede tre ruoli principali che possono essere assegnati agli utenti in base alle loro responsabilit\u00e0.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#41-struttura-dei-ruoli","title":"4.1 - Struttura dei Ruoli","text":"<p>Ogni utente in Thoth deve avere almeno il ruolo base USER, che rappresenta il profilo minimo per accedere al sistema. A questo ruolo base possono essere aggiunti ruoli aggiuntivi per estendere le capacit\u00e0 dell'utente.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#42-descrizione-dei-ruoli","title":"4.2 - Descrizione dei Ruoli","text":""},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#ruolo-user-obbligatorio","title":"Ruolo USER (Obbligatorio)","text":"<ul> <li>Descrizione: Ruolo base assegnato a tutti gli utenti del sistema</li> <li>Permessi: </li> <li>Accesso all'interfaccia utente principale</li> <li>Esecuzione di query sul database</li> <li>Visualizzazione dei risultati</li> <li>Accesso alle funzionalit\u00e0 base di Thoth</li> <li>Note: Questo ruolo \u00e8 obbligatorio e viene assegnato automaticamente a ogni nuovo utente</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#ruolo-editor-opzionale","title":"Ruolo EDITOR (Opzionale)","text":"<ul> <li>Descrizione: Ruolo per la gestione dei contenuti del database vettoriale</li> <li>Permessi:</li> <li>Tutti i permessi del ruolo USER</li> <li>Gestione dei contenuti nel database vettoriale</li> <li>Creazione e modifica di hints (suggerimenti)</li> <li>Gestione delle domande di esempio</li> <li>Aggiornamento delle descrizioni delle colonne</li> <li>Gestione dei metadati semantici</li> <li>Utilizzo tipico: Assegnato a utenti responsabili del miglioramento continuo delle capacit\u00e0 di comprensione del sistema</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#ruolo-admin-opzionale","title":"Ruolo ADMIN (Opzionale)","text":"<ul> <li>Descrizione: Ruolo amministrativo con accesso completo al sistema</li> <li>Permessi:</li> <li>Tutti i permessi del ruolo USER</li> <li>Accesso completo all'area di amministrazione Django</li> <li>Gestione completa degli utenti e dei gruppi</li> <li>Configurazione dei modelli AI e degli agenti</li> <li>Gestione delle connessioni ai database SQL</li> <li>Configurazione dei workspace</li> <li>Accesso ai log di sistema e al monitoraggio</li> <li>Utilizzo tipico: Assegnato agli amministratori di sistema e ai responsabili tecnici</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#43-combinazioni-di-ruoli","title":"4.3 - Combinazioni di Ruoli","text":"<p>Gli utenti possono avere combinazioni multiple di ruoli per adattarsi alle diverse esigenze organizzative:</p> <ul> <li>USER: Utente base con accesso alle funzionalit\u00e0 standard</li> <li>USER + EDITOR: Utente che pu\u00f2 anche gestire e migliorare i contenuti del database vettoriale</li> <li>USER + ADMIN: Amministratore di sistema con accesso completo</li> <li>USER + EDITOR + ADMIN: Amministratore completo che gestisce sia il sistema che i contenuti</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#44-assegnazione-dei-ruoli","title":"4.4 - Assegnazione dei Ruoli","text":"<p>I ruoli vengono assegnati attraverso il sistema di gruppi di Django:</p> <ol> <li>Dalla sezione Utenti: Modificando un utente e assegnandolo ai gruppi corrispondenti</li> <li>Dalla sezione Gruppi: Aggiungendo utenti direttamente ai gruppi desiderati</li> <li>Programmaticamente: Utilizzando l'API di Django per assegnazioni automatiche</li> </ol>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.2-users/#45-best-practices","title":"4.5 - Best Practices","text":"<ul> <li>Assegnare sempre il minimo set di permessi necessari per svolgere le attivit\u00e0 richieste</li> <li>Utilizzare il ruolo EDITOR per delegare la gestione dei contenuti senza dare accesso amministrativo completo</li> <li>Riservare il ruolo ADMIN solo al personale tecnico autorizzato</li> <li>Documentare le assegnazioni dei ruoli e mantenerle aggiornate</li> <li>Rivedere periodicamente i ruoli assegnati per garantire che siano ancora appropriati</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/","title":"Group Profiles","text":""},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#1-cose-un-group-profile","title":"1 - Cos'\u00e8 un Group Profile","text":"<p>In Thoth, il Group Profile \u00e8 un'estensione del modello standard di <code>Group</code> fornito da Django. Ogni volta che viene creato un nuovo gruppo di utenti, il sistema associa automaticamente un profilo a quel gruppo.</p> <p>Lo scopo principale del <code>GroupProfile</code> \u00e8 quello di fornire un controllo granulare sulle funzionalit\u00e0 e sulle informazioni visualizzate dagli utenti appartenenti a un determinato gruppo. Attraverso la configurazione del profilo, un amministratore pu\u00f2 personalizzare l'esperienza utente, decidendo quali elementi dell'interfaccia e quali dettagli dei processi interni devono essere visibili.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#2-campi-del-group-profile","title":"2 - Campi del Group Profile","text":"<p>Il form di amministrazione per un <code>GroupProfile</code> espone una serie di opzioni booleane (S\u00ec/No) che permettono di configurare in dettaglio i permessi e la visibilit\u00e0 per gli utenti del gruppo associato.</p>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#21-show-sql","title":"2.1 - Show SQL","text":"<ul> <li>Nome del campo: <code>show_sql</code></li> <li>Scopo: Se attivato, gli utenti appartenenti a questo gruppo potranno visualizzare la query SQL finale generata dal sistema in risposta alle loro richieste. \u00c8 utile per utenti esperti o per scopi di debug.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#22-show-keywords","title":"2.2 - Show keywords","text":"<ul> <li>Nome del campo: <code>show_keywords</code></li> <li>Scopo: Controlla la visibilit\u00e0 della sezione in cui vengono mostrate le parole chiave estratte dalla richiesta dell'utente. Questa opzione \u00e8 generalmente utile per comprendere come il sistema interpreta il linguaggio naturale.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#23-show-hints","title":"2.3 - Show hints","text":"<ul> <li>Nome del campo: <code>show_hints</code></li> <li>Scopo: Se abilitato, gli utenti visualizzeranno i \"suggerimenti\" (hints) che il sistema fornisce per aiutarli a formulare meglio le loro domande o a esplorare i dati.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#24-show-process-info","title":"2.4 - Show process info","text":"<ul> <li>Nome del campo: <code>show_process_info</code></li> <li>Scopo: Permette di mostrare o nascondere le informazioni dettagliate sul processo di elaborazione interno di Thoth. Se attivato, l'utente pu\u00f2 vedere i vari passaggi che il sistema compie per arrivare al risultato finale. \u00c8 un'opzione consigliata per utenti avanzati o amministratori.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#25-show-sql-generation","title":"2.5 - Show SQL generation","text":"<ul> <li>Nome del campo: <code>show_sql_generation</code></li> <li>Scopo: Controlla la visibilit\u00e0 del processo passo-passo che porta alla generazione della query SQL. Se attivo, l'utente pu\u00f2 seguire le fasi intermedie, come la selezione delle colonne e delle tabelle.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#26-explain-generated-query","title":"2.6 - Explain generated query","text":"<ul> <li>Nome del campo: <code>explain_generated_query</code></li> <li>Scopo: Se questa opzione \u00e8 attiva, il sistema utilizzer\u00e0 un modello di intelligenza artificiale per fornire una spiegazione in linguaggio naturale della query SQL generata. \u00c8 molto utile per gli utenti che non hanno familiarit\u00e0 con il linguaggio SQL ma desiderano comprendere la logica dietro la risposta.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#27-treat-empty-result-as-an-error","title":"2.7 - Treat empty result as an error","text":"<ul> <li>Nome del campo: <code>treat_empty_result_as_error</code></li> <li>Scopo: Stabilisce come il sistema deve comportarsi quando una query SQL eseguita correttamente non produce alcun risultato. Se disattivato (impostazione predefinita), un risultato vuoto \u00e8 considerato una risposta valida. Se attivato, viene trattato come un errore, notificando all'utente che la sua richiesta non ha trovato corrispondenze.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.4-authentication/4.1.4.3-group_profiles/#3-gestione-dei-group-profiles","title":"3 - Gestione dei Group Profiles","text":"<p>La gestione dei profili dei gruppi \u00e8 integrata direttamente nell'interfaccia di amministrazione di Django, rendendo il processo semplice e centralizzato.</p> <p>Per modificare un <code>GroupProfile</code>, segui questi passaggi:</p> <ol> <li>Accedi al pannello di amministrazione di Django.</li> <li>Nella sezione \"Authentication and Authorization\", fai clic su \"Groups\".</li> <li>Seleziona il gruppo che desideri modificare.</li> <li>Nella pagina di modifica del gruppo, troverai la sezione \"Group Profile Settings\" dove potrai configurare tutte le opzioni descritte in questo documento.</li> <li>Dopo aver apportato le modifiche, salva il form.</li> </ol> <p>Le nuove impostazioni verranno applicate immediatamente a tutti gli utenti che appartengono a quel gruppo.</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/","title":"Setup di ThothAI - Attivit\u00e0 da Eseguire","text":"<p>Dopo aver completato l'installazione di base di ThothAI, \u00e8 necessario eseguire alcune attivit\u00e0 di configurazione per personalizzare il sistema secondo le proprie esigenze. Di seguito sono elencate le attivit\u00e0 principali da completare:</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#1-completamento-del-setup-dei-gruppi","title":"1. Completamento del Setup dei Gruppi","text":"<p>Prima attivit\u00e0 fondamentale</p> <p>La configurazione dei gruppi utente \u00e8 il primo passo essenziale per il corretto funzionamento del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#verifiche-necessarie","title":"Verifiche necessarie:","text":"<ol> <li> <p>Verificare l'esistenza dei gruppi base</p> <p>Assicurarsi che esistano almeno i gruppi <code>Admin</code>, <code>Editor</code> ed almeno un gruppo <code>User</code>. </p> <p>Gruppi predefiniti</p> <p>Per impostazione predefinita, il comando <code>import_groups</code> crea i gruppi:</p> <ul> <li><code>User_Basic</code></li> <li><code>User</code> </li> <li><code>User_Tech</code></li> </ul> </li> <li> <p>Verificare i permessi del gruppo Admin</p> <p>Controllare che al gruppo <code>Admin</code> siano associati tutti i poteri di amministrazione previsti dal sistema.</p> </li> <li> <p>Configurare i log delle azioni</p> </li> </ol>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#approfondimenti","title":"Approfondimenti","text":"<p>Per maggiori dettagli consultare le pagine:</p> <ul> <li> Gruppi</li> <li> Profili Gruppo</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#2-creazione-degli-utenti-reali","title":"2. Creazione degli Utenti Reali","text":"<p>{{ ... }} 2. Creare gli utenti reali seguendo lo stesso schema 3. Associare ogni utente al gruppo di appartenenza appropriato</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#approfondimenti_1","title":"Approfondimenti","text":"<p> Gestione Utenti</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#3-verifica-degli-ai-models","title":"3. Verifica degli AI Models","text":"<p>{{ ... }} - Il comando <code>import-all_csvs</code> ha creato un'ampia serie di configurazioni predefinite - Aggiungere eventuali provider non previsti nel setup di default che si desidera utilizzare</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#approfondimenti_2","title":"Approfondimenti","text":"<p> AI Models</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#4-verifica-degli-agenti","title":"4. Verifica degli Agenti","text":"<p>{{ ... }} - Il comando <code>import-all_csvs</code> ha creato un'ampia serie di agenti predefiniti - Aggiungere eventuali agenti personalizzati che utilizzino <code>AiModels</code> non previsti nella configurazione di default</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#approfondimenti_3","title":"Approfondimenti","text":"<p> Agenti</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#5-setup-dei-database-vettoriali","title":"5. Setup dei Database Vettoriali","text":"<p>{{ ... }}     Il rapporto tra database vettoriale e database relazionale \u00e8 di 1:1. \u00c8 necessario definire un database vettoriale dedicato per ogni database relazionale che si vuole utilizzare.</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#configurazione-richiesta","title":"Configurazione richiesta:","text":"<ul> <li>Configurare i database vettoriali per contenere i metadati dei database relazionali</li> <li>Ogni database relazionale deve avere il proprio database vettoriale dedicato</li> <li>Verificare la corretta associazione tra database vettoriali e relazionali</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#approfondimenti_4","title":"Approfondimenti","text":"<p> Database Vettoriali</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#riepilogo","title":"Riepilogo","text":"<p>Completamento setup</p> <p>Completando queste cinque attivit\u00e0, il sistema ThothAI sar\u00e0 configurato e pronto per l'utilizzo secondo le specifiche esigenze dell'organizzazione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.5-vector_database/4.1.5.1-vector_db/#checklist-finale","title":"Checklist finale:","text":"<ul> <li>[ ] Gruppi configurati correttamente</li> <li>[ ] Utenti reali creati e associati ai gruppi</li> <li>[ ] AI Models verificati e completati</li> <li>[ ] Agenti configurati per le esigenze specifiche</li> <li>[ ] Database vettoriali configurati per ogni database relazionale</li> </ul> <p>Ordine di esecuzione</p> <p>Si consiglia di seguire l'ordine delle attivit\u00e0 come presentato, in quanto alcune configurazioni dipendono dalle precedenti.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/","title":"Database SQL","text":"<p>Questo manuale utente fornisce una panoramica sul sistema di gestione dei database SQL all'interno di Thoth AI Backend. Qui troverai informazioni su come configurare, gestire e utilizzare i database SQL per supportare le funzionalit\u00e0 del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#1-introduzione-ai-database-sql-in-thoth","title":"1 - Introduzione ai Database SQL in Thoth","text":"<p>Thoth AI Backend offre un sistema avanzato per la gestione di database SQL, permettendo agli utenti di configurare e amministrare diversi tipi di database relazionali. Questo sistema \u00e8 progettato per integrarsi con le altre componenti del backend, facilitando l'accesso ai dati e la loro elaborazione.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#11-scopo-del-sistema-di-gestione-dei-database","title":"1.1 - Scopo del Sistema di Gestione dei Database","text":"<p>Il sistema di gestione dei database SQL in Thoth ha l'obiettivo di fornire un'interfaccia intuitiva per la configurazione e l'amministrazione dei database. Consente agli utenti di definire le connessioni ai database, gestire le tabelle e le colonne, e stabilire relazioni tra i dati, il tutto attraverso un'interfaccia di amministrazione user-friendly.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#12-tipologie-di-database-supportate","title":"1.2 - Tipologie di Database Supportate","text":"<p>Thoth supporta una vasta gamma di database SQL, inclusi sistemi popolari come PostgreSQL, MySQL, MariaDB, Oracle, SQL Server e SQLite. Questo permette agli utenti di scegliere il database pi\u00f9 adatto alle loro esigenze specifiche, garantendo flessibilit\u00e0 e compatibilit\u00e0.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#2-configurazione-di-un-database-sql","title":"2 - Configurazione di un Database SQL","text":"<p>La configurazione di un database SQL in Thoth avviene attraverso un form di amministrazione che raccoglie tutte le informazioni necessarie per stabilire una connessione e gestire il database.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#21-informazioni-di-base","title":"2.1 - Informazioni di Base","text":"<ul> <li>Nome del Database: Un identificativo univoco per il database all'interno del sistema Thoth.</li> <li>Tipo di Database: La selezione del tipo di database (ad esempio, PostgreSQL, MySQL, ecc.) che determina le opzioni di configurazione specifiche.</li> <li>Host del Database: L'indirizzo del server su cui risiede il database.</li> <li>Nome della Base di Dati: Il nome specifico del database sul server.</li> <li>Schema: Lo schema utilizzato all'interno del database, se applicabile.</li> <li>Porta del Database: La porta di connessione al server del database.</li> <li>Credenziali di Accesso: Nome utente e password per accedere al database.</li> <li>Modalit\u00e0 del Database: Indica se il database \u00e8 utilizzato in ambiente di sviluppo, test o produzione.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#22-integrazione-con-database-vettoriali","title":"2.2 - Integrazione con Database Vettoriali","text":"<p>Ogni database SQL pu\u00f2 essere associato a un database vettoriale per funzionalit\u00e0 avanzate di ricerca e analisi dei dati. Questa integrazione permette di combinare i dati strutturati del database SQL con le capacit\u00e0 di ricerca vettoriale.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#23-impostazioni-avanzate","title":"2.3 - Impostazioni Avanzate","text":"<ul> <li>Lingua: La lingua utilizzata per i dati e i metadati del database, utile per la generazione di contenuti localizzati.</li> <li>Ambito: Una descrizione testuale dell'ambito o del contesto del database, che pu\u00f2 essere generata automaticamente o inserita manualmente.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#3-gestione-delle-tabelle-e-delle-colonne","title":"3 - Gestione delle Tabelle e delle Colonne","text":"<p>Una volta configurato il database, \u00e8 possibile gestire le tabelle e le colonne che contengono i dati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#31-creazione-e-gestione-delle-tabelle","title":"3.1 - Creazione e Gestione delle Tabelle","text":"<p>Le tabelle rappresentano le entit\u00e0 principali all'interno di un database SQL. Thoth permette di creare tabelle automaticamente o manualmente, con le seguenti funzionalit\u00e0:</p> <ul> <li>Nome della Tabella: Un identificativo per la tabella.</li> <li>Descrizione: Una spiegazione del contenuto o dello scopo della tabella.</li> <li>Commento Generato: Un commento descrittivo generato automaticamente, spesso con l'assistenza dell'AI, che pu\u00f2 essere copiato nella descrizione.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#32-creazione-e-gestione-delle-colonne","title":"3.2 - Creazione e Gestione delle Colonne","text":"<p>Le colonne definiscono i campi di dati all'interno di ogni tabella. Per ogni colonna, \u00e8 possibile specificare:</p> <ul> <li>Nome Originale della Colonna: Il nome della colonna cos\u00ec come appare nel database.</li> <li>Nome della Colonna: Un nome personalizzato per la colonna, se necessario.</li> <li>Formato dei Dati: Il tipo di dato della colonna (ad esempio, intero, stringa, data, ecc.).</li> <li>Descrizione della Colonna: Una spiegazione del contenuto della colonna.</li> <li>Commento Generato: Un commento descrittivo generato automaticamente, spesso con l'assistenza dell'AI.</li> <li>Descrizione del Valore: Informazioni aggiuntive sul significato dei valori nella colonna.</li> <li>Campo Chiave Primaria: Indica se la colonna \u00e8 una chiave primaria.</li> <li>Campo Chiave Esterna: Specifica eventuali riferimenti a colonne di altre tabelle come chiavi esterne.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#4-relazioni-tra-tabelle","title":"4 - Relazioni tra Tabelle","text":"<p>Thoth consente di definire relazioni tra tabelle per rappresentare i collegamenti tra i dati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#41-configurazione-delle-relazioni","title":"4.1 - Configurazione delle Relazioni","text":"<p>Le relazioni sono definite specificando una tabella e una colonna di origine, e una tabella e una colonna di destinazione. Questo permette di stabilire collegamenti logici tra i dati, come chiavi esterne che puntano a chiavi primarie in altre tabelle.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#42-aggiornamento-dei-campi-chiave","title":"4.2 - Aggiornamento dei Campi Chiave","text":"<p>Dopo aver definito una relazione, \u00e8 possibile aggiornare automaticamente i campi di chiave primaria e esterna nelle colonne coinvolte, semplificando la gestione delle dipendenze tra tabelle.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#5-azioni-amministrative-disponibili","title":"5 - Azioni Amministrative Disponibili","text":"<p>L'interfaccia di amministrazione di Thoth offre una serie di azioni per gestire i database SQL in modo efficiente.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#51-esportazione-e-importazione-dei-dati","title":"5.1 - Esportazione e Importazione dei Dati","text":"<ul> <li>Esportazione in CSV: Permette di esportare i dati di database, tabelle, colonne o relazioni in file CSV per backup o analisi esterne.</li> <li>Importazione da CSV: Consente di importare dati da file CSV per popolare o aggiornare il database.</li> <li>Esportazione della Struttura del Database: Esporta la struttura completa del database in file CSV per documentazione o migrazione.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#52-generazione-di-commenti-assistita-da-ai","title":"5.2 - Generazione di Commenti Assistita da AI","text":"<ul> <li>Generazione di Commenti per Tabelle: Crea descrizioni automatiche per le tabelle basate sul loro contenuto e scopo, con l'aiuto dell'intelligenza artificiale.</li> <li>Generazione di Commenti per Colonne: Genera descrizioni dettagliate per le colonne, anch'esse assistite da AI, che possono essere copiate nelle descrizioni ufficiali.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#53-validazione-dei-campi-di-chiave-esterna","title":"5.3 - Validazione dei Campi di Chiave Esterna","text":"<ul> <li>Validazione a Livello di Database: Controlla la correttezza dei riferimenti di chiave esterna in tutte le tabelle di un database selezionato, segnalando eventuali errori di formato o riferimenti inesistenti.</li> <li>Validazione a Livello di Tabella: Esegue la validazione dei campi di chiave esterna solo per le tabelle selezionate.</li> <li>Validazione a Livello di Colonna: Verifica i riferimenti di chiave esterna per le colonne selezionate, garantendo che siano correttamente formattati e validi.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#54-pulizia-dei-campi-chiave-non-validi","title":"5.4 - Pulizia dei Campi Chiave Non Validi","text":"<ul> <li>Pulizia dei Campi Chiave Primaria/Esterna Non Validi: Rimuove o corregge i valori non validi nei campi di chiave primaria ed esterna delle tabelle selezionate, mantenendo solo i riferimenti corretti.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#55-copia-dei-commenti-generati","title":"5.5 - Copia dei Commenti Generati","text":"<ul> <li>Copia dei Commenti Generati nelle Descrizioni: Trasferisce i commenti generati automaticamente nelle descrizioni ufficiali di tabelle e colonne, solo se contengono testo significativo.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#56-gestione-dei-nomi-delle-colonne","title":"5.6 - Gestione dei Nomi delle Colonne","text":"<ul> <li>Copia del Nome Originale nel Nome della Colonna: Sostituisce il nome personalizzato della colonna con il nome originale dal database.</li> <li>Copia del Nome della Colonna nel Nome Originale: Sostituisce il nome originale con il nome personalizzato della colonna.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#57-creazione-di-elementi-del-database","title":"5.7 - Creazione di Elementi del Database","text":"<ul> <li>Creazione delle Tabelle: Genera automaticamente le tabelle per un database selezionato, basandosi sulle informazioni disponibili.</li> <li>Creazione delle Colonne: Popola le tabelle con le colonne corrispondenti, identificate dal sistema.</li> <li>Creazione delle Relazioni: Identifica e crea relazioni tra tabelle basate sui dati e le chiavi esterne.</li> <li>Creazione Completa degli Elementi del Database: Esegue un processo completo di creazione di tabelle, colonne e relazioni per un database selezionato.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#58-generazione-dellambito-del-database","title":"5.8 - Generazione dell'Ambito del Database","text":"<ul> <li>Generazione dell'Ambito: Crea una descrizione testuale dell'ambito o del contesto del database, utile per comprendere il suo utilizzo e contenuto.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.1-sql_dbs/#6-conclusione","title":"6 - Conclusione","text":"<p>Il sistema di gestione dei database SQL in Thoth AI Backend \u00e8 progettato per semplificare la configurazione, l'amministrazione e l'utilizzo dei database relazionali. Con un'interfaccia intuitiva e una serie di azioni avanzate, gli utenti possono gestire efficacemente i loro dati, garantendo che siano ben strutturati e accessibili per le esigenze del sistema.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/","title":"Tabelle SQL","text":"<p>Questo documento descrive i metadati relativi alle tabelle SQL gestite all'interno del sistema Thoth. I metadati sono informazioni strutturate che descrivono le tabelle e facilitano la gestione e l'interrogazione dei dati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/#1-modello-sqltable","title":"1 - Modello SqlTable","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/#11-descrizione","title":"1.1 - Descrizione","text":"<p>Il modello <code>SqlTable</code> rappresenta una tabella all'interno di un database SQL. Serve a catalogare le tabelle disponibili per l'interrogazione.</p> <ul> <li>Campi Principali:</li> <li>Nome: Il nome della tabella.</li> <li>Descrizione: Una descrizione testuale della tabella e del suo scopo.</li> <li>Commento Generato: Commenti generati automaticamente, spesso tramite AI, per descrivere la tabella.</li> <li> <p>Database SQL: Riferimento al database (<code>SqlDb</code>) a cui appartiene la tabella.</p> </li> <li> <p>Relazioni:</p> </li> <li>Una <code>SqlTable</code> appartiene a un solo <code>SqlDb</code>.</li> <li>Pu\u00f2 contenere pi\u00f9 <code>SqlColumn</code>, che rappresentano le colonne della tabella.</li> <li>\u00c8 coinvolta in <code>Relationship</code> come tabella di origine o di destinazione per definire relazioni tra tabelle.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/#2-utilizzo-del-modello-in-thothsl","title":"2 - Utilizzo del Modello in ThothSL","text":"<p>Nel progetto ThothSL, il modello <code>SqlTable</code> viene utilizzato per organizzare e accedere alle informazioni sulle tabelle durante la generazione di query SQL. Le funzioni principali includono:</p> <ul> <li>Recupero dello Schema del Database: Il sistema estrae la struttura delle tabelle per avere una visione d'insieme dei dati disponibili.</li> <li>Generazione di Stringhe di Schema: Le informazioni sulle tabelle vengono convertite in rappresentazioni testuali ottimizzate per l'uso in prompt di modelli linguistici.</li> <li>Filtraggio dello Schema: Vengono selezionate solo le tabelle rilevanti per una specifica query o contesto, riducendo la complessit\u00e0.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/#3-form-di-amministrazione-associato","title":"3 - Form di Amministrazione Associato","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.2-sql_tables/#31-sqltableadmin","title":"3.1 - SqlTableAdmin","text":"<p>Il form di amministrazione per <code>SqlTable</code> permette di visualizzare e modificare le informazioni sulle tabelle di un database.</p> <ul> <li>Funzionalit\u00e0 Gestite:</li> <li>Visualizzazione e modifica del nome e della descrizione della tabella.</li> <li>Generazione di commenti per la tabella tramite AI.</li> <li>Creazione di colonne per la tabella.</li> <li>Validazione dei campi di chiave primaria ed esterna.</li> <li>Copia dei commenti generati nella descrizione.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/","title":"Colonne SQL","text":"<p>Questo documento descrive i metadati relativi alle colonne SQL gestite all'interno del sistema Thoth. I metadati sono informazioni strutturate che descrivono le colonne e facilitano la gestione e l'interrogazione dei dati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/#1-modello-sqlcolumn","title":"1 - Modello SqlColumn","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/#11-descrizione","title":"1.1 - Descrizione","text":"<p>Il modello <code>SqlColumn</code> descrive una colonna specifica all'interno di una tabella di un database SQL. Questo livello di dettaglio \u00e8 essenziale per comprendere la struttura dei dati.</p> <ul> <li>Campi Principali:</li> <li>Nome Colonna Originale: Il nome originale della colonna nel database.</li> <li>Nome Colonna: Un nome espanso o modificato per chiarezza, se necessario.</li> <li>Formato Dati: Il tipo di dato della colonna (ad esempio, INT, VARCHAR, DATE).</li> <li>Descrizione Colonna: Una descrizione testuale del contenuto o dello scopo della colonna.</li> <li>Commento Generato: Commenti aggiuntivi generati automaticamente, spesso tramite AI.</li> <li>Descrizione Valori: Informazioni sui valori tipici o sul significato dei dati nella colonna.</li> <li>Campo PK: Indica se la colonna \u00e8 una chiave primaria.</li> <li>Campo FK: Specifica se la colonna \u00e8 una chiave esterna e a quale tabella/colonna fa riferimento.</li> <li> <p>Tabella SQL: Riferimento alla tabella (<code>SqlTable</code>) a cui appartiene la colonna.</p> </li> <li> <p>Relazioni:</p> </li> <li>Una <code>SqlColumn</code> appartiene a una sola <code>SqlTable</code>.</li> <li>Pu\u00f2 essere coinvolta in <code>Relationship</code> come colonna di origine o di destinazione per definire relazioni di chiave esterna.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/#2-utilizzo-del-modello-in-thothsl","title":"2 - Utilizzo del Modello in ThothSL","text":"<p>Nel progetto ThothSL, il modello <code>SqlColumn</code> viene utilizzato per fornire informazioni dettagliate sulle colonne durante la generazione di query SQL. Le funzioni principali includono:</p> <ul> <li>Recupero dello Schema del Database: Il sistema estrae la struttura delle colonne per avere una visione d'insieme dei dati disponibili.</li> <li>Generazione di Stringhe di Schema: Le informazioni sulle colonne vengono convertite in rappresentazioni testuali ottimizzate per l'uso in prompt di modelli linguistici.</li> <li>Filtraggio dello Schema: Vengono selezionate solo le colonne rilevanti per una specifica query o contesto, riducendo la complessit\u00e0.</li> <li>Arricchimento con Esempi di Valori: Quando disponibili, vengono aggiunti esempi di valori per le colonne, fornendo un contesto aggiuntivo per la generazione di query.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/#3-form-di-amministrazione-associato","title":"3 - Form di Amministrazione Associato","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.3-sql_columns/#31-sqlcolumnadmin","title":"3.1 - SqlColumnAdmin","text":"<p>Il form di amministrazione per <code>SqlColumn</code> gestisce i dettagli delle colonne all'interno delle tabelle.</p> <ul> <li>Funzionalit\u00e0 Gestite:</li> <li>Modifica del nome originale e del nome espanso della colonna.</li> <li>Specifica del tipo di dato.</li> <li>Inserimento di descrizioni e commenti generati.</li> <li>Indicazione di chiavi primarie ed esterne.</li> <li>Generazione di commenti per le colonne selezionate tramite AI.</li> <li>Copia dei nomi e dei commenti tra campi diversi.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/","title":"Relazioni SQL","text":"<p>Questo documento descrive i metadati relativi alle relazioni SQL gestite all'interno del sistema Thoth. I metadati sono informazioni strutturate che descrivono le relazioni tra tabelle e facilitano la gestione e l'interrogazione dei dati.</p>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/#1-modello-relationship","title":"1 - Modello Relationship","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/#11-descrizione","title":"1.1 - Descrizione","text":"<p>Il modello <code>Relationship</code> definisce le relazioni tra tabelle attraverso le chiavi esterne, evidenziando i collegamenti logici tra i dati.</p> <ul> <li>Campi Principali:</li> <li>Tabella di Origine: La tabella che contiene la chiave esterna.</li> <li>Tabella di Destinazione: La tabella a cui la chiave esterna fa riferimento.</li> <li>Colonna di Origine: La colonna nella tabella di origine che agisce come chiave esterna.</li> <li> <p>Colonna di Destinazione: La colonna nella tabella di destinazione referenziata dalla chiave esterna.</p> </li> <li> <p>Relazioni:</p> </li> <li>Collega due <code>SqlTable</code> (origine e destinazione) e due <code>SqlColumn</code> (origine e destinazione) per rappresentare una relazione di chiave esterna.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/#2-utilizzo-del-modello-in-thothsl","title":"2 - Utilizzo del Modello in ThothSL","text":"<p>Nel progetto ThothSL, il modello <code>Relationship</code> viene utilizzato per mappare le connessioni tra tabelle durante la generazione di query SQL. Le funzioni principali includono:</p> <ul> <li>Recupero dello Schema del Database: Il sistema estrae le relazioni tra tabelle per avere una visione d'insieme dei dati disponibili.</li> <li>Generazione di Stringhe di Schema: Le informazioni sulle relazioni vengono convertite in rappresentazioni testuali ottimizzate per l'uso in prompt di modelli linguistici.</li> </ul>"},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/#3-form-di-amministrazione-associato","title":"3 - Form di Amministrazione Associato","text":""},{"location":"4-user_manual/4.1-setup/4.1.6-SQL_database/4.1.6.4-relationships/#31-relationshipadmin","title":"3.1 - RelationshipAdmin","text":"<p>Il form di amministrazione per <code>Relationship</code> permette di definire e gestire le relazioni tra tabelle.</p> <ul> <li>Funzionalit\u00e0 Gestite:</li> <li>Selezione delle tabelle e delle colonne di origine e destinazione per definire una relazione.</li> <li>Aggiornamento dei campi di chiave primaria ed esterna nelle colonne coinvolte.</li> <li>Filtri per visualizzare relazioni specifiche in base al database o alla tabella.</li> </ul>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/","title":"Perch\u00e9 il Preprocessing","text":"<p>Il preprocessing \u00e8 un passaggio cruciale nell'applicazione Thoth per garantire che i dati siano preparati adeguatamente per analisi avanzate e interazioni intuitive. Questo documento esplora le ragioni per cui il preprocessing \u00e8 fondamentale, evidenziando le funzionalit\u00e0 che supporta e gli scopi che persegue all'interno del sistema Thoth.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#1-importanza-del-preprocessing","title":"1 - Importanza del Preprocessing","text":"<p>Il preprocessing rappresenta la base per un'elaborazione dati efficiente e significativa. Senza questo passaggio, i dati grezzi presenti nei database non sarebbero ottimizzati per ricerche rapide, analisi semantiche o interazioni in linguaggio naturale. Il preprocessing trasforma i dati in formati utilizzabili per funzionalit\u00e0 avanzate, migliorando l'esperienza utente e la precisione delle operazioni.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#11-preparazione-dei-dati-per-lanalisi","title":"1.1 - Preparazione dei Dati per l'Analisi","text":"<p>Il preprocessing prepara i dati del database per analisi avanzate generando strutture che facilitano l'accesso e l'elaborazione. Questo include la creazione di firme LSH (Locality-Sensitive Hashing) che permettono ricerche di similarit\u00e0 rapide ed efficienti, riducendo il tempo necessario per trovare dati correlati.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#12-abilitazione-di-interazioni-intuitive","title":"1.2 - Abilitazione di Interazioni Intuitive","text":"<p>Un altro scopo chiave del preprocessing \u00e8 abilitare interazioni intuitive con i dati, come la trasformazione di domande in linguaggio naturale in query SQL eseguibili. Questo \u00e8 reso possibile dalla generazione di vettori di contesto che catturano il significato semantico delle colonne del database, migliorando la comprensione e l'interrogazione dei dati.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#2-funzionalita-supportate-dal-preprocessing","title":"2 - Funzionalit\u00e0 Supportate dal Preprocessing","text":"<p>Il preprocessing non \u00e8 solo un'operazione tecnica, ma un insieme di funzionalit\u00e0 che migliorano l'usabilit\u00e0 e l'efficacia del sistema Thoth. Di seguito sono descritte le principali funzionalit\u00e0 che dipendono dal preprocessing.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#21-creazione-di-firme-lsh-e-vettori-di-contesto","title":"2.1 - Creazione di Firme LSH e Vettori di Contesto","text":"<p>Durante il preprocessing, vengono generate firme LSH e vettori di contesto. Le firme LSH sono rappresentazioni compatte dei dati che consentono confronti rapidi per trovare elementi simili, mentre i vettori di contesto rappresentano informazioni semantiche delle colonne del database. Queste strutture sono essenziali per garantire che le operazioni di ricerca e analisi siano veloci e accurate.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#22-aggiornamento-delle-descrizioni-delle-colonne","title":"2.2 - Aggiornamento delle Descrizioni delle Colonne","text":"<p>Il preprocessing include anche la possibilit\u00e0 di aggiornare le descrizioni delle colonne del database. Questo processo mantiene i metadati aggiornati, fornendo informazioni dettagliate sui campi e sui valori contenuti nel database. Ci\u00f2 \u00e8 particolarmente utile per database complessi che richiedono descrizioni accurate per una corretta interpretazione dei dati.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#23-supporto-alle-domande-in-linguaggio-naturale","title":"2.3 - Supporto alle Domande in Linguaggio Naturale","text":"<p>Il preprocessing \u00e8 fondamentale per supportare la funzionalit\u00e0 delle domande in linguaggio naturale nell'applicazione ThothSL. Preparando i dati e i vettori di contesto, il sistema \u00e8 in grado di interpretare le richieste degli utenti e trasformarle in query SQL pertinenti, rendendo l'accesso ai dati accessibile anche a chi non conosce il linguaggio SQL.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#24-utilizzo-degli-hints-per-migliorare-le-risposte","title":"2.4 - Utilizzo degli Hints per Migliorare le Risposte","text":"<p>Gli hints, o suggerimenti, sono un altro elemento che beneficia del preprocessing. Queste informazioni aggiuntive vengono caricate e utilizzate per migliorare l'interpretazione delle richieste degli utenti. Il preprocessing assicura che gli hints siano integrati nell'ambiente di lavoro, fornendo contesto extra che rende le risposte del sistema pi\u00f9 precise e utili.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#3-scopi-del-preprocessing","title":"3 - Scopi del Preprocessing","text":"<p>Oltre alle funzionalit\u00e0 specifiche, il preprocessing persegue obiettivi pi\u00f9 ampi che migliorano l'intero ecosistema Thoth.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#31-migliorare-lefficienza-operativa","title":"3.1 - Migliorare l'Efficienza Operativa","text":"<p>Uno degli scopi principali del preprocessing \u00e8 migliorare l'efficienza operativa del sistema. Ottimizzando i dati per ricerche rapide e analisi semantiche, il preprocessing riduce i tempi di elaborazione e consente agli utenti di ottenere risultati in modo pi\u00f9 rapido e affidabile.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#32-garantire-la-precisione-dei-dati","title":"3.2 - Garantire la Precisione dei Dati","text":"<p>Il preprocessing contribuisce a garantire la precisione dei dati mantenendo aggiornati i metadati e le descrizioni delle colonne. Questo assicura che gli utenti abbiano sempre accesso a informazioni accurate e rilevanti, riducendo il rischio di errori o malintesi durante l'analisi dei dati.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.1-why_the_preprocessing/#33-facilitare-laccesso-ai-dati","title":"3.3 - Facilitare l'Accesso ai Dati","text":"<p>Infine, il preprocessing facilita l'accesso ai dati rendendo possibile l'interazione in linguaggio naturale e fornendo contesti aggiuntivi tramite gli hints. Questo abbassa la barriera d'ingresso per gli utenti non tecnici, permettendo a un pubblico pi\u00f9 ampio di sfruttare le potenzialit\u00e0 del sistema Thoth.</p> <p>In sintesi, il preprocessing \u00e8 un elemento indispensabile nell'applicazione Thoth, che non solo prepara i dati per operazioni avanzate, ma supporta anche funzionalit\u00e0 che migliorano l'usabilit\u00e0, l'efficienza e la precisione. Grazie al preprocessing, Thoth offre un'esperienza utente fluida e potente, trasformando dati complessi in informazioni accessibili e utilizzabili.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/","title":"Caricamento degli Hints in Thoth","text":""},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#1-cosa-sono-gli-hints","title":"1 - Cosa sono gli Hints","text":"<p>Gli Hints (suggerimenti) in Thoth sono informazioni o contesti utili che vengono aggiunti a un ambiente di lavoro digitale per migliorare la gestione e l'analisi dei dati. Questi suggerimenti aiutano a fornire dettagli importanti che rendono pi\u00f9 facile comprendere e utilizzare le informazioni disponibili.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#2-perche-vengono-caricati-gli-hints","title":"2 - Perch\u00e9 vengono caricati gli Hints","text":"<p>Caricare gli Hints \u00e8 essenziale per migliorare la qualit\u00e0 delle informazioni a disposizione. Gli Hints hanno diverse funzioni importanti:</p> <ul> <li>Offrire un contesto aggiuntivo: Aiutano a dare un senso pi\u00f9 chiaro ai dati o alle richieste, migliorando la qualit\u00e0 delle risposte o dei risultati ottenuti.</li> <li>Supportare le richieste degli utenti: Forniscono indicazioni utili per elaborare meglio le domande o le operazioni che si desidera svolgere.</li> <li>Mantenere aggiornato l'ambiente di lavoro: Con Hints sempre nuovi, il sistema rimane attuale e pronto a rispondere alle esigenze dell'utente in modo efficace.</li> </ul> <p>Caricare gli Hints \u00e8 quindi un passo fondamentale per preparare l'ambiente di lavoro a gestire le richieste in modo pi\u00f9 semplice e utile.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#3-come-vengono-caricati-gli-hints","title":"3 - Come vengono caricati gli Hints","text":""},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#31-gestione-interna","title":"3.1 - Gestione interna","text":"<p>Il processo di caricamento degli Hints avviene dietro le quinte, in modo che l'utente non debba preoccuparsi dei dettagli. In breve, gli Hints vengono raccolti da fonti predefinite e aggiunti automaticamente all'ambiente di lavoro. Se ci sono suggerimenti gi\u00e0 presenti, vengono sostituiti con quelli pi\u00f9 recenti per mantenere tutto aggiornato. Una volta caricati, l'ambiente di lavoro registra l'aggiornamento per sapere quando \u00e8 stata fatta l'ultima modifica.</p> <p>Inoltre, \u00e8 possibile creare nuovi Hints, modificarli, eliminarli o gestirli in gruppo, oltre a salvarli o importarli da file per condividerli facilmente.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#32-interfaccia-utente","title":"3.2 - Interfaccia Utente","text":"<p>Nell'interfaccia di Thoth, gli Hints sono visibili in una tabella chiara e facile da consultare, dove ogni suggerimento \u00e8 elencato con il suo contenuto. Gli utenti con permessi speciali possono:</p> <ul> <li>Aggiungere un Hint: Creare un nuovo suggerimento da inserire nella tabella.</li> <li>Modificare un Hint: Cambiare il contenuto di un suggerimento esistente.</li> <li>Eliminare un Hint: Rimuovere un suggerimento non pi\u00f9 necessario, con una conferma per evitare errori.</li> <li>Eliminare tutti gli Hints: Cancellare tutti i suggerimenti in una volta, con una verifica per sicurezza.</li> <li>Salvare o Importare Hints: Esportare i suggerimenti in un file per condividerli o importarne di nuovi da un file esistente.</li> </ul> <p>Se non ci sono Hints disponibili o se c'\u00e8 un problema nel caricamento, un messaggio chiaro avvisa l'utente.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#4-utilizzo-degli-hints-per-creare-richieste-dati","title":"4 - Utilizzo degli Hints per Creare Richieste Dati","text":""},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#41-come-funziona-il-processo","title":"4.1 - Come Funziona il Processo","text":"<p>In Thoth, gli Hints sono molto utili quando si tratta di trasformare una domanda o una richiesta in un'azione specifica sui dati, come ottenere informazioni da un database. Il sistema utilizza gli Hints per migliorare il modo in cui interpreta le richieste dell'utente, seguendo due approcci principali:</p> <ol> <li>Approccio Standard: In questo caso, il sistema cerca di rispondere alla richiesta utilizzando passaggi ben definiti, provando diverse strategie fino a trovare quella giusta. Si concentra su un'analisi graduale per arrivare al risultato.</li> <li>Approccio Avanzato \"Titanic\": Se l'approccio standard non funziona, il sistema prova una strategia pi\u00f9 potente chiamata \"Titanic\". Qui, tutte le informazioni disponibili vengono considerate insieme, senza filtri preliminari, e il sistema decide autonomamente quali parti utilizzare per rispondere alla richiesta. Questo metodo, molto efficace, prende il nome dalla sua capacit\u00e0 di gestire grandi quantit\u00e0 di dati in una volta sola.</li> </ol>"},{"location":"4-user_manual/4.2-preprocessing/4.2.2-hints/#42-il-ruolo-degli-hints","title":"4.2 - Il Ruolo degli Hints","text":"<p>Gli Hints hanno un ruolo chiave in questo processo, perch\u00e9 forniscono informazioni extra che aiutano il sistema a capire meglio le richieste dell'utente. Servono come guida per migliorare la precisione delle risposte, rendendo i risultati pi\u00f9 utili e pertinenti. Inoltre, se qualcosa non funziona, gli Hints aiutano a capire dove potrebbe essere il problema, facilitando eventuali correzioni.</p> <p>In sintesi, caricare gli Hints in Thoth \u00e8 un processo che combina una gestione automatica con un'interfaccia semplice per l'utente, permettendo di visualizzare e organizzare i suggerimenti in modo intuitivo. Questi Hints sono fondamentali per trasformare le richieste in azioni sui dati, aiutando il sistema a fornire risposte pi\u00f9 accurate e utili. Questo assicura che l'ambiente di lavoro sia sempre pronto a supportare le necessit\u00e0 degli utenti con informazioni aggiornate e rilevanti.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/","title":"Domande (Questions)","text":""},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/#1-introduzione","title":"1 - Introduzione","text":"<p>Le Domande (Questions) rappresentano un elemento centrale nell'applicazione ThothSL, che utilizza l'intelligenza artificiale per trasformare input in linguaggio naturale in query SQL eseguibili. Questo processo consente agli utenti di interrogare database senza la necessit\u00e0 di conoscere il linguaggio SQL, rendendo l'accesso ai dati pi\u00f9 intuitivo e accessibile.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/#2-scopo-delle-domande-in-thothsl","title":"2 - Scopo delle Domande in ThothSL","text":"<p>Nell'applicazione ThothSL, le Domande sono gli input forniti dagli utenti sotto forma di frasi o quesiti in linguaggio naturale. L'obiettivo principale \u00e8 interpretare queste domande per generare automaticamente query SQL che estraggano le informazioni richieste dal database. Ad esempio, una domanda come \"Qual \u00e8 il fatturato medio per cliente?\" viene analizzata e tradotta in una query SQL corrispondente che calcola tale valore.</p> <p>Il sistema utilizza agenti AI per analizzare il testo della domanda, estrarre parole chiave, recuperare contesti rilevanti e suggerimenti (hints) da un database vettoriale, e infine generare una query SQL valida. Questo approccio permette di gestire una vasta gamma di domande, anche complesse, garantendo risultati accurati e pertinenti.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/#3-informazioni-associate-alle-domande","title":"3 - Informazioni Associate alle Domande","text":"<p>Ogni Domanda memorizzata nel sistema \u00e8 accompagnata da informazioni specifiche che ne facilitano l'elaborazione e la comprensione:</p> <ul> <li>Testo della Domanda: Il testo originale inserito dall'utente in linguaggio naturale.</li> <li>Query SQL Generata: Il codice SQL prodotto dall'applicazione in risposta alla domanda, che pu\u00f2 essere eseguito sul database per ottenere i dati richiesti.</li> <li>Suggerimento (Hint): Un testo opzionale che fornisce contesto o indicazioni aggiuntive relative alla domanda, utile per migliorare l'accuratezza della generazione SQL.</li> </ul> <p>Queste informazioni sono memorizzate come parte di un oggetto <code>SqlDocument</code> nel database vettoriale, consentendo un accesso rapido e organizzato.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/#4-caricamento-delle-domande-nel-backend-di-thoth","title":"4 - Caricamento delle Domande nel Backend di Thoth","text":"<p>Il backend di Thoth, che condivide il database vettoriale con ThothSL, gestisce il caricamento e la memorizzazione delle Domande attraverso un sistema strutturato:</p> <ul> <li>Database Vettoriale: Le Domande vengono caricate in un database vettoriale, che permette di associarle a vettori per la ricerca semantica. Questo facilita il recupero di esempi simili o suggerimenti durante la generazione di SQL.</li> <li>Processo di Caricamento: Gli utenti possono caricare Domande nel sistema tramite un'interfaccia dedicata. Il processo \u00e8 supportato da funzioni specifiche che leggono i dati (ad esempio da file CSV) e li inseriscono nel database vettoriale, aggiornando i metadati del workspace per tenere traccia dell'ultima operazione.</li> <li>Gestione delle Domande: Il backend offre funzionalit\u00e0 per creare, modificare ed eliminare Domande, garantendo che il database vettoriale rimanga aggiornato e coerente con le esigenze degli utenti.</li> </ul>"},{"location":"4-user_manual/4.2-preprocessing/4.2.3-questions/#5-interazione-con-linterfaccia-utente-ui-di-thoth","title":"5 - Interazione con l'Interfaccia Utente (UI) di Thoth","text":"<p>L'interfaccia utente di Thoth \u00e8 progettata per rendere semplice e intuitiva la gestione delle Domande:</p> <ul> <li>Visualizzazione delle Domande: Una sezione dedicata dell'interfaccia (<code>questions.html</code>) mostra l'elenco delle Domande memorizzate nel database vettoriale. Gli utenti possono visualizzare il testo della domanda, la query SQL associata e eventuali suggerimenti correlati.</li> <li>Caricamento e Gestione: L'interfaccia fornisce pulsanti e moduli per caricare nuove Domande, modificarne di esistenti o eliminarle. Ad esempio, un pulsante \"Carica Domande\" avvia il processo di upload, mentre moduli specifici permettono di inserire o aggiornare i dettagli di una singola Domanda.</li> <li>Feedback Utente: Durante le operazioni di caricamento o gestione, l'interfaccia fornisce feedback immediato, come messaggi di conferma o avvisi di errore, per assicurare che gli utenti siano sempre informati sullo stato delle loro azioni.</li> </ul> <p>In sintesi, le Domande sono il punto di partenza per l'interazione tra l'utente e il sistema Thoth, trasformando richieste in linguaggio naturale in query SQL eseguibili grazie a un'infrastruttura avanzata di AI e database vettoriali. La loro gestione attraverso il backend e l'interfaccia utente garantisce un'esperienza fluida e funzionale.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.4-update_columns_description/","title":"Aggiornamento delle Descrizioni delle Colonne","text":"<p>La funzionalit\u00e0 Aggiornamento delle Descrizioni delle Colonne nel backend di Thoth consente di aggiornare le informazioni relative alle colonne di un database associato a un workspace. Questa operazione \u00e8 utile per mantenere aggiornate le descrizioni dei campi, specialmente quando si lavora con database che richiedono metadati dettagliati, come quelli provenienti da BIRD.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.4-update_columns_description/#1-cosa-succede-quando-si-preme-aggiornamento-delle-descrizioni-delle-colonne","title":"1 - Cosa Succede Quando si Preme \"Aggiornamento delle Descrizioni delle Colonne\"","text":"<p>Quando si preme il pulsante \"Aggiornamento delle Descrizioni delle Colonne\" nell'area di preprocessing del backend di Thoth, viene avviato un processo che aggiorna i metadati delle colonne del database configurato per il workspace corrente. Il sistema legge informazioni da file CSV specifici, organizzati in base al nome e alla modalit\u00e0 del database (ad esempio, sviluppo, test o produzione), e utilizza questi dati per aggiornare le descrizioni delle colonne direttamente nel database.</p> <p>Durante l'operazione, un indicatore di caricamento (spinner) fornisce un feedback visivo sullo stato del processo. Una volta completato, viene visualizzato un messaggio di conferma che indica il successo dell'aggiornamento, insieme alla data e all'ora dell'ultimo aggiornamento.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.4-update_columns_description/#2-informazioni-caricate","title":"2 - Informazioni Caricate","text":"<p>Le informazioni caricate durante questo processo includono: - Nomi delle colonne, che possono essere aggiornati o mantenuti come esistenti. - Descrizioni delle colonne, che forniscono dettagli sul significato o sull'uso di ciascun campo. - Descrizioni dei valori, che offrono ulteriori chiarimenti sui dati contenuti nelle colonne.</p> <p>Questi dati provengono da file CSV predefiniti, strutturati per corrispondere alle tabelle del database, garantendo che le informazioni siano correttamente associate alle colonne esistenti.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.4-update_columns_description/#3-come-vengono-caricate-le-colonne","title":"3 - Come Vengono Caricate le Colonne","text":"<p>Nel backend di Thoth, che condivide il database con ThothSL, le colonne vengono aggiornate confrontando i dati dei file CSV con le colonne gi\u00e0 presenti nel database. Se una corrispondenza viene trovata, i metadati della colonna vengono aggiornati con le nuove informazioni. Questo processo assicura che le descrizioni siano sempre accurate e riflettano le specifiche pi\u00f9 recenti del database, migliorando la comprensione dei dati sia per gli utenti del backend di Thoth che per quelli di ThothSL.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.4-update_columns_description/#4-parte-della-ui-responsabile-del-caricamento-delle-colonne","title":"4 - Parte della UI Responsabile del Caricamento delle Colonne","text":"<p>La sezione di Preprocessing dell'interfaccia utente del backend di Thoth \u00e8 responsabile della gestione di questa funzionalit\u00e0. All'interno di questa area, un pulsante dedicato denominato \"Aggiornamento delle Descrizioni delle Colonne\" permette di avviare il processo di aggiornamento. L'interfaccia mostra anche la data dell'ultimo aggiornamento effettuato, o un messaggio che indica se l'operazione non \u00e8 mai stata eseguita. Durante l'elaborazione, un indicatore di caricamento appare per segnalare che l'operazione \u00e8 in corso, e al termine vengono mostrati messaggi di successo o eventuali errori, garantendo un'esperienza utente chiara e informativa.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/","title":"Esecuzione del Preprocessing","text":""},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/#1-introduzione","title":"1 - Introduzione","text":"<p>Il preprocessing \u00e8 un passaggio fondamentale nell'applicazione Thoth per preparare i dati del database per analisi e operazioni avanzate. Questa sezione del manuale utente descrive cosa succede quando si esegue il preprocessing, quali informazioni vengono create e salvate, come vengono gestite nel backend e come l'interfaccia utente (UI) di Thoth facilita questo processo.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/#2-cosa-succede-durante-il-preprocessing","title":"2 - Cosa Succede Durante il Preprocessing","text":"<p>Quando si avvia il processo di \"Run Preprocessing\" nell'applicazione Thoth, viene avviata una sequenza di operazioni che preparano il database per un'elaborazione efficiente. Il processo include:</p> <ul> <li>Creazione di firme LSH (Locality-Sensitive Hashing): Queste firme consentono ricerche di similarit\u00e0 rapide ed efficienti tra gli elementi del database.</li> <li>Generazione di vettori di contesto: I vettori di contesto rappresentano informazioni semantiche relative alle colonne del database, che vengono poi utilizzati per migliorare la comprensione e l'interrogazione dei dati.</li> </ul> <p>Questo processo viene eseguito in background per non bloccare l'interfaccia utente, permettendo di continuare a lavorare mentre il preprocessing \u00e8 in corso.</p>"},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/#3-informazioni-create-e-salvate","title":"3 - Informazioni Create e Salvate","text":"<p>Durante l'esecuzione del preprocessing, vengono generate due tipologie principali di dati:</p> <ul> <li>Firme LSH: Queste sono rappresentazioni compatte degli elementi del database che facilitano il confronto rapido per trovare dati simili. Sono salvate in una struttura di directory sul file system.</li> <li>Vettori di Contesto: Questi vettori catturano il significato e il contesto delle colonne del database, utili per interrogazioni avanzate e analisi. Sono memorizzati in un database vettoriale associato.</li> </ul>"},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/#4-come-vengono-salvate-le-informazioni-nel-backend","title":"4 - Come Vengono Salvate le Informazioni nel Backend","text":"<p>Le informazioni generate durante il preprocessing vengono salvate in modo strutturato nel backend di Thoth, che funge da supporto per ThothSL, condividendo i risultati del preprocessing:</p> <ul> <li>Firme LSH: Sono archiviate in una directory specifica sul file system, organizzata in base alla modalit\u00e0 del database (ad esempio, \"prod\" o \"dev\") e al nome del database. Il percorso tipico \u00e8 del tipo <code>&lt;radice_lsh&gt;/&lt;modalit\u00e0_database&gt;_databases/&lt;nome_database&gt;</code>.</li> <li>Vettori di Contesto: Sono salvati in un database vettoriale (come Qdrant), configurato in base alle impostazioni del database relazionale associato nel sistema Thoth. Questo permette un accesso rapido e scalabile ai dati di contesto.</li> </ul>"},{"location":"4-user_manual/4.2-preprocessing/4.2.5-run_preprocessing/#5-interfaccia-utente-per-il-preprocessing","title":"5 - Interfaccia Utente per il Preprocessing","text":"<p>L'interfaccia utente di Thoth offre un modo semplice e intuitivo per avviare e monitorare il processo di preprocessing:</p> <ul> <li>Pagina di Preprocessing: Una sezione dedicata dell'applicazione, accessibile tramite la vista \"Preprocess\", mostra informazioni sul workspace corrente, il database associato e lo stato del preprocessing. Qui \u00e8 presente un pulsante \"Run Preprocessing\" per avviare il processo.</li> <li>Esecuzione in Background: Una volta avviato, il preprocessing viene eseguito in un thread separato, evitando di bloccare l'interfaccia. Durante l'elaborazione, l'utente riceve aggiornamenti sullo stato tramite un meccanismo di polling che mostra se il processo \u00e8 ancora in corso o completato.</li> <li>Feedback sullo Stato: Al termine del preprocessing, l'interfaccia fornisce un feedback sul risultato dell'operazione, indicando se \u00e8 stata completata con successo o se si sono verificati errori, insieme a eventuali messaggi di log per ulteriori dettagli.</li> </ul> <p>Questa integrazione tra backend e interfaccia utente assicura che gli utenti possano gestire facilmente il preprocessing senza dover interagire direttamente con i dettagli tecnici del processo.</p>"},{"location":"4-user_manual/4.3-logging/4.3.1-logfire/","title":"Logfire: Servizio di Observability per Applicazioni Python","text":"<p>Logfire \u00e8 una piattaforma di observability sviluppata da Pydantic che semplifica il monitoraggio, il debugging e l'analisi delle applicazioni Python attraverso tracing distribuito, logging strutturato e metriche. Offre una soluzione \"batterie incluse\" per ottenere visibilit\u00e0 completa sul comportamento delle applicazioni senza configurazioni complesse.</p>"},{"location":"4-user_manual/4.3-logging/4.3.1-logfire/#caratteristiche-principali","title":"Caratteristiche Principali","text":"<p>Tracing Distribuito: Logfire utilizza OpenTelemetry per tracciare automaticamente le richieste HTTP, le chiamate a database, le interazioni con LLM e altre operazioni. Ogni span include dettagli temporali, attributi contestuali e relazioni tra servizi, permettendo di seguire il flusso completo di una richiesta attraverso diversi componenti.</p> <p>Logging Strutturato: Fornisce un sistema di logging avanzato che consente di registrare eventi con attributi strutturati, rendendo facile l'analisi e la ricerca dei log attraverso query SQL o interfacce visive.</p> <p>Supporto per LLM e AI: Logfire fornisce strumenti specifici per monitorare le interazioni con modelli di linguaggio, inclusi OpenAI, Anthropic, Gemini, con tracciamento dettagliato di prompt, risposte e utilizzo dei token.</p>"},{"location":"4-user_manual/4.3-logging/4.3.1-logfire/#debugging-con-logfire","title":"Debugging con Logfire","text":"<p>Logfire offre strumenti avanzati per il debugging attraverso:</p> <ol> <li>Trace Explorer: Interfaccia web intuitiva per esplorare i trace in tempo reale, visualizzare le relazioni tra servizi e analizzare le prestazioni</li> <li>Query SQL: Possibilit\u00e0 di eseguire query SQL direttamente sui dati di tracing per analisi personalizzate</li> <li>Alerting: Configurazione di alert intelligenti basati su metriche, errori o condizioni specifiche</li> </ol> <p>Video dimostrativo: Per un esempio pratico dell'uso di Logfire per il debugging, \u00e8 disponibile un video tutorial nel capitolo \"Debugging\" della documentazione ufficiale all'indirizzo https://ai.pydantic.dev/logfire/ che mostra come utilizzare l'interfaccia di Logfire per identificare e risolvere problemi nelle applicazioni attraverso l'analisi dei trace e dei log.</p>"},{"location":"4-user_manual/4.3-logging/4.3.1-logfire/#esempi-di-utilizzo-in-thothsl","title":"Esempi di Utilizzo in ThothSL","text":"<p>Nel progetto ThothSL, Logfire viene utilizzato per monitorare e tracciare le operazioni in diversi contesti:</p> <p>Monitoraggio degli Agenti AI: Ogni volta che un agente AI elabora una richiesta dell'utente, Logfire traccia l'intero processo: dal momento in cui riceve la richiesta, attraverso l'analisi del contesto, fino alla generazione della risposta finale.</p> <p>Logging delle Validazioni: Quando i dati vengono validati o processati, Logfire registra ogni passaggio del processo, segnalando eventuali errori di validazione o problemi nei dati.</p> <p>Questi strumenti permettono di avere una visione completa e in tempo reale di come l'applicazione sta performando, identificando rapidamente eventuali colli di bottiglia o malfunzionamenti.</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/","title":"3.4.2 Gestione dei Log","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#panoramica-del-sistema-di-logging","title":"Panoramica del Sistema di Logging","text":"<p>ThothSL implementa un sistema di logging duale che garantisce la massima visibilit\u00e0 e tracciabilit\u00e0 delle operazioni dell'applicazione. Il sistema \u00e8 progettato per soddisfare sia le esigenze di monitoraggio in tempo reale che l'analisi post-mortem dei problemi.</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#architettura-del-logging","title":"Architettura del Logging","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#logging-duale-logfire-e-filesystem","title":"Logging Duale: Logfire e Filesystem","text":"<p>L'applicazione ThothSL implementa un sistema di logging duale che registra simultaneamente:</p> <ol> <li>Logfire: Piattaforma di monitoraggio cloud per tracciamento in tempo reale, metriche di performance e analisi avanzata</li> <li>Filesystem locale: Log su file per accesso diretto, persistenza locale e analisi offline</li> </ol> <p>Questo approccio garantisce che i log siano sempre disponibili sia attraverso l'interfaccia web di Logfire che direttamente sui file di sistema.</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#struttura-dei-log-su-filesystem","title":"Struttura dei Log su Filesystem","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#directory-dei-log","title":"Directory dei Log","text":"<p>I log su filesystem sono raccolti nella directory: <pre><code>/ThothSL/logs/\n</code></pre></p> <p>La struttura include: - Directory principale: <code>/logs/</code> nella root del progetto - Sottodirectory di archivio: <code>/logs/archives/</code> per la conservazione dei log storici</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#configurazione-docker-e-bind-mount","title":"Configurazione Docker e Bind Mount","text":"<p>Nel contesto Docker, la directory log \u00e8 configurata con:</p> <ul> <li>Volume Docker: La directory <code>/logs/</code> interna al container \u00e8 mappata al filesystem host</li> <li>Bind mount: Gli utenti autorizzati possono accedere direttamente ai file di log dal server host</li> <li>Persistenza: I log sopravvivono al riavvio dei container</li> </ul> <p>Questo permette agli amministratori di sistema di: - Accedere ai log in tempo reale - Eseguire analisi offline - Implementare politiche di backup personalizzate</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#gestione-automatica-dei-log","title":"Gestione Automatica dei Log","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#sistema-di-rotazione-e-pulizia","title":"Sistema di Rotazione e Pulizia","text":"<p>ThothSL implementa un sistema automatico di gestione dei log su disco che opera secondo una logica di rotazione intelligente:</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#logica-di-rotazione","title":"Logica di Rotazione","text":"<p>Il sistema gestisce i log attraverso:</p> <ol> <li>Raggruppamento periodico: I log vengono raggruppati in base a:</li> <li>Intervalli temporali (giornalieri/settimanali)</li> <li>Dimensione dei file</li> <li> <p>Livello di dettaglio</p> </li> <li> <p>Criteri di eliminazione:</p> </li> <li>Log molto vecchi: Eliminati automaticamente dopo un periodo configurabile (30 giorni di default)</li> <li>Politica di conservazione: Mantenimento di un numero minimo di file storici</li> <li>Archiviazione: I log importanti vengono spostati in <code>/logs/archives/</code></li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#processo-di-gestione","title":"Processo di Gestione","text":"<p>Il processo di gestione log opera come segue:</p> <ol> <li>Monitoraggio continuo: Controllo periodico della dimensione e dell'et\u00e0 dei file</li> <li>Compressione: I log vecchi vengono compressi per risparmiare spazio</li> <li>Archiviazione: Log selezionati vengono spostati nella directory archives</li> <li>Pulizia: Rimozione sicura dei log superati secondo le politiche di retention</li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#configurazione-del-logging","title":"Configurazione del Logging","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#livelli-di-log","title":"Livelli di Log","text":"<p>Il sistema supporta i seguenti livelli di log: - DEBUG: Informazioni dettagliate per sviluppatori - INFO: Messaggi informativi sulle operazioni normali - WARNING: Avvisi su condizioni potenzialmente problematiche - ERROR: Errori che non impediscono il funzionamento - CRITICAL: Errori gravi che richiedono attenzione immediata</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#formato-dei-log","title":"Formato dei Log","text":"<p>Ogni voce di log include: <pre><code>[Timestamp] [Nome Logger] [Livello] - Messaggio\n</code></pre></p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#accesso-ai-log","title":"Accesso ai Log","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#per-utenti-autorizzati","title":"Per Utenti Autorizzati","text":"<p>Gli utenti con accesso al server possono:</p> <ol> <li> <p>Accesso diretto ai file:    <pre><code>tail -f /percorso/thothsl/logs/thoth_app.log\n</code></pre></p> </li> <li> <p>Analisi tramite Docker:    <pre><code>docker logs -f thoth-ai\n</code></pre></p> </li> <li> <p>Visualizzazione in Logfire: Accesso web all'interfaccia di monitoraggio</p> </li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#integrazione-con-strumenti-di-monitoraggio","title":"Integrazione con Strumenti di Monitoraggio","text":"<p>Il sistema di logging \u00e8 progettato per integrarsi con: - Logfire Dashboard: Per monitoraggio cloud - ELK Stack: Per analisi avanzata - Grafana: Per dashboard personalizzate - Script personalizzati: Per automazione specifica</p>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#best-practices-per-la-gestione-dei-log","title":"Best Practices per la Gestione dei Log","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#per-amministratori","title":"Per Amministratori","text":"<ol> <li>Monitoraggio regolare: Verificare periodicamente la crescita dei file di log</li> <li>Backup strategici: Implementare backup dei log critici</li> <li>Politiche di retention: Configurare periodi di conservazione appropriati</li> <li>Monitoraggio spazio: Assicurarsi che ci sia sempre spazio sufficiente</li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#per-sviluppatori","title":"Per Sviluppatori","text":"<ol> <li>Livelli appropriati: Utilizzare il livello di log corretto per ogni situazione</li> <li>Messaggi descrittivi: Fornire contesto sufficiente nei messaggi di log</li> <li>Struttura coerente: Mantenere un formato uniforme per facilitare l'analisi</li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#risoluzione-problemi","title":"Risoluzione Problemi","text":""},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#problemi-comuni","title":"Problemi Comuni","text":"<ol> <li>Spazio disco insufficiente: Il sistema automatico gestisce la pulizia</li> <li>Log non visibili: Verificare i permessi di accesso alla directory logs</li> <li>Logfire non riceve dati: Controllare la configurazione del token</li> </ol>"},{"location":"4-user_manual/4.3-logging/4.3.2-log_management/#comandi-utili","title":"Comandi Utili","text":"<pre><code># Verificare spazio utilizzato\ndu -sh /percorso/thothsl/logs/\n\n# Controllare log in tempo reale\ntail -f /percorso/thothsl/logs/thoth_app.log\n\n# Analizzare log per errori\ngrep -i error /percorso/thothsl/logs/thoth_app.log\n</code></pre> <p>Il sistema di logging di ThothSL fornisce una soluzione robusta e flessibile per il monitoraggio dell'applicazione, garantendo che sia gli sviluppatori che gli amministratori abbiano accesso completo alle informazioni necessarie per mantenere il sistema operativo ed efficiente.</p>"},{"location":"4-user_manual/4.5-frontend/4.5.1-frontend/","title":"Guide to Frontend","text":""},{"location":"4-user_manual/4.8-roadmap/4.8.1-roadmap/","title":"Roadmap","text":""},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/","title":"Commenti","text":"<p>I commenti in Thoth rappresentano un elemento fondamentale per la documentazione e la gestione dei database SQL. Questa sezione del manuale utente esplora il ruolo dei commenti associati a tabelle e colonne, evidenziando come Thoth faciliti la loro creazione, modifica e utilizzo attraverso un'interfaccia amministrativa intuitiva e l'integrazione con modelli di intelligenza artificiale.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#1-introduzione-ai-commenti-in-thoth","title":"1 - Introduzione ai Commenti in Thoth","text":"<p>I commenti sono testi descrittivi associati a tabelle (SqlTable) e colonne (SqlColumn) all'interno di un database. Spesso, nei database in produzione, molti campi mancano di descrizioni adeguate o presentano descrizioni incomprensibili, piene di sigle o scritte in lingue diverse da quella principale del progetto. Thoth affronta questa problematica offrendo strumenti per generare e gestire commenti in modo efficace, migliorando la comprensione e la manutenzione del database.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#11-scopo-dei-commenti","title":"1.1 - Scopo dei Commenti","text":"<p>I commenti servono a fornire una documentazione chiara e accessibile per gli elementi del database. Essi aiutano gli sviluppatori, gli amministratori e altri utenti a comprendere il significato e l'uso di tabelle e colonne, specialmente in contesti complessi dove la struttura del database non \u00e8 immediatamente intuitiva. In Thoth, i commenti possono essere utilizzati come base per aggiornare le descrizioni ufficiali degli elementi del database, garantendo una documentazione coerente e aggiornata.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#12-vantaggi-dellutilizzo-dei-commenti","title":"1.2 - Vantaggi dell'Utilizzo dei Commenti","text":"<ul> <li>Chiarezza: I commenti migliorano la leggibilit\u00e0 delle strutture del database, riducendo il rischio di errori interpretativi.</li> <li>Manutenzione: Una documentazione accurata facilita la manutenzione e l'aggiornamento dei database.</li> <li>Collaborazione: I commenti permettono a team diversi di condividere una comprensione comune dei dati, anche in presenza di lingue o convenzioni diverse.</li> <li>Automazione: Grazie all'integrazione con l'AI, Thoth pu\u00f2 generare commenti automaticamente, riducendo il lavoro manuale.</li> </ul>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#2-generazione-dei-commenti-con-lai","title":"2 - Generazione dei Commenti con l'AI","text":"<p>Thoth sfrutta modelli di intelligenza artificiale per generare commenti significativi per tabelle e colonne, basandosi su informazioni esistenti e contesti specifici. Questo processo \u00e8 accessibile direttamente dall'interfaccia di amministrazione, rendendo l'operazione semplice e veloce.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#21-selezione-di-tabelle-e-colonne","title":"2.1 - Selezione di Tabelle e Colonne","text":"<p>Dall'interfaccia di admin, gli utenti possono selezionare le tabelle e le colonne per cui desiderano generare commenti. Questo permette di concentrarsi su elementi specifici del database che necessitano di documentazione o aggiornamento.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#22-generazione-basata-su-contesto","title":"2.2 - Generazione Basata su Contesto","text":"<p>Una volta selezionati gli elementi, Thoth invia una richiesta al modello AI per generare commenti. Il sistema considera:</p> <pre><code>- Eventuali descrizioni gi\u00e0 esistenti, per mantenere la coerenza.\n- Il nome del campo, che spesso fornisce indizi sul suo scopo.\n- Un set di dati campione contenuto nel campo (se non si tratta di un ID), per dedurre il tipo di informazioni memorizzate.\n</code></pre> <p>Questo approccio garantisce che i commenti generati siano pertinenti e utili, anche in assenza di documentazione preesistente.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#23-revisione-e-completamento","title":"2.3 - Revisione e Completamento","text":"<p>Dopo la generazione automatica, i commenti possono richiedere un intervento manuale da parte di un operatore esperto. Questo passaggio \u00e8 cruciale per colmare eventuali lacune o imprecisioni dell'AI, assicurando che la documentazione finale rifletta accuratamente la struttura e l'uso del database. Gli operatori possono modificare i commenti direttamente dall'interfaccia di admin prima di consolidarli come descrizioni ufficiali.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#3-copia-dei-commenti-nelle-descrizioni","title":"3 - Copia dei Commenti nelle Descrizioni","text":"<p>Thoth offre una funzionalit\u00e0 per trasformare i commenti generati o modificati in descrizioni ufficiali per tabelle e colonne, completando il processo di documentazione.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#31-selezione-per-laggiornamento","title":"3.1 - Selezione per l'Aggiornamento","text":"<p>Simile alla generazione, gli utenti possono selezionare dall'interfaccia di admin le tabelle e le colonne per cui desiderano aggiornare le descrizioni a partire dai commenti esistenti. Questa azione \u00e8 particolarmente utile quando i commenti sono stati rivisti e approvati.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#32-azione-di-copia","title":"3.2 - Azione di Copia","text":"<p>Con un semplice comando, come \"Copia il commento generato nella descrizione della colonna\", gli utenti possono trasferire il contenuto dei commenti nelle descrizioni ufficiali. Questo processo \u00e8 supportato da azioni amministrative che garantiscono un aggiornamento rapido e senza errori.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#33-verifica-e-finalizzazione","title":"3.3 - Verifica e Finalizzazione","text":"<p>Dopo aver copiato i commenti nelle descrizioni, gli utenti possono verificare che le informazioni siano corrette e coerenti con le esigenze del progetto. Questo passaggio finale assicura che la documentazione del database sia completa e pronta per l'uso.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#4-limitazione-sullaggiornamento-delle-ddl","title":"4 - Limitazione sull'Aggiornamento delle DDL","text":"<p>Quando le descrizioni degli elementi del database vengono aggiornate, \u00e8 importante notare che le dichiarazioni di Data Definition Language (DDL) non vengono automaticamente aggiornate per riflettere queste modifiche. Ci\u00f2 significa che le definizioni strutturali del database, come gli schemi delle tabelle, rimangono invariate nonostante le descrizioni aggiornate.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#41-soluzione-per-laggiornamento-delle-descrizioni-dello-schema","title":"4.1 - Soluzione per l'Aggiornamento delle Descrizioni dello Schema","text":"<p>Per affrontare questa limitazione, gli utenti possono seguire un processo specifico:</p> <pre><code>1. Scaricare i file CSV contenenti i dettagli delle tabelle e delle colonne dal sistema.\n2. Utilizzare un tool dedicato progettato per trasferire le descrizioni aggiornate dai file CSV allo schema del database.\n</code></pre> <p>Questo approccio consente la sincronizzazione manuale delle descrizioni con lo schema senza alterare direttamente il DDL.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#42-motivo-organizzativo-della-limitazione","title":"4.2 - Motivo Organizzativo della Limitazione","text":"<p>Il motivo di questa limitazione non \u00e8 tecnico ma organizzativo. Thoth \u00e8 stato progettato specificamente per utenti senza competenze tecniche. Di conseguenza, \u00e8 fondamentale garantire che Thoth non modifichi alcun elemento che rientri nelle responsabilit\u00e0 degli Amministratori di Database (DBA). Questa scelta di design aiuta a mantenere una chiara separazione dei compiti e previene modifiche accidentali a strutture critiche del database.</p>"},{"location":"5-reference_manual/5.2-comments/5.2.1-comments/#5-considerazioni-finali","title":"5 - Considerazioni Finali","text":"<p>L'uso dei commenti in Thoth rappresenta un potente strumento per migliorare la gestione dei database SQL. Grazie alla combinazione di un'interfaccia utente intuitiva e tecnologie di intelligenza artificiale, Thoth permette di superare le comuni difficolt\u00e0 legate alla documentazione dei database, offrendo un sistema flessibile e accessibile per generare, modificare e consolidare descrizioni di tabelle e colonne. Gli utenti sono incoraggiati a sfruttare queste funzionalit\u00e0 per mantenere i loro database ben documentati e facilmente comprensibili.</p>"},{"location":"5-reference_manual/5.3-workflow/5.3.1-preliminary_steps/","title":"Principale","text":"<p>ThothSL, il frontend di Thoth, \u00e8 piuttosto semplice. L'utente:</p> <ul> <li>sceglie lo spazio di lavoro</li> <li>seleziona quale tipo di generatore SQL (Basic, Titanic, ecc.) utilizzare per avviare il workflow</li> <li>decide, impostando i flag nella barra laterale sinistra, quali informazioni visualizzare durante l'esecuzione del workflow</li> <li>pone una domanda e, premendo invio, avvia il workflow.</li> </ul> <p>Per una comprensione completa dei parametri nel modulo di avvio del workflow, si prega di fare riferimento alla pagina Setup Frontend.</p> <p>Le prime fasi del workflow sono rappresentate di seguito:</p> Diagramma di flussoSpiegazione <pre><code>graph TD\n    A[Inizio: Domanda dell'Utente] --&gt; B[Inizializza Stato del Sistema]\n\n    B --&gt; C[Imposta Vector DB]\n    C --&gt; D[Ottieni Schema Tentativo]\n    D --&gt; E[Seleziona Strategia Generatore SQL]\n    E --&gt;|Basic o Titanic| F[Configura Stato con DB Manager, Schema, Domanda]\n    F --&gt; G[Valida Domanda]\n</code></pre> <p>Spiegazione dei Passaggi Preliminari:</p> <ul> <li>Inizio: Domanda dell'Utente - Il processo inizia quando un utente pone una domanda.</li> <li>Inizializza Stato del Sistema - Inizializza il gestore dello stato creando un dizionario di backup nello stato della sessione, se non esiste.    Questo metodo assicura che il gestore dello stato abbia un posto dove memorizzare i valori di backup per i flag della barra laterale, le impostazioni dello spazio di lavoro e altre chiavi persistenti. Viene chiamato prima di qualsiasi altra operazione di gestione dello stato.</li> <li>Imposta Vector DB - Inizializza e restituisce un'istanza del database vettoriale basata sulla configurazione dello spazio di lavoro fornita.</li> <li>Ottieni Schema Tentativo - Ottiene lo schema tentativo dal gestore del database. \u00c8 chiamato <code>tentativo</code> perch\u00e9 legge le definizioni complete dalle applicazioni backend salvate nel database Thoth come metadati in tabelle SQL DB, tabelle SQL, colonne SQL e Relazioni</li> <li> <p>Seleziona Strategia Generatore SQL - Legge la strategia da seguire come deciso dall'utente: Titanic significa un paio di tentativi con due diversi modelli grandi, con una grande finestra di contesto. Titanic \u00e8 adatto per schemi pi\u00f9 piccoli (sotto le 20-30 tabelle). Con questo approccio, l'AI viene fornita con:</p> <ul> <li>L'intero schema, arricchito con descrizioni di tabelle e colonne</li> <li>Valori estratti attraverso la similarit\u00e0 LSH</li> <li>Suggerimenti rilevanti</li> <li> <p>Esempi di triplette domanda+SQL+suggerimento come few-shots</p> <p>Un modello grande moderno con una finestra di contesto di almeno 200k token pu\u00f2 generare SQL senza dover ridurre lo schema. </p> <p>L'approccio Basic utilizza una cascata di modelli pi\u00f9 piccoli e meno costosi che lavora su uno schema di database ridotto. Se vuoi utilizzare modelli pi\u00f9 piccoli, o se lo schema supera le 20-30 tabelle, \u00e8 meglio adottare la strategia Basic, che riduce lo schema utilizzando la similarit\u00e0 LSH e il database vettoriale per identificare tabelle e colonne che sono pi\u00f9 probabilmente utili, escludendo quelle che appaiono irrilevanti.</p> </li> </ul> </li> <li> <p>Configura Stato con DB Manager, Schema, Domanda - Configura lo stato del sistema e inizializza tutti gli strumenti necessari per l'elaborazione delle query. Questa funzione crea e configura lo strumento di recupero entit\u00e0, lo strumento di recupero contesto, gli strumenti di selezione schema e inizializza lo stato del sistema con questi strumenti.</p> </li> <li>Valida Domanda - Esegue una validazione di base del modulo sull'input dell'utente prima della generazione SQL. Controlla se il testo \u00e8 significativo (non senza senso), nella lingua prevista e potenzialmente correlato al database. Restituisce un codice di stato (\"OK\", \"Meaningless\", \"Gibberish\", \"Unrecognized language\", o \"Out of scope\") e una breve spiegazione. Questa attivit\u00e0, eseguita da un Agente AI, \u00e8 intenzionalmente permissiva, concentrandosi solo sulla qualit\u00e0 strutturale piuttosto che sul contenuto semantico o sulla fattibilit\u00e0 SQL.</li> </ul>"},{"location":"5-reference_manual/5.3-workflow/5.3.2-main_workflow/","title":"Principale","text":"Diagramma di FlussoSpiegazione <pre><code>graph TD\n    A[Inizio: Domanda Utente] --&gt; B[Inizializza Stato Sistema]\n\n    B --&gt; C[Imposta Vector DB]\n    C --&gt; D[Ottieni Schema Tentativo]\n    D --&gt; E[Seleziona Strategia Generatore SQL]\n    E --&gt;|Basic o Titanic| F[Configura Stato con DB Manager, Schema, Domanda]\n    F --&gt; G[Valida Domanda]\n</code></pre> <p>Spiegazione del Flusso di Lavoro (Parte 1):</p> <ul> <li>Inizio: Domanda Utente - Il processo inizia quando un utente pone una domanda.</li> <li>Inizializza Stato Sistema - Inizializza il gestore di stato creando un dizionario di backup nello stato della sessione, se non esiste.    Questo metodo assicura che il gestore di stato abbia un posto dove memorizzare i valori di backup per i flag della barra laterale, le impostazioni dell'area di lavoro e altre chiavi persistenti. Viene chiamato prima di qualsiasi altra operazione di gestione dello stato.</li> <li>Imposta Vector DB - Inizializza e restituisce un'istanza del database vettoriale basata sulla configurazione dell'area di lavoro fornita.</li> <li>Ottieni Schema Tentativo - Ottiene lo schema tentativo dal gestore del database. \u00c8 chiamato <code>tentativo</code> perch\u00e9 legge le definizioni complete dalle applicazioni backend salvate nel database Thoth come metadati in tabelle SQL DB, colonne SQL e Relazioni</li> <li> <p>Seleziona Strategia Generatore SQL - Legge la strategia da seguire come deciso dall'utente: Titanic significa un paio di tentativi con due diversi modelli grandi, con una grande finestra di contesto. Titanic \u00e8 adatto per schemi pi\u00f9 piccoli (sotto 20-30 tabelle). Con questo approccio, l'AI viene fornita con:</p> <ul> <li>L'intero schema, arricchito con descrizioni di tabelle e colonne</li> <li>Valori estratti attraverso similarit\u00e0 LSH</li> <li>Suggerimenti rilevanti</li> <li> <p>Esempi di triplette domanda+SQL+suggerimento come few-shots</p> <p>Un modello grande moderno con una finestra di contesto di almeno 200k token pu\u00f2 generare SQL senza dover ridurre lo schema. </p> <p>L'approccio Basic utilizza una cascata di modelli pi\u00f9 piccoli ed economici che lavorano su uno schema di database ridotto. Se vuoi utilizzare modelli pi\u00f9 piccoli, o se lo schema supera le 20-30 tabelle, \u00e8 meglio adottare la strategia Basic, che riduce lo schema utilizzando la similarit\u00e0 LSH e il database vettoriale per identificare tabelle e colonne che hanno maggiori probabilit\u00e0 di essere utili, escludendo quelle che appaiono irrilevanti.</p> </li> </ul> </li> <li> <p>Configura Stato con DB Manager, Schema, Domanda - Configura lo stato del sistema e inizializza tutti gli strumenti necessari per l'elaborazione delle query. Questa funzione crea e configura lo strumento di recupero entit\u00e0, lo strumento di recupero contesto, gli strumenti di selezione schema e inizializza lo stato del sistema con questi strumenti.</p> </li> <li>Valida Domanda - Esegue una validazione di base del modulo sull'input dell'utente prima della generazione SQL. Controlla se il testo \u00e8 significativo (non senza senso), nella lingua prevista e potenzialmente correlato al database. Restituisce un codice di stato (\"OK\", \"Meaningless\", \"Gibberish\", \"Unrecognized language\", o \"Out of scope\") e una breve spiegazione. Questa attivit\u00e0, eseguita da un Agente AI, \u00e8 intenzionalmente permissiva, concentrandosi solo sulla qualit\u00e0 strutturale piuttosto che sul contenuto semantico o sulla fattibilit\u00e0 SQL.</li> </ul> <pre><code>graph TD\n    ... --&gt; K[Valida Domanda]\n    K --&gt;|Validazione Fallita| L[Restituisci: Validazione Domanda Fallita]\n    K --&gt;|Validazione Superata| M[Estrai Parole Chiave]\n    M --&gt; P[Recupera Suggerimenti da Vector DB]\n    P --&gt; Q[Recupera Esempi SQL Simili]\n    Q --&gt; R[Recupera Entit\u00e0 Basata su Similarit\u00e0 LSH]\n    R --&gt; S[Prepara Stringa Schema]\n    S --&gt; T[Ramifica Basato su Strategia Generatore]\n    T --&gt;|Titanic| U[Prepara Schema per Titanic]\n    U --&gt; V[Esegui Ciclo Generazione Titanic]\n    V --&gt; W[Controlla Successo Generazione]\n    W --&gt;|Successo| X[Mostra Risultati Query]\n    W --&gt;|Fallimento| Y[Fine: Tutti i Modelli Falliti]\n    T --&gt;|Basic| Z[Recupera Contesto per Basic]\n    Z --&gt; AA[Prepara Stringa Schema per Basic]\n    AA --&gt; AB[Seleziona Colonne]\n    AB --&gt; AE[Esegui Ciclo Generazione Basic]\n    AE --&gt; AF[Controlla Successo Generazione]\n    AF --&gt;|Successo| X\n    AF --&gt;|Fallimento| AG[Fallback a Titanic]\n    AG --&gt; U\n    X --&gt; AH[Controlla se Spiegazione Richiesta]\n    AH --&gt;|S\u00ec| AI[Genera Spiegazione]\n    AI --&gt; AJ[Restituisci: SQL Formattato con Spiegazione]\n    AH --&gt;|No| AK[Restituisci: Solo SQL Formattato]\n    Y --&gt; AL[Restituisci: Tutti gli Agenti AI Falliti]\n    M --&gt;|Tutti gli Agenti Falliti| AM[Restituisci: Estrazione Parole Chiave Fallita]\n    L --&gt; End\n    AJ --&gt; End\n    AK --&gt; End\n    AL --&gt; End\n    AM --&gt; End</code></pre>"},{"location":"5-reference_manual/5.3-workflow/5.3.3-basic_generation_workflow/","title":"Basic Generation Workflow","text":"<pre><code>flowchart TD\n    Start[Start] --&gt; LoopTU[Loop through Test Unit Agents]\n    LoopTU --&gt; SuccessCheckTU{Last Generation Successful?}\n    SuccessCheckTU --&gt;|Yes| End[End]\n    SuccessCheckTU --&gt;|No| GenTestUnits[Generate Titanic Test Units]\n    GenTestUnits --&gt; ShowMessageTU[Show Progress Messages if Enabled]\n    ShowMessageTU --&gt; TestSuccess[Test Generation Successful]\n    TestSuccess --&gt; LoopSQL[Loop through SQL Generator Agents]\n    LoopSQL --&gt; SuccessCheckSQL{Last Generation Successful?}\n    SuccessCheckSQL --&gt;|Yes| TrackSuccess[Track Successful Agent and Type]\n    TrackSuccess --&gt; ShowSuccess[Show Success Message if Enabled]\n    ShowSuccess --&gt; End\n    SuccessCheckSQL --&gt;|No| RunSQLAgent[Run SQL Generator Agent]\n    RunSQLAgent --&gt; ShowMessageSQL[Show SQL Generation Messages if Enabled]\n    ShowMessageSQL --&gt; SQLSuccess{SQL Generation Successful?}\n    SQLSuccess --&gt;|Yes| TrackSuccess\n    SQLSuccess --&gt;|No| ErrorCheck{Error Occurred?}\n    ErrorCheck --&gt;|Yes| ModelRetryCheck{ModelRetry Exception?}\n    ModelRetryCheck --&gt;|Yes| LogRetry[Log ModelRetry Exception]\n    LogRetry --&gt; RaiseRetry[Raise ModelRetry Exception]\n    RaiseRetry --&gt; End\n    ModelRetryCheck --&gt;|No| LogError[Log General Error]\n    LogError --&gt; ShowError[Show Error Message]\n    ShowError --&gt; NextAgent[Try Next Agent]\n    NextAgent --&gt; LoopSQL\n    ErrorCheck --&gt;|No| NoValidSQL[No Valid SQL Generated]\n    NoValidSQL --&gt; ShowNoValid[Show No Valid SQL Message if Enabled]\n    ShowNoValid --&gt; NextAgent</code></pre>"},{"location":"5-reference_manual/5.3-workflow/5.3.4-titanic_generation_workflow/","title":"Titanic GenerationWorkflow","text":"<pre><code>flowchart TD\n    Start[Start] --&gt; ConvertType[Convert Selected Generator to GeneratorType]\n    ConvertType --&gt; ReorderPool[Reorder Agents Pool Based on Generator Type]\n    ReorderPool --&gt; LoopTU[Loop through Test Unit Agents]\n    LoopTU --&gt; SuccessCheckTU{Last Generation Successful?}\n    SuccessCheckTU --&gt;|Yes| End[End]\n    SuccessCheckTU --&gt;|No| GenTestUnits[Generate Test Units]\n    GenTestUnits --&gt; ShowMessageTU[Show Progress Messages if Enabled]\n    ShowMessageTU --&gt; TestSuccess[Test Generation Successful]\n    TestSuccess --&gt; LoopSQL[Loop through Reordered SQL Generator Agents]\n    LoopSQL --&gt; SuccessCheckSQL{Last Generation Successful?}\n    SuccessCheckSQL --&gt;|Yes| TrackSuccess[Track Successful Agent and Type]\n    TrackSuccess --&gt; ShowSuccess[Show Success Message if Enabled]\n    ShowSuccess --&gt; End\n    SuccessCheckSQL --&gt;|No| RunSQLAgent[Run SQL Generator Agent]\n    RunSQLAgent --&gt; ShowMessageSQL[Show SQL Generation Messages if Enabled]\n    ShowMessageSQL --&gt; SQLSuccess{SQL Generation Successful?}\n    SQLSuccess --&gt;|Yes| TrackSuccess\n    SQLSuccess --&gt;|No| ErrorCheck{Error Occurred?}\n    ErrorCheck --&gt;|Yes| ModelRetryCheck{ModelRetry Exception?}\n    ModelRetryCheck --&gt;|Yes| LogRetry[Log ModelRetry Exception]\n    LogRetry --&gt; RaiseRetry[Raise ModelRetry Exception]\n    RaiseRetry --&gt; End\n    ModelRetryCheck --&gt;|No| LogError[Log General Error]\n    LogError --&gt; ShowError[Show Error Message]\n    ShowError --&gt; NextAgent[Try Next Agent]\n    NextAgent --&gt; LoopSQL\n    ErrorCheck --&gt;|No| NoValidSQL[No Valid SQL Generated]\n    NoValidSQL --&gt; ShowNoValid[Show No Valid SQL Message if Enabled]\n    ShowNoValid --&gt; NextAgent\n    NextAgent --&gt; AllFailedCheck{All Agents Failed?}\n    AllFailedCheck --&gt;|Yes| FallbackCheck{Fallback Attempted?}\n    FallbackCheck --&gt;|No| AttemptFallback[Attempt Fallback to Titanic Approach]\n    AttemptFallback --&gt; PrepareSchema[Prepare Schema String for Titanic]\n    PrepareSchema --&gt; RunTitanic[Run Titanic Generation Cycle]\n    RunTitanic --&gt; ShowTitanicMessages[Show Titanic Generation Messages if Enabled]\n    ShowTitanicMessages --&gt; End\n    FallbackCheck --&gt;|Yes| End\n    AllFailedCheck --&gt;|No| LoopSQL</code></pre>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/","title":"Hints","text":"<p>Gli \"hints\" sono un elemento fondamentale nel sistema Thoth per supportare il processo di conversione da testo a SQL (text-to-SQL). Questo documento fornisce una panoramica sul loro scopo, utilizzo e gestione all'interno del framework.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#1-introduzione-agli-hints","title":"1 - Introduzione agli Hints","text":"<p>Gli hints sono testi conservati in un database vettoriale, composti da un unico elemento: un testo esplicativo che chiarisce termini complessi o suggerisce interpretazioni non intuitive. Il loro obiettivo principale \u00e8 facilitare l'associazione tra i concetti espressi in una domanda o richiesta in linguaggio naturale e lo schema del database sottostante.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#11-ruolo-nel-processo-text-to-sql","title":"1.1 - Ruolo nel Processo Text-to-SQL","text":"<p>Nel contesto del sistema Thoth, ogni volta che un utente pone una domanda, il processo di generazione dell'SQL prevede una fase preliminare in cui vengono estratti hints \"simili\" o \"pertinenti\" alla richiesta. Questi hints vengono poi forniti come contesto aggiuntivo all'agente responsabile della generazione dell'SQL, migliorando la precisione e la coerenza delle query generate.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#12-benefici-degli-hints","title":"1.2 - Benefici degli Hints","text":"<p>Gli hints aiutano a colmare il divario tra il linguaggio naturale e la struttura tecnica di un database. Ad esempio, possono spiegare come un termine comune utilizzato dall'utente si traduca in una specifica colonna o tabella del database, oppure fornire suggerimenti su come interpretare una richiesta ambigua in un un contesto specifico.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#2-gestione-degli-hints","title":"2 - Gestione degli Hints","text":"<p>La gestione degli hints \u00e8 un processo chiave per garantire che il sistema Thoth possa sfruttare al meglio queste informazioni di supporto. Gli hints vengono creati, caricati e aggiornati attraverso procedure specifiche integrate nel framework.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#21-caricamento-nel-database-vettoriale","title":"2.1 - Caricamento nel Database Vettoriale","text":"<p>Gli hints possono essere caricati nel database vettoriale a partire da un file <code>dev.json</code>, fornito all'interno del framework BIRD. Questo file contiene una raccolta strutturata di dati, inclusi gli hints, che vengono elaborati e indicizzati nel database vettoriale per consentire un rapido recupero durante il processo di generazione dell'SQL. Questo approccio permette di arricchire il sistema con informazioni di contesto predefinite, pronte per essere utilizzate in risposta a domande pertinenti.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#22-creazione-e-aggiornamento-tramite-preprocessing","title":"2.2 - Creazione e Aggiornamento tramite Preprocessing","text":"<p>Gli hints possono essere generati o aggiornati durante le fasi di preprocessing del sistema Thoth. Questo processo consente di analizzare dati esistenti o nuovi input per creare hints che riflettano meglio le specificit\u00e0 del database o le esigenze degli utenti. Attraverso un'interfaccia dedicata, gli amministratori possono rivedere e ottimizzare gli hints per garantire che siano sempre rilevanti e utili.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#23-interfaccia-utente-per-la-gestione-crud","title":"2.3 - Interfaccia Utente per la Gestione (CRUD)","text":"<p>Thoth offre un'interfaccia utente (UI) per la gestione completa degli hints, permettendo operazioni di creazione, lettura, aggiornamento ed eliminazione (CRUD). Questa interfaccia consente agli utenti autorizzati di inserire nuovi hints, modificarli in base a feedback o cambiamenti nello schema del database, e rimuoverli se non pi\u00f9 necessari, mantenendo il database vettoriale sempre aggiornato e funzionale.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#3-utilizzo-pratico-degli-hints","title":"3 - Utilizzo Pratico degli Hints","text":"<p>Gli hints trovano applicazione in diversi scenari all'interno del sistema Thoth, migliorando l'interazione tra utenti e database.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#31-supporto-alla-generazione-di-sql","title":"3.1 - Supporto alla Generazione di SQL","text":"<p>Come gi\u00e0 accennato, gli hints vengono utilizzati come contesto aggiuntivo per l'agente che genera l'SQL. Quando una domanda viene posta, il sistema identifica gli hints pi\u00f9 rilevanti e li integra nel processo, aiutando a produrre query SQL pi\u00f9 accurate e aderenti alle intenzioni dell'utente.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#32-adattamento-a-database-specifici","title":"3.2 - Adattamento a Database Specifici","text":"<p>Gli hints possono essere personalizzati per riflettere le peculiarit\u00e0 di un database specifico. Questo significa che, anche in presenza di schemi complessi o terminologie uniche, gli hints possono guidare il sistema nella traduzione corretta delle richieste utente in query eseguibili.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#4-conclusione","title":"4 - Conclusione","text":"<p>Gli hints rappresentano uno strumento essenziale per migliorare l'efficacia del processo text-to-SQL nel sistema Thoth. Fornendo spiegazioni e contesti aggiuntivi, permettono una traduzione pi\u00f9 precisa delle richieste in linguaggio naturale in query SQL, facilitando l'interazione con database complessi. La loro gestione, attraverso caricamento da file, preprocessing e interfacce utente dedicate, garantisce che il sistema rimanga flessibile e adattabile alle esigenze degli utenti.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#5-esempi-di-hints","title":"5 - Esempi di Hints","text":"<p>Di seguito sono riportati alcuni esempi di hints estratti dal file <code>dev.json</code>. Questi esempi illustrano come gli hints aiutino a chiarire concetti complessi o suggeriscano interpretazioni non intuitive, facilitando l'associazione tra le domande poste dagli utenti e lo schema del database.</p>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#51-california_schools","title":"5.1 - california_schools","text":"<ul> <li>Database ID: california_schools</li> <li>Domanda: \"What is the highest eligible free rate for K-12 students in the schools in Alameda County?\"</li> <li> <p>Hint: \"Eligible free rate for K-12 = <code>Free Meal Count (K-12)</code> / <code>Enrollment (K-12)</code>\"</p> </li> <li> <p>Database ID: california_schools</p> </li> <li>Domanda: \"Please list the zip code of all the charter schools in Fresno County Office of Education.\"</li> <li> <p>Hint: \"Charter schools refers to <code>Charter School (Y/N)</code> = 1 in the table fprm\"</p> </li> <li> <p>Database ID: california_schools</p> </li> <li>Domanda: \"How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?\"</li> <li>Hint: \"Exclusively virtual refers to Virtual = 'F'\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#52-financial","title":"5.2 - financial","text":"<ul> <li>Database ID: financial</li> <li>Domanda: \"How many accounts who choose issuance after transaction are staying in East Bohemia region?\"</li> <li> <p>Hint: \"A3 contains the data of region; 'POPLATEK PO OBRATU' represents for 'issuance after transaction'.\"</p> </li> <li> <p>Database ID: financial</p> </li> <li>Domanda: \"List out the account numbers of female clients who are oldest and has lowest average salary, calculate the gap between this lowest average salary with the highest average salary?\"</li> <li>Hint: \"Female means gender = 'F'; A11 refers to average salary; Gap = highest average salary - lowest average salary; If the person A's birthdate &gt; B's birthdate, it means that person B is order than person A.\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#53-toxicology","title":"5.3 - toxicology","text":"<ul> <li>Database ID: toxicology</li> <li>Domanda: \"In the non-carcinogenic molecules, how many contain chlorine atoms?\"</li> <li> <p>Hint: \"non-carcinogenic molecules refers to label = '-'; chlorine atoms refers to element = 'cl'\"</p> </li> <li> <p>Database ID: toxicology</p> </li> <li>Domanda: \"What is the percentage of carbon in double-bond molecules?\"</li> <li>Hint: \"carbon refers to element = 'c'; double-bond molecules refers to bond_type = '='; percentage = DIVIDE(SUM(element = 'c'), COUNT(atom_id))\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#54-card_games","title":"5.4 - card_games","text":"<ul> <li>Database ID: card_games</li> <li>Domanda: \"What are the borderless cards available without powerful foils?\"</li> <li> <p>Hint: \"borderless' refers to borderColor; poweful foils refers to cardKingdomFoilId paired with cardKingdomId AND cardKingdomId is not null\"</p> </li> <li> <p>Database ID: card_games</p> </li> <li>Domanda: \"List all the mythic rarity print cards banned in gladiator format.\"</li> <li>Hint: \"mythic rarity printing refers to rarity = 'mythic'; card banned refers to status = 'Banned'; in gladiator format refers to format = 'gladiator';\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#55-codebase_community","title":"5.5 - codebase_community","text":"<ul> <li>Database ID: codebase_community</li> <li>Domanda: \"Which user has a higher reputation, Harlan or Jarrod Dixon?\"</li> <li> <p>Hint: \"\\\"Harlan\\\" and \\\"Jarrod Dixon\\\" are both DisplayName; highest reputation refers to Max(Reputation)\"</p> </li> <li> <p>Database ID: codebase_community</p> </li> <li>Domanda: \"What is the display name of the user who is the owner of the most valuable post?\"</li> <li>Hint: \"most valuable post refers to Max(FavoriteCount)\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#56-superhero","title":"5.6 - superhero","text":"<ul> <li>Database ID: superhero</li> <li>Domanda: \"Please list all the superpowers of 3-D Man.\"</li> <li> <p>Hint: \"3-D Man refers to superhero_name = '3-D Man'; superpowers refers to power_name\"</p> </li> <li> <p>Database ID: superhero</p> </li> <li>Domanda: \"How many superheroes have the super power of \\\"Super Strength\\\"?\"</li> <li>Hint: \"super power of \\\"Super Strength\\\" refers to power_name = 'Super Strength'\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#57-formula_1","title":"5.7 - formula_1","text":"<ul> <li>Database ID: formula_1</li> <li>Domanda: \"Please list the reference names of the drivers who are eliminated in the first period in race number 20.\"</li> <li> <p>Hint: \"driver reference name refers to driverRef; first qualifying period refers to q1; drivers who are eliminated in the first qualifying period refers to 5 drivers with MAX(q1); race number refers to raceId;\"</p> </li> <li> <p>Database ID: formula_1</p> </li> <li>Domanda: \"What is the surname of the driver with the best lap time in race number 19 in the second qualifying period?\"</li> <li>Hint: \"race number refers to raceId; second qualifying period refers to q2; best lap time refers to MIN(q2);\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#58-european_football_2","title":"5.8 - european_football_2","text":"<ul> <li>Database ID: european_football_2</li> <li>Domanda: \"Which player has the highest overall rating? Indicate the player's api id.\"</li> <li> <p>Hint: \"highest overall rating refers to MAX(overall_rating);\"</p> </li> <li> <p>Database ID: european_football_2</p> </li> <li>Domanda: \"What is the height of the tallest player? Indicate his name.\"</li> <li>Hint: \"tallest player refers to MAX(height);\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#59-trombosis_prediction","title":"5.9 - trombosis_prediction","text":"<ul> <li>Database ID: trombosis_prediction</li> <li>Domanda: \"Are there more in-patient or outpatient who were male? What is the deviation in percentage?\"</li> <li> <p>Hint: \"male refers to SEX = 'M'; in-patient refers to Admission = '+'; outpatient refers to Admission = '-'; percentage = DIVIDE(COUNT(ID) where SEX = 'M' and Admission = '+', COUNT(ID) where SEX = 'M' and Admission = '-')\"</p> </li> <li> <p>Database ID: trombosis_prediction</p> </li> <li>Domanda: \"What is the percentage of female patient were born after 1930?\"</li> <li>Hint: \"female refers to Sex = 'F'; patient who were born after 1930 refers to year(Birthday) &gt; '1930'; calculation = DIVIDE(COUNT(ID) where year(Birthday) &gt; '1930' and SEX = 'F'), (COUNT(ID) where SEX = 'F')\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#510-student_club","title":"5.10 - student_club","text":"<ul> <li>Database ID: student_club</li> <li>Domanda: \"What's Angela Sanders's major?\"</li> <li> <p>Hint: \"Angela Sanders is the full name; full name refers to first_name, last_name; major refers to major_name.\"</p> </li> <li> <p>Database ID: student_club</p> </li> <li>Domanda: \"How many students in the Student_Club are from the College of Engineering?\"</li> <li>Hint: \"\"</li> </ul>"},{"location":"5-reference_manual/5.4-hints/5.4-hints/#511-debit_card_specializing","title":"5.11 - debit_card_specializing","text":"<ul> <li>Database ID: debit_card_specializing</li> <li>Domanda: \"How many gas stations in CZE has Premium gas?\"</li> <li> <p>Hint: \"\"</p> </li> <li> <p>Database ID: debit_card_specializing</p> </li> <li>Domanda: \"What is the ratio of customers who pay in EUR against customers who pay in CZK?\"</li> <li>Hint: \"ratio of customers who pay in EUR against customers who pay in CZK = count(Currency = 'EUR') / count(Currency = 'CZK').\"</li> </ul>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/","title":"Questions","text":"<p>Le \"Questions\" rappresentano un elemento fondamentale nel sistema Thoth per la generazione di query SQL. Questo documento fornisce una panoramica sul loro ruolo e sulla loro importanza all'interno del processo, spiegando come vengono utilizzate per migliorare l'accuratezza e la pertinenza delle query generate.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#1-introduzione-alle-questions","title":"1 - Introduzione alle Questions","text":"<p>Le Questions sono documenti strutturati conservati in un database vettoriale, progettati per supportare il processo di generazione automatica di SQL in Thoth. Ogni Question \u00e8 composta da tre elementi principali:</p> <ul> <li>Domanda (Question): Una richiesta o interrogazione formulata in linguaggio naturale, che rappresenta il tipo di informazione che un utente potrebbe cercare.</li> <li>Hint: Un suggerimento o contesto aggiuntivo che aiuta a chiarire l'intento della domanda, spesso fornendo dettagli sul database o sulle tabelle rilevanti, sulle formule utilizzate, su termini specifici che non trovano immediata rispondenza in tabelle e colonne, ecc..</li> <li>SQL: La query SQL corrispondente che risponde alla domanda, data l'informazione contenuta nell'hint.</li> </ul> <p>Questa combinazione di elementi permette di creare un legame tra l'intento dell'utente espresso in linguaggio naturale e la sua traduzione in una query SQL eseguibile.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#2-ruolo-delle-questions-nel-processo-di-generazione-sql","title":"2 - Ruolo delle Questions nel Processo di Generazione SQL","text":""},{"location":"5-reference_manual/5.5-questions/5.5-questions/#21-contesto-per-lagente-di-generazione","title":"2.1 - Contesto per l'Agente di Generazione","text":"<p>Nel sistema Thoth, quando un utente pone una domanda, il processo di generazione SQL non parte da zero. Al contrario, nelle fasi preliminari, il sistema estrae dal database vettoriale alcune Questions pertinenti, ossia domande simili o correlate a quella posta dall'utente. Queste Questions vengono fornite come contesto all'agente AI responsabile della generazione della query SQL.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#22-utilizzo-come-few-shot-examples","title":"2.2 - Utilizzo come Few-Shot Examples","text":"<p>Le Questions fungono da esempi pratici, noti come \"few-shot examples\", all'interno del prompt utilizzato dall'agente di generazione SQL. Includendo nel prompt una serie di triplette (domanda, hint, SQL), l'agente pu\u00f2 apprendere dai pattern e dalle strutture di queste esempi, migliorando la sua capacit\u00e0 di generare query SQL accurate e rilevanti per la nuova domanda dell'utente. Questo approccio consente di guidare l'agente verso soluzioni che rispettano il contesto del database e l'intento dell'utente.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#23-selezione-dinamica-e-fallback","title":"2.3 - Selezione Dinamica e Fallback","text":"<p>Thoth seleziona dinamicamente le Questions pi\u00f9 rilevanti dal database vettoriale in base alla somiglianza con la domanda dell'utente. Se non vengono trovate abbastanza Questions pertinenti, il sistema ricorre a esempi predefiniti (fallback) per garantire che l'agente abbia comunque un contesto sufficiente per operare. Questo meccanismo assicura che il processo di generazione SQL sia robusto anche in assenza di dati specifici nel database vettoriale.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#3-benefici-delle-questions","title":"3 - Benefici delle Questions","text":""},{"location":"5-reference_manual/5.5-questions/5.5-questions/#31-miglioramento-della-precisione","title":"3.1 - Miglioramento della Precisione","text":"<p>L'uso delle Questions come contesto aumenta significativamente la precisione delle query SQL generate. Fornendo esempi concreti di come una domanda in linguaggio naturale si traduce in SQL, l'agente pu\u00f2 meglio comprendere l'intento dell'utente e produrre risultati pi\u00f9 accurati.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#32-adattamento-al-contesto-del-database","title":"3.2 - Adattamento al Contesto del Database","text":"<p>Le Questions includono spesso hint che forniscono informazioni specifiche sul database, come la struttura delle tabelle o i campi disponibili. Questo aiuta l'agente a generare query che sono non solo sintatticamente corrette, ma anche semanticamente appropriate per il database in uso.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#33-esperienza-utente-migliorata","title":"3.3 - Esperienza Utente Migliorata","text":"<p>Grazie alle Questions, gli utenti ottengono risposte pi\u00f9 rapide e pertinenti alle loro richieste. Questo si traduce in un'esperienza utente pi\u00f9 fluida, riducendo la necessit\u00e0 di riformulare domande o correggere manualmente le query generate.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#4-inserimento-delle-questions-nel-database-vettoriale","title":"4 - Inserimento delle Questions nel Database Vettoriale","text":"<p>Le Questions possono essere inserite nel database vettoriale di Thoth attraverso due modalit\u00e0 distinte, offrendo flessibilit\u00e0 agli amministratori e agli utenti del sistema:</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#41-funzione-di-preprocessing-del-backend","title":"4.1 - Funzione di Preprocessing del Backend","text":"<p>Thoth fornisce una specifica funzione di preprocessing nel backend che consente di caricare e strutturare le Questions nel database vettoriale. Questa funzione \u00e8 progettata per automatizzare l'inserimento di grandi quantit\u00e0 di dati, facilitando l'aggiornamento e l'espansione del database con nuove triplette di domande, hint e query SQL. In particolare, legge i dati da un file JSON denominato <code>dev.json</code>. Poich\u00e9 questo file \u00e8 fornito da BIRD, il framework di test pi\u00f9 noto nell'ambito della ricerca text-to-SQL, si \u00e8 deciso di facilitarne l'uso, rendendo il processo di integrazione pi\u00f9 semplice ed efficiente. Questa funzione \u00e8 particolarmente utile per inizializzare o aggiornare il database con esempi predefiniti o raccolti da fonti esterne.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#42-inserimento-tramite-ui-del-backend","title":"4.2 - Inserimento tramite UI del Backend","text":"<p>Oltre alla funzione di preprocessing, Thoth offre un'interfaccia utente (UI) dedicata nel backend che permette agli utenti autorizzati di inserire manualmente nuove Questions. Attraverso questa UI, \u00e8 possibile aggiungere record individuali, specificando direttamente la domanda, l'hint e la query SQL associata. Questo metodo \u00e8 ideale per aggiornamenti mirati o per testare nuove Questions senza la necessit\u00e0 di processi automatizzati.</p>"},{"location":"5-reference_manual/5.5-questions/5.5-questions/#5-conclusione","title":"5 - Conclusione","text":"<p>Le Questions sono un pilastro del sistema Thoth, consentendo di trasformare domande in linguaggio naturale in query SQL efficaci attraverso un uso intelligente di esempi contestuali. Integrando domande, hint e query SQL in un database vettoriale, Thoth offre un supporto prezioso agli utenti, migliorando la qualit\u00e0 e l'efficienza del processo di interrogazione dei database.</p>"},{"location":"5-reference_manual/5.6-columns/5.6-columns/","title":"Columns","text":""},{"location":"5-reference_manual/5.7-lsh_processing/5.7-lsh_preprocessing/","title":"LSH","text":""}]}